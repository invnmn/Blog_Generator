function NT(n,r){for(var e=0;e<r.length;e++){const t=r[e];if(typeof t!="string"&&!Array.isArray(t)){for(const o in t)if(o!=="default"&&!(o in n)){const i=Object.getOwnPropertyDescriptor(t,o);i&&Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:()=>t[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function DT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jx={exports:{}},nh={},Ix={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),RT=Symbol.for("react.portal"),jT=Symbol.for("react.fragment"),IT=Symbol.for("react.strict_mode"),FT=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),UT=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),HT=Symbol.for("react.memo"),WT=Symbol.for("react.lazy"),jw=Symbol.iterator;function $T(n){return n===null||typeof n!="object"?null:(n=jw&&n[jw]||n["@@iterator"],typeof n=="function"?n:null)}var Fx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx=Object.assign,Ux={};function Gl(n,r,e){this.props=n,this.context=r,this.refs=Ux,this.updater=e||Fx}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(n,r){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,r,"setState")};Gl.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function zx(){}zx.prototype=Gl.prototype;function Xm(n,r,e){this.props=n,this.context=r,this.refs=Ux,this.updater=e||Fx}var Jm=Xm.prototype=new zx;Jm.constructor=Xm;Vx(Jm,Gl.prototype);Jm.isPureReactComponent=!0;var Iw=Array.isArray,Bx=Object.prototype.hasOwnProperty,Zm={current:null},Hx={key:!0,ref:!0,__self:!0,__source:!0};function Wx(n,r,e){var t,o={},i=null,s=null;if(r!=null)for(t in r.ref!==void 0&&(s=r.ref),r.key!==void 0&&(i=""+r.key),r)Bx.call(r,t)&&!Hx.hasOwnProperty(t)&&(o[t]=r[t]);var l=arguments.length-2;if(l===1)o.children=e;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}if(n&&n.defaultProps)for(t in l=n.defaultProps,l)o[t]===void 0&&(o[t]=l[t]);return{$$typeof:$c,type:n,key:i,ref:s,props:o,_owner:Zm.current}}function KT(n,r){return{$$typeof:$c,type:n.type,key:r,ref:n.ref,props:n.props,_owner:n._owner}}function Qm(n){return typeof n=="object"&&n!==null&&n.$$typeof===$c}function GT(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return r[e]})}var Fw=/\/+/g;function fv(n,r){return typeof n=="object"&&n!==null&&n.key!=null?GT(""+n.key):r.toString(36)}function dd(n,r,e,t,o){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case $c:case RT:s=!0}}if(s)return s=n,o=o(s),n=t===""?"."+fv(s,0):t,Iw(o)?(e="",n!=null&&(e=n.replace(Fw,"$&/")+"/"),dd(o,r,e,"",function(f){return f})):o!=null&&(Qm(o)&&(o=KT(o,e+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Fw,"$&/")+"/")+n)),r.push(o)),1;if(s=0,t=t===""?".":t+":",Iw(n))for(var l=0;l<n.length;l++){i=n[l];var c=t+fv(i,l);s+=dd(i,r,e,c,o)}else if(c=$T(n),typeof c=="function")for(n=c.call(n),l=0;!(i=n.next()).done;)i=i.value,c=t+fv(i,l++),s+=dd(i,r,e,c,o);else if(i==="object")throw r=String(n),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return s}function Uf(n,r,e){if(n==null)return n;var t=[],o=0;return dd(n,t,"","",function(i){return r.call(e,i,o++)}),t}function qT(n){if(n._status===-1){var r=n._result;r=r(),r.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=r)}if(n._status===1)return n._result.default;throw n._result}var In={current:null},pd={transition:null},YT={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:pd,ReactCurrentOwner:Zm};function $x(){throw Error("act(...) is not supported in production builds of React.")}Ft.Children={map:Uf,forEach:function(n,r,e){Uf(n,function(){r.apply(this,arguments)},e)},count:function(n){var r=0;return Uf(n,function(){r++}),r},toArray:function(n){return Uf(n,function(r){return r})||[]},only:function(n){if(!Qm(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ft.Component=Gl;Ft.Fragment=jT;Ft.Profiler=FT;Ft.PureComponent=Xm;Ft.StrictMode=IT;Ft.Suspense=BT;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YT;Ft.act=$x;Ft.cloneElement=function(n,r,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var t=Vx({},n.props),o=n.key,i=n.ref,s=n._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,s=Zm.current),r.key!==void 0&&(o=""+r.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in r)Bx.call(r,c)&&!Hx.hasOwnProperty(c)&&(t[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)t.children=e;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];t.children=l}return{$$typeof:$c,type:n.type,key:o,ref:i,props:t,_owner:s}};Ft.createContext=function(n){return n={$$typeof:UT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:VT,_context:n},n.Consumer=n};Ft.createElement=Wx;Ft.createFactory=function(n){var r=Wx.bind(null,n);return r.type=n,r};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(n){return{$$typeof:zT,render:n}};Ft.isValidElement=Qm;Ft.lazy=function(n){return{$$typeof:WT,_payload:{_status:-1,_result:n},_init:qT}};Ft.memo=function(n,r){return{$$typeof:HT,type:n,compare:r===void 0?null:r}};Ft.startTransition=function(n){var r=pd.transition;pd.transition={};try{n()}finally{pd.transition=r}};Ft.unstable_act=$x;Ft.useCallback=function(n,r){return In.current.useCallback(n,r)};Ft.useContext=function(n){return In.current.useContext(n)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(n){return In.current.useDeferredValue(n)};Ft.useEffect=function(n,r){return In.current.useEffect(n,r)};Ft.useId=function(){return In.current.useId()};Ft.useImperativeHandle=function(n,r,e){return In.current.useImperativeHandle(n,r,e)};Ft.useInsertionEffect=function(n,r){return In.current.useInsertionEffect(n,r)};Ft.useLayoutEffect=function(n,r){return In.current.useLayoutEffect(n,r)};Ft.useMemo=function(n,r){return In.current.useMemo(n,r)};Ft.useReducer=function(n,r,e){return In.current.useReducer(n,r,e)};Ft.useRef=function(n){return In.current.useRef(n)};Ft.useState=function(n){return In.current.useState(n)};Ft.useSyncExternalStore=function(n,r,e){return In.current.useSyncExternalStore(n,r,e)};Ft.useTransition=function(){return In.current.useTransition()};Ft.version="18.3.1";Ix.exports=Ft;var Ve=Ix.exports;const XT=DT(Ve),JT=NT({__proto__:null,default:XT},[Ve]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=Ve,QT=Symbol.for("react.element"),eP=Symbol.for("react.fragment"),tP=Object.prototype.hasOwnProperty,rP=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nP={key:!0,ref:!0,__self:!0,__source:!0};function Kx(n,r,e){var t,o={},i=null,s=null;e!==void 0&&(i=""+e),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(s=r.ref);for(t in r)tP.call(r,t)&&!nP.hasOwnProperty(t)&&(o[t]=r[t]);if(n&&n.defaultProps)for(t in r=n.defaultProps,r)o[t]===void 0&&(o[t]=r[t]);return{$$typeof:QT,type:n,key:i,ref:s,props:o,_owner:rP.current}}nh.Fragment=eP;nh.jsx=Kx;nh.jsxs=Kx;jx.exports=nh;var Ye=jx.exports,Gx={exports:{}},Oo={},qx={exports:{}},Yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function r(oe,xe){var De=oe.length;oe.push(xe);e:for(;0<De;){var se=De-1>>>1,Ee=oe[se];if(0<o(Ee,xe))oe[se]=xe,oe[De]=Ee,De=se;else break e}}function e(oe){return oe.length===0?null:oe[0]}function t(oe){if(oe.length===0)return null;var xe=oe[0],De=oe.pop();if(De!==xe){oe[0]=De;e:for(var se=0,Ee=oe.length,ze=Ee>>>1;se<ze;){var Pe=2*(se+1)-1,Ce=oe[Pe],le=Pe+1,be=oe[le];if(0>o(Ce,De))le<Ee&&0>o(be,Ce)?(oe[se]=be,oe[le]=De,se=le):(oe[se]=Ce,oe[Pe]=De,se=Pe);else if(le<Ee&&0>o(be,De))oe[se]=be,oe[le]=De,se=le;else break e}}return xe}function o(oe,xe){var De=oe.sortIndex-xe.sortIndex;return De!==0?De:oe.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,g=null,m=3,y=!1,_=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(oe){for(var xe=e(f);xe!==null;){if(xe.callback===null)t(f);else if(xe.startTime<=oe)t(f),xe.sortIndex=xe.expirationTime,r(c,xe);else break;xe=e(f)}}function N(oe){if(x=!1,E(oe),!_)if(e(c)!==null)_=!0,M(K);else{var xe=e(f);xe!==null&&we(N,xe.startTime-oe)}}function K(oe,xe){_=!1,x&&(x=!1,S(Q),Q=-1),y=!0;var De=m;try{for(E(xe),g=e(c);g!==null&&(!(g.expirationTime>xe)||oe&&!U());){var se=g.callback;if(typeof se=="function"){g.callback=null,m=g.priorityLevel;var Ee=se(g.expirationTime<=xe);xe=n.unstable_now(),typeof Ee=="function"?g.callback=Ee:g===e(c)&&t(c),E(xe)}else t(c);g=e(c)}if(g!==null)var ze=!0;else{var Pe=e(f);Pe!==null&&we(N,Pe.startTime-xe),ze=!1}return ze}finally{g=null,m=De,y=!1}}var re=!1,ue=null,Q=-1,$=5,te=-1;function U(){return!(n.unstable_now()-te<$)}function R(){if(ue!==null){var oe=n.unstable_now();te=oe;var xe=!0;try{xe=ue(!0,oe)}finally{xe?W():(re=!1,ue=null)}}else re=!1}var W;if(typeof T=="function")W=function(){T(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=R,W=function(){ie.postMessage(null)}}else W=function(){C(R,0)};function M(oe){ue=oe,re||(re=!0,W())}function we(oe,xe){Q=C(function(){oe(n.unstable_now())},xe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){_||y||(_=!0,M(K))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return e(c)},n.unstable_next=function(oe){switch(m){case 1:case 2:case 3:var xe=3;break;default:xe=m}var De=m;m=xe;try{return oe()}finally{m=De}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,xe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var De=m;m=oe;try{return xe()}finally{m=De}},n.unstable_scheduleCallback=function(oe,xe,De){var se=n.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?se+De:se):De=se,oe){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=De+Ee,oe={id:h++,callback:xe,priorityLevel:oe,startTime:De,expirationTime:Ee,sortIndex:-1},De>se?(oe.sortIndex=De,r(f,oe),e(c)===null&&oe===e(f)&&(x?(S(Q),Q=-1):x=!0,we(N,De-se))):(oe.sortIndex=Ee,r(c,oe),_||y||(_=!0,M(K))),oe},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(oe){var xe=m;return function(){var De=m;m=xe;try{return oe.apply(this,arguments)}finally{m=De}}}})(Yx);qx.exports=Yx;var oP=qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=Ve,So=oP;function Ke(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)r+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xx=new Set,xc={};function Ms(n,r){Il(n,r),Il(n+"Capture",r)}function Il(n,r){for(xc[n]=r,n=0;n<r.length;n++)Xx.add(r[n])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,aP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},Uw={};function sP(n){return wg.call(Uw,n)?!0:wg.call(Vw,n)?!1:aP.test(n)?Uw[n]=!0:(Vw[n]=!0,!1)}function lP(n,r,e,t){if(e!==null&&e.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return t?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function uP(n,r,e,t){if(r===null||typeof r>"u"||lP(n,r,e,t))return!0;if(t)return!1;if(e!==null)switch(e.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Fn(n,r,e,t,o,i,s){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=t,this.attributeNamespace=o,this.mustUseProperty=e,this.propertyName=n,this.type=r,this.sanitizeURL=i,this.removeEmptyString=s}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){an[n]=new Fn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];an[r]=new Fn(r,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){an[n]=new Fn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){an[n]=new Fn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){an[n]=new Fn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){an[n]=new Fn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){an[n]=new Fn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){an[n]=new Fn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){an[n]=new Fn(n,5,!1,n.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(ey,ty);an[r]=new Fn(r,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(ey,ty);an[r]=new Fn(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(ey,ty);an[r]=new Fn(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){an[n]=new Fn(n,1,!1,n.toLowerCase(),null,!1,!1)});an.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){an[n]=new Fn(n,1,!1,n.toLowerCase(),null,!0,!0)});function ry(n,r,e,t){var o=an.hasOwnProperty(r)?an[r]:null;(o!==null?o.type!==0:t||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(uP(r,e,o,t)&&(e=null),t||o===null?sP(r)&&(e===null?n.removeAttribute(r):n.setAttribute(r,""+e)):o.mustUseProperty?n[o.propertyName]=e===null?o.type===3?!1:"":e:(r=o.attributeName,t=o.attributeNamespace,e===null?n.removeAttribute(r):(o=o.type,e=o===3||o===4&&e===!0?"":""+e,t?n.setAttributeNS(t,r,e):n.setAttribute(r,e))))}var Ki=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zf=Symbol.for("react.element"),ll=Symbol.for("react.portal"),ul=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),bg=Symbol.for("react.suspense"),xg=Symbol.for("react.suspense_list"),iy=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),Qx=Symbol.for("react.offscreen"),zw=Symbol.iterator;function Lu(n){return n===null||typeof n!="object"?null:(n=zw&&n[zw]||n["@@iterator"],typeof n=="function"?n:null)}var wr=Object.assign,dv;function Ku(n){if(dv===void 0)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);dv=r&&r[1]||""}return`
`+dv+n}var pv=!1;function hv(n,r){if(!n||pv)return"";pv=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(f){var t=f}Reflect.construct(n,[],r)}else{try{r.call()}catch(f){t=f}n.call(r.prototype)}else{try{throw Error()}catch(f){t=f}n()}}catch(f){if(f&&t&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),i=t.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var c=`
`+o[s].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=s&&0<=l);break}}}finally{pv=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?Ku(n):""}function cP(n){switch(n.tag){case 5:return Ku(n.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return n=hv(n.type,!1),n;case 11:return n=hv(n.type.render,!1),n;case 1:return n=hv(n.type,!0),n;default:return""}}function Cg(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ul:return"Fragment";case ll:return"Portal";case _g:return"Profiler";case ny:return"StrictMode";case bg:return"Suspense";case xg:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Zx:return(n.displayName||"Context")+".Consumer";case Jx:return(n._context.displayName||"Context")+".Provider";case oy:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case iy:return r=n.displayName||null,r!==null?r:Cg(n.type)||"Memo";case ma:r=n._payload,n=n._init;try{return Cg(n(r))}catch{}}return null}function fP(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cg(r);case 8:return r===ny?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eC(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dP(n){var r=eC(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),t=""+n[r];if(!n.hasOwnProperty(r)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var o=e.get,i=e.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return o.call(this)},set:function(s){t=""+s,i.call(this,s)}}),Object.defineProperty(n,r,{enumerable:e.enumerable}),{getValue:function(){return t},setValue:function(s){t=""+s},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Bf(n){n._valueTracker||(n._valueTracker=dP(n))}function tC(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var e=r.getValue(),t="";return n&&(t=eC(n)?n.checked?"true":"false":n.value),n=t,n!==e?(r.setValue(n),!0):!1}function Ld(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Sg(n,r){var e=r.checked;return wr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function Bw(n,r){var e=r.defaultValue==null?"":r.defaultValue,t=r.checked!=null?r.checked:r.defaultChecked;e=Fa(r.value!=null?r.value:e),n._wrapperState={initialChecked:t,initialValue:e,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function rC(n,r){r=r.checked,r!=null&&ry(n,"checked",r,!1)}function Og(n,r){rC(n,r);var e=Fa(r.value),t=r.type;if(e!=null)t==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(t==="submit"||t==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Eg(n,r.type,e):r.hasOwnProperty("defaultValue")&&Eg(n,r.type,Fa(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Hw(n,r,e){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var t=r.type;if(!(t!=="submit"&&t!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,e||r===n.value||(n.value=r),n.defaultValue=r}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Eg(n,r,e){(r!=="number"||Ld(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var Gu=Array.isArray;function Pl(n,r,e,t){if(n=n.options,r){r={};for(var o=0;o<e.length;o++)r["$"+e[o]]=!0;for(e=0;e<n.length;e++)o=r.hasOwnProperty("$"+n[e].value),n[e].selected!==o&&(n[e].selected=o),o&&t&&(n[e].defaultSelected=!0)}else{for(e=""+Fa(e),r=null,o=0;o<n.length;o++){if(n[o].value===e){n[o].selected=!0,t&&(n[o].defaultSelected=!0);return}r!==null||n[o].disabled||(r=n[o])}r!==null&&(r.selected=!0)}}function Tg(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return wr({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ww(n,r){var e=r.value;if(e==null){if(e=r.children,r=r.defaultValue,e!=null){if(r!=null)throw Error(Ke(92));if(Gu(e)){if(1<e.length)throw Error(Ke(93));e=e[0]}r=e}r==null&&(r=""),e=r}n._wrapperState={initialValue:Fa(e)}}function nC(n,r){var e=Fa(r.value),t=Fa(r.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),r.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),t!=null&&(n.defaultValue=""+t)}function $w(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function oC(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?oC(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hf,iC=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,e,t,o){MSApp.execUnsafeLocalFunction(function(){return n(r,e,t,o)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Hf=Hf||document.createElement("div"),Hf.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Hf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Cc(n,r){if(r){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=r;return}}n.textContent=r}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pP=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(n){pP.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Qu[r]=Qu[n]})});function aC(n,r,e){return r==null||typeof r=="boolean"||r===""?"":e||typeof r!="number"||r===0||Qu.hasOwnProperty(n)&&Qu[n]?(""+r).trim():r+"px"}function sC(n,r){n=n.style;for(var e in r)if(r.hasOwnProperty(e)){var t=e.indexOf("--")===0,o=aC(e,r[e],t);e==="float"&&(e="cssFloat"),t?n.setProperty(e,o):n[e]=o}}var hP=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(n,r){if(r){if(hP[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Ke(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Ke(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Ke(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Ke(62))}}function Ag(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=null;function ay(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mg=null,kl=null,Al=null;function Kw(n){if(n=qc(n)){if(typeof Mg!="function")throw Error(Ke(280));var r=n.stateNode;r&&(r=lh(r),Mg(n.stateNode,n.type,r))}}function lC(n){kl?Al?Al.push(n):Al=[n]:kl=n}function uC(){if(kl){var n=kl,r=Al;if(Al=kl=null,Kw(n),r)for(n=0;n<r.length;n++)Kw(r[n])}}function cC(n,r){return n(r)}function fC(){}var vv=!1;function dC(n,r,e){if(vv)return n(r,e);vv=!0;try{return cC(n,r,e)}finally{vv=!1,(kl!==null||Al!==null)&&(fC(),uC())}}function Sc(n,r){var e=n.stateNode;if(e===null)return null;var t=lh(e);if(t===null)return null;e=t[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(n=n.type,t=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!t;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Ke(231,r,typeof e));return e}var Ng=!1;if(Ui)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Ng=!1}function vP(n,r,e,t,o,i,s,l,c){var f=Array.prototype.slice.call(arguments,3);try{r.apply(e,f)}catch(h){this.onError(h)}}var ec=!1,Md=null,Nd=!1,Dg=null,gP={onError:function(n){ec=!0,Md=n}};function mP(n,r,e,t,o,i,s,l,c){ec=!1,Md=null,vP.apply(gP,arguments)}function yP(n,r,e,t,o,i,s,l,c){if(mP.apply(this,arguments),ec){if(ec){var f=Md;ec=!1,Md=null}else throw Error(Ke(198));Nd||(Nd=!0,Dg=f)}}function Ns(n){var r=n,e=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(e=r.return),n=r.return;while(n)}return r.tag===3?e:null}function pC(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Gw(n){if(Ns(n)!==n)throw Error(Ke(188))}function wP(n){var r=n.alternate;if(!r){if(r=Ns(n),r===null)throw Error(Ke(188));return r!==n?null:n}for(var e=n,t=r;;){var o=e.return;if(o===null)break;var i=o.alternate;if(i===null){if(t=o.return,t!==null){e=t;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===e)return Gw(o),n;if(i===t)return Gw(o),r;i=i.sibling}throw Error(Ke(188))}if(e.return!==t.return)e=o,t=i;else{for(var s=!1,l=o.child;l;){if(l===e){s=!0,e=o,t=i;break}if(l===t){s=!0,t=o,e=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===e){s=!0,e=i,t=o;break}if(l===t){s=!0,t=i,e=o;break}l=l.sibling}if(!s)throw Error(Ke(189))}}if(e.alternate!==t)throw Error(Ke(190))}if(e.tag!==3)throw Error(Ke(188));return e.stateNode.current===e?n:r}function hC(n){return n=wP(n),n!==null?vC(n):null}function vC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=vC(n);if(r!==null)return r;n=n.sibling}return null}var gC=So.unstable_scheduleCallback,qw=So.unstable_cancelCallback,_P=So.unstable_shouldYield,bP=So.unstable_requestPaint,Ar=So.unstable_now,xP=So.unstable_getCurrentPriorityLevel,sy=So.unstable_ImmediatePriority,mC=So.unstable_UserBlockingPriority,Dd=So.unstable_NormalPriority,CP=So.unstable_LowPriority,yC=So.unstable_IdlePriority,oh=null,hi=null;function SP(n){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(oh,n,void 0,(n.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:TP,OP=Math.log,EP=Math.LN2;function TP(n){return n>>>=0,n===0?32:31-(OP(n)/EP|0)|0}var Wf=64,$f=4194304;function qu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Rd(n,r){var e=n.pendingLanes;if(e===0)return 0;var t=0,o=n.suspendedLanes,i=n.pingedLanes,s=e&268435455;if(s!==0){var l=s&~o;l!==0?t=qu(l):(i&=s,i!==0&&(t=qu(i)))}else s=e&~o,s!==0?t=qu(s):i!==0&&(t=qu(i));if(t===0)return 0;if(r!==0&&r!==t&&!(r&o)&&(o=t&-t,i=r&-r,o>=i||o===16&&(i&4194240)!==0))return r;if(t&4&&(t|=e&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=t;0<r;)e=31-ei(r),o=1<<e,t|=n[e],r&=~o;return t}function PP(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kP(n,r){for(var e=n.suspendedLanes,t=n.pingedLanes,o=n.expirationTimes,i=n.pendingLanes;0<i;){var s=31-ei(i),l=1<<s,c=o[s];c===-1?(!(l&e)||l&t)&&(o[s]=PP(l,r)):c<=r&&(n.expiredLanes|=l),i&=~l}}function Rg(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wC(){var n=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),n}function gv(n){for(var r=[],e=0;31>e;e++)r.push(n);return r}function Kc(n,r,e){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-ei(r),n[r]=e}function AP(n,r){var e=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var t=n.eventTimes;for(n=n.expirationTimes;0<e;){var o=31-ei(e),i=1<<o;r[o]=0,t[o]=-1,n[o]=-1,e&=~i}}function ly(n,r){var e=n.entangledLanes|=r;for(n=n.entanglements;e;){var t=31-ei(e),o=1<<t;o&r|n[t]&r&&(n[t]|=r),e&=~o}}var Yt=0;function _C(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var bC,uy,xC,CC,SC,jg=!1,Kf=[],ka=null,Aa=null,La=null,Oc=new Map,Ec=new Map,xa=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(n,r){switch(n){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Oc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(r.pointerId)}}function Nu(n,r,e,t,o,i){return n===null||n.nativeEvent!==i?(n={blockedOn:r,domEventName:e,eventSystemFlags:t,nativeEvent:i,targetContainers:[o]},r!==null&&(r=qc(r),r!==null&&uy(r)),n):(n.eventSystemFlags|=t,r=n.targetContainers,o!==null&&r.indexOf(o)===-1&&r.push(o),n)}function MP(n,r,e,t,o){switch(r){case"focusin":return ka=Nu(ka,n,r,e,t,o),!0;case"dragenter":return Aa=Nu(Aa,n,r,e,t,o),!0;case"mouseover":return La=Nu(La,n,r,e,t,o),!0;case"pointerover":var i=o.pointerId;return Oc.set(i,Nu(Oc.get(i)||null,n,r,e,t,o)),!0;case"gotpointercapture":return i=o.pointerId,Ec.set(i,Nu(Ec.get(i)||null,n,r,e,t,o)),!0}return!1}function OC(n){var r=hs(n.target);if(r!==null){var e=Ns(r);if(e!==null){if(r=e.tag,r===13){if(r=pC(e),r!==null){n.blockedOn=r,SC(n.priority,function(){xC(e)});return}}else if(r===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var e=Ig(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var t=new e.constructor(e.type,e);Lg=t,e.target.dispatchEvent(t),Lg=null}else return r=qc(e),r!==null&&uy(r),n.blockedOn=e,!1;r.shift()}return!0}function Xw(n,r,e){hd(n)&&e.delete(r)}function NP(){jg=!1,ka!==null&&hd(ka)&&(ka=null),Aa!==null&&hd(Aa)&&(Aa=null),La!==null&&hd(La)&&(La=null),Oc.forEach(Xw),Ec.forEach(Xw)}function Du(n,r){n.blockedOn===r&&(n.blockedOn=null,jg||(jg=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,NP)))}function Tc(n){function r(o){return Du(o,n)}if(0<Kf.length){Du(Kf[0],n);for(var e=1;e<Kf.length;e++){var t=Kf[e];t.blockedOn===n&&(t.blockedOn=null)}}for(ka!==null&&Du(ka,n),Aa!==null&&Du(Aa,n),La!==null&&Du(La,n),Oc.forEach(r),Ec.forEach(r),e=0;e<xa.length;e++)t=xa[e],t.blockedOn===n&&(t.blockedOn=null);for(;0<xa.length&&(e=xa[0],e.blockedOn===null);)OC(e),e.blockedOn===null&&xa.shift()}var Ll=Ki.ReactCurrentBatchConfig,jd=!0;function DP(n,r,e,t){var o=Yt,i=Ll.transition;Ll.transition=null;try{Yt=1,cy(n,r,e,t)}finally{Yt=o,Ll.transition=i}}function RP(n,r,e,t){var o=Yt,i=Ll.transition;Ll.transition=null;try{Yt=4,cy(n,r,e,t)}finally{Yt=o,Ll.transition=i}}function cy(n,r,e,t){if(jd){var o=Ig(n,r,e,t);if(o===null)Ev(n,r,t,Id,e),Yw(n,t);else if(MP(o,n,r,e,t))t.stopPropagation();else if(Yw(n,t),r&4&&-1<LP.indexOf(n)){for(;o!==null;){var i=qc(o);if(i!==null&&bC(i),i=Ig(n,r,e,t),i===null&&Ev(n,r,t,Id,e),i===o)break;o=i}o!==null&&t.stopPropagation()}else Ev(n,r,t,null,e)}}var Id=null;function Ig(n,r,e,t){if(Id=null,n=ay(t),n=hs(n),n!==null)if(r=Ns(n),r===null)n=null;else if(e=r.tag,e===13){if(n=pC(r),n!==null)return n;n=null}else if(e===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Id=n,null}function EC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xP()){case sy:return 1;case mC:return 4;case Dd:case CP:return 16;case yC:return 536870912;default:return 16}default:return 16}}var Oa=null,fy=null,vd=null;function TC(){if(vd)return vd;var n,r=fy,e=r.length,t,o="value"in Oa?Oa.value:Oa.textContent,i=o.length;for(n=0;n<e&&r[n]===o[n];n++);var s=e-n;for(t=1;t<=s&&r[e-t]===o[i-t];t++);return vd=o.slice(n,1<t?1-t:void 0)}function gd(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Gf(){return!0}function Jw(){return!1}function Eo(n){function r(e,t,o,i,s){this._reactName=e,this._targetInst=o,this.type=t,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(e=n[l],this[l]=e?e(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gf:Jw,this.isPropagationStopped=Jw,this}return wr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),r}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=Eo(ql),Gc=wr({},ql,{view:0,detail:0}),jP=Eo(Gc),mv,yv,Ru,ih=wr({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:py,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ru&&(Ru&&n.type==="mousemove"?(mv=n.screenX-Ru.screenX,yv=n.screenY-Ru.screenY):yv=mv=0,Ru=n),mv)},movementY:function(n){return"movementY"in n?n.movementY:yv}}),Zw=Eo(ih),IP=wr({},ih,{dataTransfer:0}),FP=Eo(IP),VP=wr({},Gc,{relatedTarget:0}),wv=Eo(VP),UP=wr({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),zP=Eo(UP),BP=wr({},ql,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HP=Eo(BP),WP=wr({},ql,{data:0}),Qw=Eo(WP),$P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=GP[n])?!!r[n]:!1}function py(){return qP}var YP=wr({},Gc,{key:function(n){if(n.key){var r=$P[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=gd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:py,charCode:function(n){return n.type==="keypress"?gd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),XP=Eo(YP),JP=wr({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Eo(JP),ZP=wr({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:py}),QP=Eo(ZP),ek=wr({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),tk=Eo(ek),rk=wr({},ih,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nk=Eo(rk),ok=[9,13,27,32],hy=Ui&&"CompositionEvent"in window,tc=null;Ui&&"documentMode"in document&&(tc=document.documentMode);var ik=Ui&&"TextEvent"in window&&!tc,PC=Ui&&(!hy||tc&&8<tc&&11>=tc),t_=" ",r_=!1;function kC(n,r){switch(n){case"keyup":return ok.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cl=!1;function ak(n,r){switch(n){case"compositionend":return AC(r);case"keypress":return r.which!==32?null:(r_=!0,t_);case"textInput":return n=r.data,n===t_&&r_?null:n;default:return null}}function sk(n,r){if(cl)return n==="compositionend"||!hy&&kC(n,r)?(n=TC(),vd=fy=Oa=null,cl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return PC&&r.locale!=="ko"?null:r.data;default:return null}}var lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!lk[n.type]:r==="textarea"}function LC(n,r,e,t){lC(t),r=Fd(r,"onChange"),0<r.length&&(e=new dy("onChange","change",null,e,t),n.push({event:e,listeners:r}))}var rc=null,Pc=null;function uk(n){BC(n,0)}function ah(n){var r=pl(n);if(tC(r))return n}function ck(n,r){if(n==="change")return r}var MC=!1;if(Ui){var _v;if(Ui){var bv="oninput"in document;if(!bv){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),bv=typeof o_.oninput=="function"}_v=bv}else _v=!1;MC=_v&&(!document.documentMode||9<document.documentMode)}function i_(){rc&&(rc.detachEvent("onpropertychange",NC),Pc=rc=null)}function NC(n){if(n.propertyName==="value"&&ah(Pc)){var r=[];LC(r,Pc,n,ay(n)),dC(uk,r)}}function fk(n,r,e){n==="focusin"?(i_(),rc=r,Pc=e,rc.attachEvent("onpropertychange",NC)):n==="focusout"&&i_()}function dk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ah(Pc)}function pk(n,r){if(n==="click")return ah(r)}function hk(n,r){if(n==="input"||n==="change")return ah(r)}function vk(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var ri=typeof Object.is=="function"?Object.is:vk;function kc(n,r){if(ri(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var e=Object.keys(n),t=Object.keys(r);if(e.length!==t.length)return!1;for(t=0;t<e.length;t++){var o=e[t];if(!wg.call(r,o)||!ri(n[o],r[o]))return!1}return!0}function a_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function s_(n,r){var e=a_(n);n=0;for(var t;e;){if(e.nodeType===3){if(t=n+e.textContent.length,n<=r&&t>=r)return{node:e,offset:r-n};n=t}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=a_(e)}}function DC(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?DC(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function RC(){for(var n=window,r=Ld();r instanceof n.HTMLIFrameElement;){try{var e=typeof r.contentWindow.location.href=="string"}catch{e=!1}if(e)n=r.contentWindow;else break;r=Ld(n.document)}return r}function vy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function gk(n){var r=RC(),e=n.focusedElem,t=n.selectionRange;if(r!==e&&e&&e.ownerDocument&&DC(e.ownerDocument.documentElement,e)){if(t!==null&&vy(e)){if(r=t.start,n=t.end,n===void 0&&(n=r),"selectionStart"in e)e.selectionStart=r,e.selectionEnd=Math.min(n,e.value.length);else if(n=(r=e.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var o=e.textContent.length,i=Math.min(t.start,o);t=t.end===void 0?i:Math.min(t.end,o),!n.extend&&i>t&&(o=t,t=i,i=o),o=s_(e,i);var s=s_(e,t);o&&s&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(r=r.createRange(),r.setStart(o.node,o.offset),n.removeAllRanges(),i>t?(n.addRange(r),n.extend(s.node,s.offset)):(r.setEnd(s.node,s.offset),n.addRange(r)))}}for(r=[],n=e;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<r.length;e++)n=r[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var mk=Ui&&"documentMode"in document&&11>=document.documentMode,fl=null,Fg=null,nc=null,Vg=!1;function l_(n,r,e){var t=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Vg||fl==null||fl!==Ld(t)||(t=fl,"selectionStart"in t&&vy(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),nc&&kc(nc,t)||(nc=t,t=Fd(Fg,"onSelect"),0<t.length&&(r=new dy("onSelect","select",null,r,e),n.push({event:r,listeners:t}),r.target=fl)))}function qf(n,r){var e={};return e[n.toLowerCase()]=r.toLowerCase(),e["Webkit"+n]="webkit"+r,e["Moz"+n]="moz"+r,e}var dl={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},xv={},jC={};Ui&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function sh(n){if(xv[n])return xv[n];if(!dl[n])return n;var r=dl[n],e;for(e in r)if(r.hasOwnProperty(e)&&e in jC)return xv[n]=r[e];return n}var IC=sh("animationend"),FC=sh("animationiteration"),VC=sh("animationstart"),UC=sh("transitionend"),zC=new Map,u_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(n,r){zC.set(n,r),Ms(r,[n])}for(var Cv=0;Cv<u_.length;Cv++){var Sv=u_[Cv],yk=Sv.toLowerCase(),wk=Sv[0].toUpperCase()+Sv.slice(1);za(yk,"on"+wk)}za(IC,"onAnimationEnd");za(FC,"onAnimationIteration");za(VC,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(UC,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_k=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function c_(n,r,e){var t=n.type||"unknown-event";n.currentTarget=e,yP(t,r,void 0,n),n.currentTarget=null}function BC(n,r){r=(r&4)!==0;for(var e=0;e<n.length;e++){var t=n[e],o=t.event;t=t.listeners;e:{var i=void 0;if(r)for(var s=t.length-1;0<=s;s--){var l=t[s],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;c_(o,l,f),i=c}else for(s=0;s<t.length;s++){if(l=t[s],c=l.instance,f=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;c_(o,l,f),i=c}}}if(Nd)throw n=Dg,Nd=!1,Dg=null,n}function lr(n,r){var e=r[Wg];e===void 0&&(e=r[Wg]=new Set);var t=n+"__bubble";e.has(t)||(HC(r,n,2,!1),e.add(t))}function Ov(n,r,e){var t=0;r&&(t|=4),HC(e,n,t,r)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function Ac(n){if(!n[Yf]){n[Yf]=!0,Xx.forEach(function(e){e!=="selectionchange"&&(_k.has(e)||Ov(e,!1,n),Ov(e,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Yf]||(r[Yf]=!0,Ov("selectionchange",!1,r))}}function HC(n,r,e,t){switch(EC(r)){case 1:var o=DP;break;case 4:o=RP;break;default:o=cy}e=o.bind(null,r,e,n),o=void 0,!Ng||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(o=!0),t?o!==void 0?n.addEventListener(r,e,{capture:!0,passive:o}):n.addEventListener(r,e,!0):o!==void 0?n.addEventListener(r,e,{passive:o}):n.addEventListener(r,e,!1)}function Ev(n,r,e,t,o){var i=t;if(!(r&1)&&!(r&2)&&t!==null)e:for(;;){if(t===null)return;var s=t.tag;if(s===3||s===4){var l=t.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=t.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;l!==null;){if(s=hs(l),s===null)return;if(c=s.tag,c===5||c===6){t=i=s;continue e}l=l.parentNode}}t=t.return}dC(function(){var f=i,h=ay(e),g=[];e:{var m=zC.get(n);if(m!==void 0){var y=dy,_=n;switch(n){case"keypress":if(gd(e)===0)break e;case"keydown":case"keyup":y=XP;break;case"focusin":_="focus",y=wv;break;case"focusout":_="blur",y=wv;break;case"beforeblur":case"afterblur":y=wv;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=FP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=QP;break;case IC:case FC:case VC:y=zP;break;case UC:y=tk;break;case"scroll":y=jP;break;case"wheel":y=nk;break;case"copy":case"cut":case"paste":y=HP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=e_}var x=(r&4)!==0,C=!x&&n==="scroll",S=x?m!==null?m+"Capture":null:m;x=[];for(var T=f,E;T!==null;){E=T;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,S!==null&&(N=Sc(T,S),N!=null&&x.push(Lc(T,N,E)))),C)break;T=T.return}0<x.length&&(m=new y(m,_,null,e,h),g.push({event:m,listeners:x}))}}if(!(r&7)){e:{if(m=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",m&&e!==Lg&&(_=e.relatedTarget||e.fromElement)&&(hs(_)||_[zi]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=e.relatedTarget||e.toElement,y=f,_=_?hs(_):null,_!==null&&(C=Ns(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=f),y!==_)){if(x=Zw,N="onMouseLeave",S="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(x=e_,N="onPointerLeave",S="onPointerEnter",T="pointer"),C=y==null?m:pl(y),E=_==null?m:pl(_),m=new x(N,T+"leave",y,e,h),m.target=C,m.relatedTarget=E,N=null,hs(h)===f&&(x=new x(S,T+"enter",_,e,h),x.target=E,x.relatedTarget=C,N=x),C=N,y&&_)t:{for(x=y,S=_,T=0,E=x;E;E=nl(E))T++;for(E=0,N=S;N;N=nl(N))E++;for(;0<T-E;)x=nl(x),T--;for(;0<E-T;)S=nl(S),E--;for(;T--;){if(x===S||S!==null&&x===S.alternate)break t;x=nl(x),S=nl(S)}x=null}else x=null;y!==null&&f_(g,m,y,x,!1),_!==null&&C!==null&&f_(g,C,_,x,!0)}}e:{if(m=f?pl(f):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var K=ck;else if(n_(m))if(MC)K=hk;else{K=dk;var re=fk}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(K=pk);if(K&&(K=K(n,f))){LC(g,K,e,h);break e}re&&re(n,m,f),n==="focusout"&&(re=m._wrapperState)&&re.controlled&&m.type==="number"&&Eg(m,"number",m.value)}switch(re=f?pl(f):window,n){case"focusin":(n_(re)||re.contentEditable==="true")&&(fl=re,Fg=f,nc=null);break;case"focusout":nc=Fg=fl=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,l_(g,e,h);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":l_(g,e,h)}var ue;if(hy)e:{switch(n){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else cl?kC(n,e)&&(Q="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(Q="onCompositionStart");Q&&(PC&&e.locale!=="ko"&&(cl||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&cl&&(ue=TC()):(Oa=h,fy="value"in Oa?Oa.value:Oa.textContent,cl=!0)),re=Fd(f,Q),0<re.length&&(Q=new Qw(Q,n,null,e,h),g.push({event:Q,listeners:re}),ue?Q.data=ue:(ue=AC(e),ue!==null&&(Q.data=ue)))),(ue=ik?ak(n,e):sk(n,e))&&(f=Fd(f,"onBeforeInput"),0<f.length&&(h=new Qw("onBeforeInput","beforeinput",null,e,h),g.push({event:h,listeners:f}),h.data=ue))}BC(g,r)})}function Lc(n,r,e){return{instance:n,listener:r,currentTarget:e}}function Fd(n,r){for(var e=r+"Capture",t=[];n!==null;){var o=n,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Sc(n,e),i!=null&&t.unshift(Lc(n,i,o)),i=Sc(n,r),i!=null&&t.push(Lc(n,i,o))),n=n.return}return t}function nl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function f_(n,r,e,t,o){for(var i=r._reactName,s=[];e!==null&&e!==t;){var l=e,c=l.alternate,f=l.stateNode;if(c!==null&&c===t)break;l.tag===5&&f!==null&&(l=f,o?(c=Sc(e,i),c!=null&&s.unshift(Lc(e,c,l))):o||(c=Sc(e,i),c!=null&&s.push(Lc(e,c,l)))),e=e.return}s.length!==0&&n.push({event:r,listeners:s})}var bk=/\r\n?/g,xk=/\u0000|\uFFFD/g;function d_(n){return(typeof n=="string"?n:""+n).replace(bk,`
`).replace(xk,"")}function Xf(n,r,e){if(r=d_(r),d_(n)!==r&&e)throw Error(Ke(425))}function Vd(){}var Ug=null,zg=null;function Bg(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hg=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,Sk=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(n){return p_.resolve(null).then(n).catch(Ok)}:Hg;function Ok(n){setTimeout(function(){throw n})}function Tv(n,r){var e=r,t=0;do{var o=e.nextSibling;if(n.removeChild(e),o&&o.nodeType===8)if(e=o.data,e==="/$"){if(t===0){n.removeChild(o),Tc(r);return}t--}else e!=="$"&&e!=="$?"&&e!=="$!"||t++;e=o}while(e);Tc(r)}function Ma(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function h_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(r===0)return n;r--}else e==="/$"&&r++}n=n.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),pi="__reactFiber$"+Yl,Mc="__reactProps$"+Yl,zi="__reactContainer$"+Yl,Wg="__reactEvents$"+Yl,Ek="__reactListeners$"+Yl,Tk="__reactHandles$"+Yl;function hs(n){var r=n[pi];if(r)return r;for(var e=n.parentNode;e;){if(r=e[zi]||e[pi]){if(e=r.alternate,r.child!==null||e!==null&&e.child!==null)for(n=h_(n);n!==null;){if(e=n[pi])return e;n=h_(n)}return r}n=e,e=n.parentNode}return null}function qc(n){return n=n[pi]||n[zi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function pl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ke(33))}function lh(n){return n[Mc]||null}var $g=[],hl=-1;function Ba(n){return{current:n}}function cr(n){0>hl||(n.current=$g[hl],$g[hl]=null,hl--)}function rr(n,r){hl++,$g[hl]=n.current,n.current=r}var Va={},_n=Ba(Va),eo=Ba(!1),Cs=Va;function Fl(n,r){var e=n.type.contextTypes;if(!e)return Va;var t=n.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===r)return t.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in e)o[i]=r[i];return t&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),o}function to(n){return n=n.childContextTypes,n!=null}function Ud(){cr(eo),cr(_n)}function v_(n,r,e){if(_n.current!==Va)throw Error(Ke(168));rr(_n,r),rr(eo,e)}function WC(n,r,e){var t=n.stateNode;if(r=r.childContextTypes,typeof t.getChildContext!="function")return e;t=t.getChildContext();for(var o in t)if(!(o in r))throw Error(Ke(108,fP(n)||"Unknown",o));return wr({},e,t)}function zd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Va,Cs=_n.current,rr(_n,n),rr(eo,eo.current),!0}function g_(n,r,e){var t=n.stateNode;if(!t)throw Error(Ke(169));e?(n=WC(n,r,Cs),t.__reactInternalMemoizedMergedChildContext=n,cr(eo),cr(_n),rr(_n,n)):cr(eo),rr(eo,e)}var Di=null,uh=!1,Pv=!1;function $C(n){Di===null?Di=[n]:Di.push(n)}function Pk(n){uh=!0,$C(n)}function Ha(){if(!Pv&&Di!==null){Pv=!0;var n=0,r=Yt;try{var e=Di;for(Yt=1;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}Di=null,uh=!1}catch(o){throw Di!==null&&(Di=Di.slice(n+1)),gC(sy,Ha),o}finally{Yt=r,Pv=!1}}return null}var vl=[],gl=0,Bd=null,Hd=0,No=[],Do=0,Ss=null,ji=1,Ii="";function ss(n,r){vl[gl++]=Hd,vl[gl++]=Bd,Bd=n,Hd=r}function KC(n,r,e){No[Do++]=ji,No[Do++]=Ii,No[Do++]=Ss,Ss=n;var t=ji;n=Ii;var o=32-ei(t)-1;t&=~(1<<o),e+=1;var i=32-ei(r)+o;if(30<i){var s=o-o%5;i=(t&(1<<s)-1).toString(32),t>>=s,o-=s,ji=1<<32-ei(r)+o|e<<o|t,Ii=i+n}else ji=1<<i|e<<o|t,Ii=n}function gy(n){n.return!==null&&(ss(n,1),KC(n,1,0))}function my(n){for(;n===Bd;)Bd=vl[--gl],vl[gl]=null,Hd=vl[--gl],vl[gl]=null;for(;n===Ss;)Ss=No[--Do],No[Do]=null,Ii=No[--Do],No[Do]=null,ji=No[--Do],No[Do]=null}var xo=null,wo=null,hr=!1,Qo=null;function GC(n,r){var e=Ro(5,null,null,0);e.elementType="DELETED",e.stateNode=r,e.return=n,r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)}function m_(n,r){switch(n.tag){case 5:var e=n.type;return r=r.nodeType!==1||e.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,xo=n,wo=Ma(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,xo=n,wo=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(e=Ss!==null?{id:ji,overflow:Ii}:null,n.memoizedState={dehydrated:r,treeContext:e,retryLane:1073741824},e=Ro(18,null,null,0),e.stateNode=r,e.return=n,n.child=e,xo=n,wo=null,!0):!1;default:return!1}}function Kg(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Gg(n){if(hr){var r=wo;if(r){var e=r;if(!m_(n,r)){if(Kg(n))throw Error(Ke(418));r=Ma(e.nextSibling);var t=xo;r&&m_(n,r)?GC(t,e):(n.flags=n.flags&-4097|2,hr=!1,xo=n)}}else{if(Kg(n))throw Error(Ke(418));n.flags=n.flags&-4097|2,hr=!1,xo=n}}}function y_(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xo=n}function Jf(n){if(n!==xo)return!1;if(!hr)return y_(n),hr=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!Bg(n.type,n.memoizedProps)),r&&(r=wo)){if(Kg(n))throw qC(),Error(Ke(418));for(;r;)GC(n,r),r=Ma(r.nextSibling)}if(y_(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ke(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(r===0){wo=Ma(n.nextSibling);break e}r--}else e!=="$"&&e!=="$!"&&e!=="$?"||r++}n=n.nextSibling}wo=null}}else wo=xo?Ma(n.stateNode.nextSibling):null;return!0}function qC(){for(var n=wo;n;)n=Ma(n.nextSibling)}function Vl(){wo=xo=null,hr=!1}function yy(n){Qo===null?Qo=[n]:Qo.push(n)}var kk=Ki.ReactCurrentBatchConfig;function ju(n,r,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Ke(309));var t=e.stateNode}if(!t)throw Error(Ke(147,n));var o=t,i=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},r._stringRef=i,r)}if(typeof n!="string")throw Error(Ke(284));if(!e._owner)throw Error(Ke(290,n))}return n}function Zf(n,r){throw n=Object.prototype.toString.call(r),Error(Ke(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function w_(n){var r=n._init;return r(n._payload)}function YC(n){function r(S,T){if(n){var E=S.deletions;E===null?(S.deletions=[T],S.flags|=16):E.push(T)}}function e(S,T){if(!n)return null;for(;T!==null;)r(S,T),T=T.sibling;return null}function t(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function o(S,T){return S=ja(S,T),S.index=0,S.sibling=null,S}function i(S,T,E){return S.index=E,n?(E=S.alternate,E!==null?(E=E.index,E<T?(S.flags|=2,T):E):(S.flags|=2,T)):(S.flags|=1048576,T)}function s(S){return n&&S.alternate===null&&(S.flags|=2),S}function l(S,T,E,N){return T===null||T.tag!==6?(T=Rv(E,S.mode,N),T.return=S,T):(T=o(T,E),T.return=S,T)}function c(S,T,E,N){var K=E.type;return K===ul?h(S,T,E.props.children,N,E.key):T!==null&&(T.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ma&&w_(K)===T.type)?(N=o(T,E.props),N.ref=ju(S,T,E),N.return=S,N):(N=Cd(E.type,E.key,E.props,null,S.mode,N),N.ref=ju(S,T,E),N.return=S,N)}function f(S,T,E,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=jv(E,S.mode,N),T.return=S,T):(T=o(T,E.children||[]),T.return=S,T)}function h(S,T,E,N,K){return T===null||T.tag!==7?(T=bs(E,S.mode,N,K),T.return=S,T):(T=o(T,E),T.return=S,T)}function g(S,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Rv(""+T,S.mode,E),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zf:return E=Cd(T.type,T.key,T.props,null,S.mode,E),E.ref=ju(S,null,T),E.return=S,E;case ll:return T=jv(T,S.mode,E),T.return=S,T;case ma:var N=T._init;return g(S,N(T._payload),E)}if(Gu(T)||Lu(T))return T=bs(T,S.mode,E,null),T.return=S,T;Zf(S,T)}return null}function m(S,T,E,N){var K=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return K!==null?null:l(S,T,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zf:return E.key===K?c(S,T,E,N):null;case ll:return E.key===K?f(S,T,E,N):null;case ma:return K=E._init,m(S,T,K(E._payload),N)}if(Gu(E)||Lu(E))return K!==null?null:h(S,T,E,N,null);Zf(S,E)}return null}function y(S,T,E,N,K){if(typeof N=="string"&&N!==""||typeof N=="number")return S=S.get(E)||null,l(T,S,""+N,K);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zf:return S=S.get(N.key===null?E:N.key)||null,c(T,S,N,K);case ll:return S=S.get(N.key===null?E:N.key)||null,f(T,S,N,K);case ma:var re=N._init;return y(S,T,E,re(N._payload),K)}if(Gu(N)||Lu(N))return S=S.get(E)||null,h(T,S,N,K,null);Zf(T,N)}return null}function _(S,T,E,N){for(var K=null,re=null,ue=T,Q=T=0,$=null;ue!==null&&Q<E.length;Q++){ue.index>Q?($=ue,ue=null):$=ue.sibling;var te=m(S,ue,E[Q],N);if(te===null){ue===null&&(ue=$);break}n&&ue&&te.alternate===null&&r(S,ue),T=i(te,T,Q),re===null?K=te:re.sibling=te,re=te,ue=$}if(Q===E.length)return e(S,ue),hr&&ss(S,Q),K;if(ue===null){for(;Q<E.length;Q++)ue=g(S,E[Q],N),ue!==null&&(T=i(ue,T,Q),re===null?K=ue:re.sibling=ue,re=ue);return hr&&ss(S,Q),K}for(ue=t(S,ue);Q<E.length;Q++)$=y(ue,S,Q,E[Q],N),$!==null&&(n&&$.alternate!==null&&ue.delete($.key===null?Q:$.key),T=i($,T,Q),re===null?K=$:re.sibling=$,re=$);return n&&ue.forEach(function(U){return r(S,U)}),hr&&ss(S,Q),K}function x(S,T,E,N){var K=Lu(E);if(typeof K!="function")throw Error(Ke(150));if(E=K.call(E),E==null)throw Error(Ke(151));for(var re=K=null,ue=T,Q=T=0,$=null,te=E.next();ue!==null&&!te.done;Q++,te=E.next()){ue.index>Q?($=ue,ue=null):$=ue.sibling;var U=m(S,ue,te.value,N);if(U===null){ue===null&&(ue=$);break}n&&ue&&U.alternate===null&&r(S,ue),T=i(U,T,Q),re===null?K=U:re.sibling=U,re=U,ue=$}if(te.done)return e(S,ue),hr&&ss(S,Q),K;if(ue===null){for(;!te.done;Q++,te=E.next())te=g(S,te.value,N),te!==null&&(T=i(te,T,Q),re===null?K=te:re.sibling=te,re=te);return hr&&ss(S,Q),K}for(ue=t(S,ue);!te.done;Q++,te=E.next())te=y(ue,S,Q,te.value,N),te!==null&&(n&&te.alternate!==null&&ue.delete(te.key===null?Q:te.key),T=i(te,T,Q),re===null?K=te:re.sibling=te,re=te);return n&&ue.forEach(function(R){return r(S,R)}),hr&&ss(S,Q),K}function C(S,T,E,N){if(typeof E=="object"&&E!==null&&E.type===ul&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zf:e:{for(var K=E.key,re=T;re!==null;){if(re.key===K){if(K=E.type,K===ul){if(re.tag===7){e(S,re.sibling),T=o(re,E.props.children),T.return=S,S=T;break e}}else if(re.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ma&&w_(K)===re.type){e(S,re.sibling),T=o(re,E.props),T.ref=ju(S,re,E),T.return=S,S=T;break e}e(S,re);break}else r(S,re);re=re.sibling}E.type===ul?(T=bs(E.props.children,S.mode,N,E.key),T.return=S,S=T):(N=Cd(E.type,E.key,E.props,null,S.mode,N),N.ref=ju(S,T,E),N.return=S,S=N)}return s(S);case ll:e:{for(re=E.key;T!==null;){if(T.key===re)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){e(S,T.sibling),T=o(T,E.children||[]),T.return=S,S=T;break e}else{e(S,T);break}else r(S,T);T=T.sibling}T=jv(E,S.mode,N),T.return=S,S=T}return s(S);case ma:return re=E._init,C(S,T,re(E._payload),N)}if(Gu(E))return _(S,T,E,N);if(Lu(E))return x(S,T,E,N);Zf(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,T!==null&&T.tag===6?(e(S,T.sibling),T=o(T,E),T.return=S,S=T):(e(S,T),T=Rv(E,S.mode,N),T.return=S,S=T),s(S)):e(S,T)}return C}var Ul=YC(!0),XC=YC(!1),Wd=Ba(null),$d=null,ml=null,wy=null;function _y(){wy=ml=$d=null}function by(n){var r=Wd.current;cr(Wd),n._currentValue=r}function qg(n,r,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,t!==null&&(t.childLanes|=r)):t!==null&&(t.childLanes&r)!==r&&(t.childLanes|=r),n===e)break;n=n.return}}function Ml(n,r){$d=n,wy=ml=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(Qn=!0),n.firstContext=null)}function Fo(n){var r=n._currentValue;if(wy!==n)if(n={context:n,memoizedValue:r,next:null},ml===null){if($d===null)throw Error(Ke(308));ml=n,$d.dependencies={lanes:0,firstContext:n}}else ml=ml.next=n;return r}var vs=null;function xy(n){vs===null?vs=[n]:vs.push(n)}function JC(n,r,e,t){var o=r.interleaved;return o===null?(e.next=e,xy(r)):(e.next=o.next,o.next=e),r.interleaved=e,Bi(n,t)}function Bi(n,r){n.lanes|=r;var e=n.alternate;for(e!==null&&(e.lanes|=r),e=n,n=n.return;n!==null;)n.childLanes|=r,e=n.alternate,e!==null&&(e.childLanes|=r),e=n,n=n.return;return e.tag===3?e.stateNode:null}var ya=!1;function Cy(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZC(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Fi(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Na(n,r,e){var t=n.updateQueue;if(t===null)return null;if(t=t.shared,zt&2){var o=t.pending;return o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r,Bi(n,e)}return o=t.interleaved,o===null?(r.next=r,xy(t)):(r.next=o.next,o.next=r),t.interleaved=r,Bi(n,e)}function md(n,r,e){if(r=r.updateQueue,r!==null&&(r=r.shared,(e&4194240)!==0)){var t=r.lanes;t&=n.pendingLanes,e|=t,r.lanes=e,ly(n,e)}}function __(n,r){var e=n.updateQueue,t=n.alternate;if(t!==null&&(t=t.updateQueue,e===t)){var o=null,i=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};i===null?o=i=s:i=i.next=s,e=e.next}while(e!==null);i===null?o=i=r:i=i.next=r}else o=i=r;e={baseState:t.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:t.shared,effects:t.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=r:n.next=r,e.lastBaseUpdate=r}function Kd(n,r,e,t){var o=n.updateQueue;ya=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var h=n.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=c))}if(i!==null){var g=o.baseState;s=0,h=f=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((t&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=n,x=l;switch(m=r,y=e,x.tag){case 1:if(_=x.payload,typeof _=="function"){g=_.call(y,g,m);break e}g=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(y,g,m):_,m==null)break e;g=wr({},g,m);break e;case 2:ya=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=y,c=g):h=h.next=y,s|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(h===null&&(c=g),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=h,r=o.shared.interleaved,r!==null){o=r;do s|=o.lane,o=o.next;while(o!==r)}else i===null&&(o.shared.lanes=0);Es|=s,n.lanes=s,n.memoizedState=g}}function b_(n,r,e){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var t=n[r],o=t.callback;if(o!==null){if(t.callback=null,t=e,typeof o!="function")throw Error(Ke(191,o));o.call(t)}}}var Yc={},vi=Ba(Yc),Nc=Ba(Yc),Dc=Ba(Yc);function gs(n){if(n===Yc)throw Error(Ke(174));return n}function Sy(n,r){switch(rr(Dc,r),rr(Nc,n),rr(vi,Yc),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Pg(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Pg(r,n)}cr(vi),rr(vi,r)}function zl(){cr(vi),cr(Nc),cr(Dc)}function QC(n){gs(Dc.current);var r=gs(vi.current),e=Pg(r,n.type);r!==e&&(rr(Nc,n),rr(vi,e))}function Oy(n){Nc.current===n&&(cr(vi),cr(Nc))}var mr=Ba(0);function Gd(n){for(var r=n;r!==null;){if(r.tag===13){var e=r.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kv=[];function Ey(){for(var n=0;n<kv.length;n++)kv[n]._workInProgressVersionPrimary=null;kv.length=0}var yd=Ki.ReactCurrentDispatcher,Av=Ki.ReactCurrentBatchConfig,Os=0,yr=null,qr=null,Jr=null,qd=!1,oc=!1,Rc=0,Ak=0;function pn(){throw Error(Ke(321))}function Ty(n,r){if(r===null)return!1;for(var e=0;e<r.length&&e<n.length;e++)if(!ri(n[e],r[e]))return!1;return!0}function Py(n,r,e,t,o,i){if(Os=i,yr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,yd.current=n===null||n.memoizedState===null?Dk:Rk,n=e(t,o),oc){i=0;do{if(oc=!1,Rc=0,25<=i)throw Error(Ke(301));i+=1,Jr=qr=null,r.updateQueue=null,yd.current=jk,n=e(t,o)}while(oc)}if(yd.current=Yd,r=qr!==null&&qr.next!==null,Os=0,Jr=qr=yr=null,qd=!1,r)throw Error(Ke(300));return n}function ky(){var n=Rc!==0;return Rc=0,n}function ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?yr.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function Vo(){if(qr===null){var n=yr.alternate;n=n!==null?n.memoizedState:null}else n=qr.next;var r=Jr===null?yr.memoizedState:Jr.next;if(r!==null)Jr=r,qr=n;else{if(n===null)throw Error(Ke(310));qr=n,n={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Jr===null?yr.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function jc(n,r){return typeof r=="function"?r(n):r}function Lv(n){var r=Vo(),e=r.queue;if(e===null)throw Error(Ke(311));e.lastRenderedReducer=n;var t=qr,o=t.baseQueue,i=e.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,e.pending=null}if(o!==null){i=o.next,t=t.baseState;var l=s=null,c=null,f=i;do{var h=f.lane;if((Os&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),t=f.hasEagerState?f.eagerState:n(t,f.action);else{var g={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=g,s=t):c=c.next=g,yr.lanes|=h,Es|=h}f=f.next}while(f!==null&&f!==i);c===null?s=t:c.next=l,ri(t,r.memoizedState)||(Qn=!0),r.memoizedState=t,r.baseState=s,r.baseQueue=c,e.lastRenderedState=t}if(n=e.interleaved,n!==null){o=n;do i=o.lane,yr.lanes|=i,Es|=i,o=o.next;while(o!==n)}else o===null&&(e.lanes=0);return[r.memoizedState,e.dispatch]}function Mv(n){var r=Vo(),e=r.queue;if(e===null)throw Error(Ke(311));e.lastRenderedReducer=n;var t=e.dispatch,o=e.pending,i=r.memoizedState;if(o!==null){e.pending=null;var s=o=o.next;do i=n(i,s.action),s=s.next;while(s!==o);ri(i,r.memoizedState)||(Qn=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),e.lastRenderedState=i}return[i,t]}function eS(){}function tS(n,r){var e=yr,t=Vo(),o=r(),i=!ri(t.memoizedState,o);if(i&&(t.memoizedState=o,Qn=!0),t=t.queue,Ay(oS.bind(null,e,t,n),[n]),t.getSnapshot!==r||i||Jr!==null&&Jr.memoizedState.tag&1){if(e.flags|=2048,Ic(9,nS.bind(null,e,t,o,r),void 0,null),Zr===null)throw Error(Ke(349));Os&30||rS(e,r,o)}return o}function rS(n,r,e){n.flags|=16384,n={getSnapshot:r,value:e},r=yr.updateQueue,r===null?(r={lastEffect:null,stores:null},yr.updateQueue=r,r.stores=[n]):(e=r.stores,e===null?r.stores=[n]:e.push(n))}function nS(n,r,e,t){r.value=e,r.getSnapshot=t,iS(r)&&aS(n)}function oS(n,r,e){return e(function(){iS(r)&&aS(n)})}function iS(n){var r=n.getSnapshot;n=n.value;try{var e=r();return!ri(n,e)}catch{return!0}}function aS(n){var r=Bi(n,1);r!==null&&ti(r,n,1,-1)}function x_(n){var r=ci();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:n},r.queue=n,n=n.dispatch=Nk.bind(null,yr,n),[r.memoizedState,n]}function Ic(n,r,e,t){return n={tag:n,create:r,destroy:e,deps:t,next:null},r=yr.updateQueue,r===null?(r={lastEffect:null,stores:null},yr.updateQueue=r,r.lastEffect=n.next=n):(e=r.lastEffect,e===null?r.lastEffect=n.next=n:(t=e.next,e.next=n,n.next=t,r.lastEffect=n)),n}function sS(){return Vo().memoizedState}function wd(n,r,e,t){var o=ci();yr.flags|=n,o.memoizedState=Ic(1|r,e,void 0,t===void 0?null:t)}function ch(n,r,e,t){var o=Vo();t=t===void 0?null:t;var i=void 0;if(qr!==null){var s=qr.memoizedState;if(i=s.destroy,t!==null&&Ty(t,s.deps)){o.memoizedState=Ic(r,e,i,t);return}}yr.flags|=n,o.memoizedState=Ic(1|r,e,i,t)}function C_(n,r){return wd(8390656,8,n,r)}function Ay(n,r){return ch(2048,8,n,r)}function lS(n,r){return ch(4,2,n,r)}function uS(n,r){return ch(4,4,n,r)}function cS(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function fS(n,r,e){return e=e!=null?e.concat([n]):null,ch(4,4,cS.bind(null,r,n),e)}function Ly(){}function dS(n,r){var e=Vo();r=r===void 0?null:r;var t=e.memoizedState;return t!==null&&r!==null&&Ty(r,t[1])?t[0]:(e.memoizedState=[n,r],n)}function pS(n,r){var e=Vo();r=r===void 0?null:r;var t=e.memoizedState;return t!==null&&r!==null&&Ty(r,t[1])?t[0]:(n=n(),e.memoizedState=[n,r],n)}function hS(n,r,e){return Os&21?(ri(e,r)||(e=wC(),yr.lanes|=e,Es|=e,n.baseState=!0),r):(n.baseState&&(n.baseState=!1,Qn=!0),n.memoizedState=e)}function Lk(n,r){var e=Yt;Yt=e!==0&&4>e?e:4,n(!0);var t=Av.transition;Av.transition={};try{n(!1),r()}finally{Yt=e,Av.transition=t}}function vS(){return Vo().memoizedState}function Mk(n,r,e){var t=Ra(n);if(e={lane:t,action:e,hasEagerState:!1,eagerState:null,next:null},gS(n))mS(r,e);else if(e=JC(n,r,e,t),e!==null){var o=Rn();ti(e,n,t,o),yS(e,r,t)}}function Nk(n,r,e){var t=Ra(n),o={lane:t,action:e,hasEagerState:!1,eagerState:null,next:null};if(gS(n))mS(r,o);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var s=r.lastRenderedState,l=i(s,e);if(o.hasEagerState=!0,o.eagerState=l,ri(l,s)){var c=r.interleaved;c===null?(o.next=o,xy(r)):(o.next=c.next,c.next=o),r.interleaved=o;return}}catch{}finally{}e=JC(n,r,o,t),e!==null&&(o=Rn(),ti(e,n,t,o),yS(e,r,t))}}function gS(n){var r=n.alternate;return n===yr||r!==null&&r===yr}function mS(n,r){oc=qd=!0;var e=n.pending;e===null?r.next=r:(r.next=e.next,e.next=r),n.pending=r}function yS(n,r,e){if(e&4194240){var t=r.lanes;t&=n.pendingLanes,e|=t,r.lanes=e,ly(n,e)}}var Yd={readContext:Fo,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},Dk={readContext:Fo,useCallback:function(n,r){return ci().memoizedState=[n,r===void 0?null:r],n},useContext:Fo,useEffect:C_,useImperativeHandle:function(n,r,e){return e=e!=null?e.concat([n]):null,wd(4194308,4,cS.bind(null,r,n),e)},useLayoutEffect:function(n,r){return wd(4194308,4,n,r)},useInsertionEffect:function(n,r){return wd(4,2,n,r)},useMemo:function(n,r){var e=ci();return r=r===void 0?null:r,n=n(),e.memoizedState=[n,r],n},useReducer:function(n,r,e){var t=ci();return r=e!==void 0?e(r):r,t.memoizedState=t.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},t.queue=n,n=n.dispatch=Mk.bind(null,yr,n),[t.memoizedState,n]},useRef:function(n){var r=ci();return n={current:n},r.memoizedState=n},useState:x_,useDebugValue:Ly,useDeferredValue:function(n){return ci().memoizedState=n},useTransition:function(){var n=x_(!1),r=n[0];return n=Lk.bind(null,n[1]),ci().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,e){var t=yr,o=ci();if(hr){if(e===void 0)throw Error(Ke(407));e=e()}else{if(e=r(),Zr===null)throw Error(Ke(349));Os&30||rS(t,r,e)}o.memoizedState=e;var i={value:e,getSnapshot:r};return o.queue=i,C_(oS.bind(null,t,i,n),[n]),t.flags|=2048,Ic(9,nS.bind(null,t,i,e,r),void 0,null),e},useId:function(){var n=ci(),r=Zr.identifierPrefix;if(hr){var e=Ii,t=ji;e=(t&~(1<<32-ei(t)-1)).toString(32)+e,r=":"+r+"R"+e,e=Rc++,0<e&&(r+="H"+e.toString(32)),r+=":"}else e=Ak++,r=":"+r+"r"+e.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Rk={readContext:Fo,useCallback:dS,useContext:Fo,useEffect:Ay,useImperativeHandle:fS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:pS,useReducer:Lv,useRef:sS,useState:function(){return Lv(jc)},useDebugValue:Ly,useDeferredValue:function(n){var r=Vo();return hS(r,qr.memoizedState,n)},useTransition:function(){var n=Lv(jc)[0],r=Vo().memoizedState;return[n,r]},useMutableSource:eS,useSyncExternalStore:tS,useId:vS,unstable_isNewReconciler:!1},jk={readContext:Fo,useCallback:dS,useContext:Fo,useEffect:Ay,useImperativeHandle:fS,useInsertionEffect:lS,useLayoutEffect:uS,useMemo:pS,useReducer:Mv,useRef:sS,useState:function(){return Mv(jc)},useDebugValue:Ly,useDeferredValue:function(n){var r=Vo();return qr===null?r.memoizedState=n:hS(r,qr.memoizedState,n)},useTransition:function(){var n=Mv(jc)[0],r=Vo().memoizedState;return[n,r]},useMutableSource:eS,useSyncExternalStore:tS,useId:vS,unstable_isNewReconciler:!1};function Jo(n,r){if(n&&n.defaultProps){r=wr({},r),n=n.defaultProps;for(var e in n)r[e]===void 0&&(r[e]=n[e]);return r}return r}function Yg(n,r,e,t){r=n.memoizedState,e=e(t,r),e=e==null?r:wr({},r,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var fh={isMounted:function(n){return(n=n._reactInternals)?Ns(n)===n:!1},enqueueSetState:function(n,r,e){n=n._reactInternals;var t=Rn(),o=Ra(n),i=Fi(t,o);i.payload=r,e!=null&&(i.callback=e),r=Na(n,i,o),r!==null&&(ti(r,n,o,t),md(r,n,o))},enqueueReplaceState:function(n,r,e){n=n._reactInternals;var t=Rn(),o=Ra(n),i=Fi(t,o);i.tag=1,i.payload=r,e!=null&&(i.callback=e),r=Na(n,i,o),r!==null&&(ti(r,n,o,t),md(r,n,o))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var e=Rn(),t=Ra(n),o=Fi(e,t);o.tag=2,r!=null&&(o.callback=r),r=Na(n,o,t),r!==null&&(ti(r,n,t,e),md(r,n,t))}};function S_(n,r,e,t,o,i,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(t,i,s):r.prototype&&r.prototype.isPureReactComponent?!kc(e,t)||!kc(o,i):!0}function wS(n,r,e){var t=!1,o=Va,i=r.contextType;return typeof i=="object"&&i!==null?i=Fo(i):(o=to(r)?Cs:_n.current,t=r.contextTypes,i=(t=t!=null)?Fl(n,o):Va),r=new r(e,i),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=fh,n.stateNode=r,r._reactInternals=n,t&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=i),r}function O_(n,r,e,t){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(e,t),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(e,t),r.state!==n&&fh.enqueueReplaceState(r,r.state,null)}function Xg(n,r,e,t){var o=n.stateNode;o.props=e,o.state=n.memoizedState,o.refs={},Cy(n);var i=r.contextType;typeof i=="object"&&i!==null?o.context=Fo(i):(i=to(r)?Cs:_n.current,o.context=Fl(n,i)),o.state=n.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(Yg(n,r,i,e),o.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&fh.enqueueReplaceState(o,o.state,null),Kd(n,e,o,t),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function Bl(n,r){try{var e="",t=r;do e+=cP(t),t=t.return;while(t);var o=e}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:r,stack:o,digest:null}}function Nv(n,r,e){return{value:n,source:null,stack:e??null,digest:r??null}}function Jg(n,r){try{console.error(r.value)}catch(e){setTimeout(function(){throw e})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function _S(n,r,e){e=Fi(-1,e),e.tag=3,e.payload={element:null};var t=r.value;return e.callback=function(){Jd||(Jd=!0,sm=t),Jg(n,r)},e}function bS(n,r,e){e=Fi(-1,e),e.tag=3;var t=n.type.getDerivedStateFromError;if(typeof t=="function"){var o=r.value;e.payload=function(){return t(o)},e.callback=function(){Jg(n,r)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Jg(n,r),typeof t!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})}),e}function E_(n,r,e){var t=n.pingCache;if(t===null){t=n.pingCache=new Ik;var o=new Set;t.set(r,o)}else o=t.get(r),o===void 0&&(o=new Set,t.set(r,o));o.has(e)||(o.add(e),n=Jk.bind(null,n,r,e),r.then(n,n))}function T_(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function P_(n,r,e,t,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===r?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(r=Fi(-1,1),r.tag=2,Na(e,r,1))),e.lanes|=1),n)}var Fk=Ki.ReactCurrentOwner,Qn=!1;function Mn(n,r,e,t){r.child=n===null?XC(r,null,e,t):Ul(r,n.child,e,t)}function k_(n,r,e,t,o){e=e.render;var i=r.ref;return Ml(r,o),t=Py(n,r,e,t,i,o),e=ky(),n!==null&&!Qn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o,Hi(n,r,o)):(hr&&e&&gy(r),r.flags|=1,Mn(n,r,t,o),r.child)}function A_(n,r,e,t,o){if(n===null){var i=e.type;return typeof i=="function"&&!Vy(i)&&i.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(r.tag=15,r.type=i,xS(n,r,i,t,o)):(n=Cd(e.type,null,t,r,r.mode,o),n.ref=r.ref,n.return=r,r.child=n)}if(i=n.child,!(n.lanes&o)){var s=i.memoizedProps;if(e=e.compare,e=e!==null?e:kc,e(s,t)&&n.ref===r.ref)return Hi(n,r,o)}return r.flags|=1,n=ja(i,t),n.ref=r.ref,n.return=r,r.child=n}function xS(n,r,e,t,o){if(n!==null){var i=n.memoizedProps;if(kc(i,t)&&n.ref===r.ref)if(Qn=!1,r.pendingProps=t=i,(n.lanes&o)!==0)n.flags&131072&&(Qn=!0);else return r.lanes=n.lanes,Hi(n,r,o)}return Zg(n,r,e,t,o)}function CS(n,r,e){var t=r.pendingProps,o=t.children,i=n!==null?n.memoizedState:null;if(t.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(wl,go),go|=e;else{if(!(e&1073741824))return n=i!==null?i.baseLanes|e:e,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,rr(wl,go),go|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=i!==null?i.baseLanes:e,rr(wl,go),go|=t}else i!==null?(t=i.baseLanes|e,r.memoizedState=null):t=e,rr(wl,go),go|=t;return Mn(n,r,o,e),r.child}function SS(n,r){var e=r.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(r.flags|=512,r.flags|=2097152)}function Zg(n,r,e,t,o){var i=to(e)?Cs:_n.current;return i=Fl(r,i),Ml(r,o),e=Py(n,r,e,t,i,o),t=ky(),n!==null&&!Qn?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o,Hi(n,r,o)):(hr&&t&&gy(r),r.flags|=1,Mn(n,r,e,o),r.child)}function L_(n,r,e,t,o){if(to(e)){var i=!0;zd(r)}else i=!1;if(Ml(r,o),r.stateNode===null)_d(n,r),wS(r,e,t),Xg(r,e,t,o),t=!0;else if(n===null){var s=r.stateNode,l=r.memoizedProps;s.props=l;var c=s.context,f=e.contextType;typeof f=="object"&&f!==null?f=Fo(f):(f=to(e)?Cs:_n.current,f=Fl(r,f));var h=e.getDerivedStateFromProps,g=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==t||c!==f)&&O_(r,s,t,f),ya=!1;var m=r.memoizedState;s.state=m,Kd(r,t,s,o),c=r.memoizedState,l!==t||m!==c||eo.current||ya?(typeof h=="function"&&(Yg(r,e,h,t),c=r.memoizedState),(l=ya||S_(r,e,l,t,m,c,f))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(r.flags|=4194308)):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=t,r.memoizedState=c),s.props=t,s.state=c,s.context=f,t=l):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),t=!1)}else{s=r.stateNode,ZC(n,r),l=r.memoizedProps,f=r.type===r.elementType?l:Jo(r.type,l),s.props=f,g=r.pendingProps,m=s.context,c=e.contextType,typeof c=="object"&&c!==null?c=Fo(c):(c=to(e)?Cs:_n.current,c=Fl(r,c));var y=e.getDerivedStateFromProps;(h=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==g||m!==c)&&O_(r,s,t,c),ya=!1,m=r.memoizedState,s.state=m,Kd(r,t,s,o);var _=r.memoizedState;l!==g||m!==_||eo.current||ya?(typeof y=="function"&&(Yg(r,e,y,t),_=r.memoizedState),(f=ya||S_(r,e,f,t,m,_,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(t,_,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(t,_,c)),typeof s.componentDidUpdate=="function"&&(r.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(r.flags|=1024),r.memoizedProps=t,r.memoizedState=_),s.props=t,s.state=_,s.context=c,t=f):(typeof s.componentDidUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(r.flags|=1024),t=!1)}return Qg(n,r,e,t,i,o)}function Qg(n,r,e,t,o,i){SS(n,r);var s=(r.flags&128)!==0;if(!t&&!s)return o&&g_(r,e,!1),Hi(n,r,i);t=r.stateNode,Fk.current=r;var l=s&&typeof e.getDerivedStateFromError!="function"?null:t.render();return r.flags|=1,n!==null&&s?(r.child=Ul(r,n.child,null,i),r.child=Ul(r,null,l,i)):Mn(n,r,l,i),r.memoizedState=t.state,o&&g_(r,e,!0),r.child}function OS(n){var r=n.stateNode;r.pendingContext?v_(n,r.pendingContext,r.pendingContext!==r.context):r.context&&v_(n,r.context,!1),Sy(n,r.containerInfo)}function M_(n,r,e,t,o){return Vl(),yy(o),r.flags|=256,Mn(n,r,e,t),r.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(n){return{baseLanes:n,cachePool:null,transitions:null}}function ES(n,r,e){var t=r.pendingProps,o=mr.current,i=!1,s=(r.flags&128)!==0,l;if((l=s)||(l=n!==null&&n.memoizedState===null?!1:(o&2)!==0),l?(i=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),rr(mr,o&1),n===null)return Gg(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?n.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(s=t.children,n=t.fallback,i?(t=r.mode,i=r.child,s={mode:"hidden",children:s},!(t&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=hh(s,t,0,null),n=bs(n,t,e,null),i.return=r,n.return=r,i.sibling=n,r.child=i,r.child.memoizedState=tm(e),r.memoizedState=em,n):My(r,s));if(o=n.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Vk(n,r,s,t,l,o,e);if(i){i=t.fallback,s=r.mode,o=n.child,l=o.sibling;var c={mode:"hidden",children:t.children};return!(s&1)&&r.child!==o?(t=r.child,t.childLanes=0,t.pendingProps=c,r.deletions=null):(t=ja(o,c),t.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=ja(l,i):(i=bs(i,s,e,null),i.flags|=2),i.return=r,t.return=r,t.sibling=i,r.child=t,t=i,i=r.child,s=n.child.memoizedState,s=s===null?tm(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=n.childLanes&~e,r.memoizedState=em,t}return i=n.child,n=i.sibling,t=ja(i,{mode:"visible",children:t.children}),!(r.mode&1)&&(t.lanes=e),t.return=r,t.sibling=null,n!==null&&(e=r.deletions,e===null?(r.deletions=[n],r.flags|=16):e.push(n)),r.child=t,r.memoizedState=null,t}function My(n,r){return r=hh({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Qf(n,r,e,t){return t!==null&&yy(t),Ul(r,n.child,null,e),n=My(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Vk(n,r,e,t,o,i,s){if(e)return r.flags&256?(r.flags&=-257,t=Nv(Error(Ke(422))),Qf(n,r,s,t)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(i=t.fallback,o=r.mode,t=hh({mode:"visible",children:t.children},o,0,null),i=bs(i,o,s,null),i.flags|=2,t.return=r,i.return=r,t.sibling=i,r.child=t,r.mode&1&&Ul(r,n.child,null,s),r.child.memoizedState=tm(s),r.memoizedState=em,i);if(!(r.mode&1))return Qf(n,r,s,null);if(o.data==="$!"){if(t=o.nextSibling&&o.nextSibling.dataset,t)var l=t.dgst;return t=l,i=Error(Ke(419)),t=Nv(i,t,void 0),Qf(n,r,s,t)}if(l=(s&n.childLanes)!==0,Qn||l){if(t=Zr,t!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(t.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Bi(n,o),ti(t,n,o,-1))}return Fy(),t=Nv(Error(Ke(421))),Qf(n,r,s,t)}return o.data==="$?"?(r.flags|=128,r.child=n.child,r=Zk.bind(null,n),o._reactRetry=r,null):(n=i.treeContext,wo=Ma(o.nextSibling),xo=r,hr=!0,Qo=null,n!==null&&(No[Do++]=ji,No[Do++]=Ii,No[Do++]=Ss,ji=n.id,Ii=n.overflow,Ss=r),r=My(r,t.children),r.flags|=4096,r)}function N_(n,r,e){n.lanes|=r;var t=n.alternate;t!==null&&(t.lanes|=r),qg(n.return,r,e)}function Dv(n,r,e,t,o){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:t,tail:e,tailMode:o}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=t,i.tail=e,i.tailMode=o)}function TS(n,r,e){var t=r.pendingProps,o=t.revealOrder,i=t.tail;if(Mn(n,r,t.children,e),t=mr.current,t&2)t=t&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&N_(n,e,r);else if(n.tag===19)N_(n,e,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t&=1}if(rr(mr,t),!(r.mode&1))r.memoizedState=null;else switch(o){case"forwards":for(e=r.child,o=null;e!==null;)n=e.alternate,n!==null&&Gd(n)===null&&(o=e),e=e.sibling;e=o,e===null?(o=r.child,r.child=null):(o=e.sibling,e.sibling=null),Dv(r,!1,o,e,i);break;case"backwards":for(e=null,o=r.child,r.child=null;o!==null;){if(n=o.alternate,n!==null&&Gd(n)===null){r.child=o;break}n=o.sibling,o.sibling=e,e=o,o=n}Dv(r,!0,e,null,i);break;case"together":Dv(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _d(n,r){!(r.mode&1)&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Hi(n,r,e){if(n!==null&&(r.dependencies=n.dependencies),Es|=r.lanes,!(e&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(Ke(153));if(r.child!==null){for(n=r.child,e=ja(n,n.pendingProps),r.child=e,e.return=r;n.sibling!==null;)n=n.sibling,e=e.sibling=ja(n,n.pendingProps),e.return=r;e.sibling=null}return r.child}function Uk(n,r,e){switch(r.tag){case 3:OS(r),Vl();break;case 5:QC(r);break;case 1:to(r.type)&&zd(r);break;case 4:Sy(r,r.stateNode.containerInfo);break;case 10:var t=r.type._context,o=r.memoizedProps.value;rr(Wd,t._currentValue),t._currentValue=o;break;case 13:if(t=r.memoizedState,t!==null)return t.dehydrated!==null?(rr(mr,mr.current&1),r.flags|=128,null):e&r.child.childLanes?ES(n,r,e):(rr(mr,mr.current&1),n=Hi(n,r,e),n!==null?n.sibling:null);rr(mr,mr.current&1);break;case 19:if(t=(e&r.childLanes)!==0,n.flags&128){if(t)return TS(n,r,e);r.flags|=128}if(o=r.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),rr(mr,mr.current),t)break;return null;case 22:case 23:return r.lanes=0,CS(n,r,e)}return Hi(n,r,e)}var PS,rm,kS,AS;PS=function(n,r){for(var e=r.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};rm=function(){};kS=function(n,r,e,t){var o=n.memoizedProps;if(o!==t){n=r.stateNode,gs(vi.current);var i=null;switch(e){case"input":o=Sg(n,o),t=Sg(n,t),i=[];break;case"select":o=wr({},o,{value:void 0}),t=wr({},t,{value:void 0}),i=[];break;case"textarea":o=Tg(n,o),t=Tg(n,t),i=[];break;default:typeof o.onClick!="function"&&typeof t.onClick=="function"&&(n.onclick=Vd)}kg(e,t);var s;e=null;for(f in o)if(!t.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var l=o[f];for(s in l)l.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xc.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in t){var c=t[f];if(l=o!=null?o[f]:void 0,t.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(e||(e={}),e[s]=c[s])}else e||(i||(i=[]),i.push(f,e)),e=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(xc.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&lr("scroll",n),i||l===c||(i=[])):(i=i||[]).push(f,c))}e&&(i=i||[]).push("style",e);var f=i;(r.updateQueue=f)&&(r.flags|=4)}};AS=function(n,r,e,t){e!==t&&(r.flags|=4)};function Iu(n,r){if(!hr)switch(n.tailMode){case"hidden":r=n.tail;for(var e=null;r!==null;)r.alternate!==null&&(e=r),r=r.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:t.sibling=null}}function hn(n){var r=n.alternate!==null&&n.alternate.child===n.child,e=0,t=0;if(r)for(var o=n.child;o!==null;)e|=o.lanes|o.childLanes,t|=o.subtreeFlags&14680064,t|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)e|=o.lanes|o.childLanes,t|=o.subtreeFlags,t|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=t,n.childLanes=e,r}function zk(n,r,e){var t=r.pendingProps;switch(my(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(r),null;case 1:return to(r.type)&&Ud(),hn(r),null;case 3:return t=r.stateNode,zl(),cr(eo),cr(_n),Ey(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(Jf(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Qo!==null&&(cm(Qo),Qo=null))),rm(n,r),hn(r),null;case 5:Oy(r);var o=gs(Dc.current);if(e=r.type,n!==null&&r.stateNode!=null)kS(n,r,e,t,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!t){if(r.stateNode===null)throw Error(Ke(166));return hn(r),null}if(n=gs(vi.current),Jf(r)){t=r.stateNode,e=r.type;var i=r.memoizedProps;switch(t[pi]=r,t[Mc]=i,n=(r.mode&1)!==0,e){case"dialog":lr("cancel",t),lr("close",t);break;case"iframe":case"object":case"embed":lr("load",t);break;case"video":case"audio":for(o=0;o<Yu.length;o++)lr(Yu[o],t);break;case"source":lr("error",t);break;case"img":case"image":case"link":lr("error",t),lr("load",t);break;case"details":lr("toggle",t);break;case"input":Bw(t,i),lr("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},lr("invalid",t);break;case"textarea":Ww(t,i),lr("invalid",t)}kg(e,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?t.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xf(t.textContent,l,n),o=["children",l]):typeof l=="number"&&t.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xf(t.textContent,l,n),o=["children",""+l]):xc.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&lr("scroll",t)}switch(e){case"input":Bf(t),Hw(t,i,!0);break;case"textarea":Bf(t),$w(t);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}t=o,r.updateQueue=t,t!==null&&(r.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=oC(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof t.is=="string"?n=s.createElement(e,{is:t.is}):(n=s.createElement(e),e==="select"&&(s=n,t.multiple?s.multiple=!0:t.size&&(s.size=t.size))):n=s.createElementNS(n,e),n[pi]=r,n[Mc]=t,PS(n,r,!1,!1),r.stateNode=n;e:{switch(s=Ag(e,t),e){case"dialog":lr("cancel",n),lr("close",n),o=t;break;case"iframe":case"object":case"embed":lr("load",n),o=t;break;case"video":case"audio":for(o=0;o<Yu.length;o++)lr(Yu[o],n);o=t;break;case"source":lr("error",n),o=t;break;case"img":case"image":case"link":lr("error",n),lr("load",n),o=t;break;case"details":lr("toggle",n),o=t;break;case"input":Bw(n,t),o=Sg(n,t),lr("invalid",n);break;case"option":o=t;break;case"select":n._wrapperState={wasMultiple:!!t.multiple},o=wr({},t,{value:void 0}),lr("invalid",n);break;case"textarea":Ww(n,t),o=Tg(n,t),lr("invalid",n);break;default:o=t}kg(e,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sC(n,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iC(n,c)):i==="children"?typeof c=="string"?(e!=="textarea"||c!=="")&&Cc(n,c):typeof c=="number"&&Cc(n,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lr("scroll",n):c!=null&&ry(n,i,c,s))}switch(e){case"input":Bf(n),Hw(n,t,!1);break;case"textarea":Bf(n),$w(n);break;case"option":t.value!=null&&n.setAttribute("value",""+Fa(t.value));break;case"select":n.multiple=!!t.multiple,i=t.value,i!=null?Pl(n,!!t.multiple,i,!1):t.defaultValue!=null&&Pl(n,!!t.multiple,t.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=Vd)}switch(e){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return hn(r),null;case 6:if(n&&r.stateNode!=null)AS(n,r,n.memoizedProps,t);else{if(typeof t!="string"&&r.stateNode===null)throw Error(Ke(166));if(e=gs(Dc.current),gs(vi.current),Jf(r)){if(t=r.stateNode,e=r.memoizedProps,t[pi]=r,(i=t.nodeValue!==e)&&(n=xo,n!==null))switch(n.tag){case 3:Xf(t.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xf(t.nodeValue,e,(n.mode&1)!==0)}i&&(r.flags|=4)}else t=(e.nodeType===9?e:e.ownerDocument).createTextNode(t),t[pi]=r,r.stateNode=t}return hn(r),null;case 13:if(cr(mr),t=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hr&&wo!==null&&r.mode&1&&!(r.flags&128))qC(),Vl(),r.flags|=98560,i=!1;else if(i=Jf(r),t!==null&&t.dehydrated!==null){if(n===null){if(!i)throw Error(Ke(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[pi]=r}else Vl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;hn(r),i=!1}else Qo!==null&&(cm(Qo),Qo=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=e,r):(t=t!==null,t!==(n!==null&&n.memoizedState!==null)&&t&&(r.child.flags|=8192,r.mode&1&&(n===null||mr.current&1?Yr===0&&(Yr=3):Fy())),r.updateQueue!==null&&(r.flags|=4),hn(r),null);case 4:return zl(),rm(n,r),n===null&&Ac(r.stateNode.containerInfo),hn(r),null;case 10:return by(r.type._context),hn(r),null;case 17:return to(r.type)&&Ud(),hn(r),null;case 19:if(cr(mr),i=r.memoizedState,i===null)return hn(r),null;if(t=(r.flags&128)!==0,s=i.rendering,s===null)if(t)Iu(i,!1);else{if(Yr!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(s=Gd(n),s!==null){for(r.flags|=128,Iu(i,!1),t=s.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),r.subtreeFlags=0,t=e,e=r.child;e!==null;)i=e,n=t,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,n=s.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return rr(mr,mr.current&1|2),r.child}n=n.sibling}i.tail!==null&&Ar()>Hl&&(r.flags|=128,t=!0,Iu(i,!1),r.lanes=4194304)}else{if(!t)if(n=Gd(s),n!==null){if(r.flags|=128,t=!0,e=n.updateQueue,e!==null&&(r.updateQueue=e,r.flags|=4),Iu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!hr)return hn(r),null}else 2*Ar()-i.renderingStartTime>Hl&&e!==1073741824&&(r.flags|=128,t=!0,Iu(i,!1),r.lanes=4194304);i.isBackwards?(s.sibling=r.child,r.child=s):(e=i.last,e!==null?e.sibling=s:r.child=s,i.last=s)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=Ar(),r.sibling=null,e=mr.current,rr(mr,t?e&1|2:e&1),r):(hn(r),null);case 22:case 23:return Iy(),t=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==t&&(r.flags|=8192),t&&r.mode&1?go&1073741824&&(hn(r),r.subtreeFlags&6&&(r.flags|=8192)):hn(r),null;case 24:return null;case 25:return null}throw Error(Ke(156,r.tag))}function Bk(n,r){switch(my(r),r.tag){case 1:return to(r.type)&&Ud(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return zl(),cr(eo),cr(_n),Ey(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return Oy(r),null;case 13:if(cr(mr),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(Ke(340));Vl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return cr(mr),null;case 4:return zl(),null;case 10:return by(r.type._context),null;case 22:case 23:return Iy(),null;case 24:return null;default:return null}}var ed=!1,mn=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,lt=null;function yl(n,r){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){Cr(n,r,t)}else e.current=null}function nm(n,r,e){try{e()}catch(t){Cr(n,r,t)}}var D_=!1;function Wk(n,r){if(Ug=jd,n=RC(),vy(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var t=e.getSelection&&e.getSelection();if(t&&t.rangeCount!==0){e=t.anchorNode;var o=t.anchorOffset,i=t.focusNode;t=t.focusOffset;try{e.nodeType,i.nodeType}catch{e=null;break e}var s=0,l=-1,c=-1,f=0,h=0,g=n,m=null;t:for(;;){for(var y;g!==e||o!==0&&g.nodeType!==3||(l=s+o),g!==i||t!==0&&g.nodeType!==3||(c=s+t),g.nodeType===3&&(s+=g.nodeValue.length),(y=g.firstChild)!==null;)m=g,g=y;for(;;){if(g===n)break t;if(m===e&&++f===o&&(l=s),m===i&&++h===t&&(c=s),(y=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=y}e=l===-1||c===-1?null:{start:l,end:c}}else e=null}e=e||{start:0,end:0}}else e=null;for(zg={focusedElem:n,selectionRange:e},jd=!1,lt=r;lt!==null;)if(r=lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,lt=n;else for(;lt!==null;){r=lt;try{var _=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,C=_.memoizedState,S=r.stateNode,T=S.getSnapshotBeforeUpdate(r.elementType===r.type?x:Jo(r.type,x),C);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var E=r.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(N){Cr(r,r.return,N)}if(n=r.sibling,n!==null){n.return=r.return,lt=n;break}lt=r.return}return _=D_,D_=!1,_}function ic(n,r,e){var t=r.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&n)===n){var i=o.destroy;o.destroy=void 0,i!==void 0&&nm(r,e,i)}o=o.next}while(o!==t)}}function dh(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var e=r=r.next;do{if((e.tag&n)===n){var t=e.create;e.destroy=t()}e=e.next}while(e!==r)}}function om(n){var r=n.ref;if(r!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof r=="function"?r(n):r.current=n}}function LS(n){var r=n.alternate;r!==null&&(n.alternate=null,LS(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[pi],delete r[Mc],delete r[Wg],delete r[Ek],delete r[Tk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function MS(n){return n.tag===5||n.tag===3||n.tag===4}function R_(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||MS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,r,e){var t=n.tag;if(t===5||t===6)n=n.stateNode,r?e.nodeType===8?e.parentNode.insertBefore(n,r):e.insertBefore(n,r):(e.nodeType===8?(r=e.parentNode,r.insertBefore(n,e)):(r=e,r.appendChild(n)),e=e._reactRootContainer,e!=null||r.onclick!==null||(r.onclick=Vd));else if(t!==4&&(n=n.child,n!==null))for(im(n,r,e),n=n.sibling;n!==null;)im(n,r,e),n=n.sibling}function am(n,r,e){var t=n.tag;if(t===5||t===6)n=n.stateNode,r?e.insertBefore(n,r):e.appendChild(n);else if(t!==4&&(n=n.child,n!==null))for(am(n,r,e),n=n.sibling;n!==null;)am(n,r,e),n=n.sibling}var nn=null,Zo=!1;function ha(n,r,e){for(e=e.child;e!==null;)NS(n,r,e),e=e.sibling}function NS(n,r,e){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(oh,e)}catch{}switch(e.tag){case 5:mn||yl(e,r);case 6:var t=nn,o=Zo;nn=null,ha(n,r,e),nn=t,Zo=o,nn!==null&&(Zo?(n=nn,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):nn.removeChild(e.stateNode));break;case 18:nn!==null&&(Zo?(n=nn,e=e.stateNode,n.nodeType===8?Tv(n.parentNode,e):n.nodeType===1&&Tv(n,e),Tc(n)):Tv(nn,e.stateNode));break;case 4:t=nn,o=Zo,nn=e.stateNode.containerInfo,Zo=!0,ha(n,r,e),nn=t,Zo=o;break;case 0:case 11:case 14:case 15:if(!mn&&(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){o=t=t.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&nm(e,r,s),o=o.next}while(o!==t)}ha(n,r,e);break;case 1:if(!mn&&(yl(e,r),t=e.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(l){Cr(e,r,l)}ha(n,r,e);break;case 21:ha(n,r,e);break;case 22:e.mode&1?(mn=(t=mn)||e.memoizedState!==null,ha(n,r,e),mn=t):ha(n,r,e);break;default:ha(n,r,e)}}function j_(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Hk),r.forEach(function(t){var o=Qk.bind(null,n,t);e.has(t)||(e.add(t),t.then(o,o))})}}function qo(n,r){var e=r.deletions;if(e!==null)for(var t=0;t<e.length;t++){var o=e[t];try{var i=n,s=r,l=s;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,Zo=!1;break e;case 3:nn=l.stateNode.containerInfo,Zo=!0;break e;case 4:nn=l.stateNode.containerInfo,Zo=!0;break e}l=l.return}if(nn===null)throw Error(Ke(160));NS(i,s,o),nn=null,Zo=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(f){Cr(o,r,f)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)DS(r,n),r=r.sibling}function DS(n,r){var e=n.alternate,t=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(qo(r,n),li(n),t&4){try{ic(3,n,n.return),dh(3,n)}catch(x){Cr(n,n.return,x)}try{ic(5,n,n.return)}catch(x){Cr(n,n.return,x)}}break;case 1:qo(r,n),li(n),t&512&&e!==null&&yl(e,e.return);break;case 5:if(qo(r,n),li(n),t&512&&e!==null&&yl(e,e.return),n.flags&32){var o=n.stateNode;try{Cc(o,"")}catch(x){Cr(n,n.return,x)}}if(t&4&&(o=n.stateNode,o!=null)){var i=n.memoizedProps,s=e!==null?e.memoizedProps:i,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rC(o,i),Ag(l,s);var f=Ag(l,i);for(s=0;s<c.length;s+=2){var h=c[s],g=c[s+1];h==="style"?sC(o,g):h==="dangerouslySetInnerHTML"?iC(o,g):h==="children"?Cc(o,g):ry(o,h,g,f)}switch(l){case"input":Og(o,i);break;case"textarea":nC(o,i);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pl(o,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pl(o,!!i.multiple,i.defaultValue,!0):Pl(o,!!i.multiple,i.multiple?[]:"",!1))}o[Mc]=i}catch(x){Cr(n,n.return,x)}}break;case 6:if(qo(r,n),li(n),t&4){if(n.stateNode===null)throw Error(Ke(162));o=n.stateNode,i=n.memoizedProps;try{o.nodeValue=i}catch(x){Cr(n,n.return,x)}}break;case 3:if(qo(r,n),li(n),t&4&&e!==null&&e.memoizedState.isDehydrated)try{Tc(r.containerInfo)}catch(x){Cr(n,n.return,x)}break;case 4:qo(r,n),li(n);break;case 13:qo(r,n),li(n),o=n.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ry=Ar())),t&4&&j_(n);break;case 22:if(h=e!==null&&e.memoizedState!==null,n.mode&1?(mn=(f=mn)||h,qo(r,n),mn=f):qo(r,n),li(n),t&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!h&&n.mode&1)for(lt=n,h=n.child;h!==null;){for(g=lt=h;lt!==null;){switch(m=lt,y=m.child,m.tag){case 0:case 11:case 14:case 15:ic(4,m,m.return);break;case 1:yl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){t=m,e=m.return;try{r=t,_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(x){Cr(t,e,x)}}break;case 5:yl(m,m.return);break;case 22:if(m.memoizedState!==null){F_(g);continue}}y!==null?(y.return=m,lt=y):F_(g)}h=h.sibling}e:for(h=null,g=n;;){if(g.tag===5){if(h===null){h=g;try{o=g.stateNode,f?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,c=g.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=aC("display",s))}catch(x){Cr(n,n.return,x)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(x){Cr(n,n.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===n)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:qo(r,n),li(n),t&4&&j_(n);break;case 21:break;default:qo(r,n),li(n)}}function li(n){var r=n.flags;if(r&2){try{e:{for(var e=n.return;e!==null;){if(MS(e)){var t=e;break e}e=e.return}throw Error(Ke(160))}switch(t.tag){case 5:var o=t.stateNode;t.flags&32&&(Cc(o,""),t.flags&=-33);var i=R_(n);am(n,i,o);break;case 3:case 4:var s=t.stateNode.containerInfo,l=R_(n);im(n,l,s);break;default:throw Error(Ke(161))}}catch(c){Cr(n,n.return,c)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $k(n,r,e){lt=n,RS(n)}function RS(n,r,e){for(var t=(n.mode&1)!==0;lt!==null;){var o=lt,i=o.child;if(o.tag===22&&t){var s=o.memoizedState!==null||ed;if(!s){var l=o.alternate,c=l!==null&&l.memoizedState!==null||mn;l=ed;var f=mn;if(ed=s,(mn=c)&&!f)for(lt=o;lt!==null;)s=lt,c=s.child,s.tag===22&&s.memoizedState!==null?V_(o):c!==null?(c.return=s,lt=c):V_(o);for(;i!==null;)lt=i,RS(i),i=i.sibling;lt=o,ed=l,mn=f}I_(n)}else o.subtreeFlags&8772&&i!==null?(i.return=o,lt=i):I_(n)}}function I_(n){for(;lt!==null;){var r=lt;if(r.flags&8772){var e=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:mn||dh(5,r);break;case 1:var t=r.stateNode;if(r.flags&4&&!mn)if(e===null)t.componentDidMount();else{var o=r.elementType===r.type?e.memoizedProps:Jo(r.type,e.memoizedProps);t.componentDidUpdate(o,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&b_(r,i,t);break;case 3:var s=r.updateQueue;if(s!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}b_(r,s,e)}break;case 5:var l=r.stateNode;if(e===null&&r.flags&4){e=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&e.focus();break;case"img":c.src&&(e.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var f=r.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Tc(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}mn||r.flags&512&&om(r)}catch(m){Cr(r,r.return,m)}}if(r===n){lt=null;break}if(e=r.sibling,e!==null){e.return=r.return,lt=e;break}lt=r.return}}function F_(n){for(;lt!==null;){var r=lt;if(r===n){lt=null;break}var e=r.sibling;if(e!==null){e.return=r.return,lt=e;break}lt=r.return}}function V_(n){for(;lt!==null;){var r=lt;try{switch(r.tag){case 0:case 11:case 15:var e=r.return;try{dh(4,r)}catch(c){Cr(r,e,c)}break;case 1:var t=r.stateNode;if(typeof t.componentDidMount=="function"){var o=r.return;try{t.componentDidMount()}catch(c){Cr(r,o,c)}}var i=r.return;try{om(r)}catch(c){Cr(r,i,c)}break;case 5:var s=r.return;try{om(r)}catch(c){Cr(r,s,c)}}}catch(c){Cr(r,r.return,c)}if(r===n){lt=null;break}var l=r.sibling;if(l!==null){l.return=r.return,lt=l;break}lt=r.return}}var Kk=Math.ceil,Xd=Ki.ReactCurrentDispatcher,Ny=Ki.ReactCurrentOwner,Io=Ki.ReactCurrentBatchConfig,zt=0,Zr=null,Ir=null,on=0,go=0,wl=Ba(0),Yr=0,Fc=null,Es=0,ph=0,Dy=0,ac=null,Xn=null,Ry=0,Hl=1/0,Li=null,Jd=!1,sm=null,Da=null,td=!1,Ea=null,Zd=0,sc=0,lm=null,bd=-1,xd=0;function Rn(){return zt&6?Ar():bd!==-1?bd:bd=Ar()}function Ra(n){return n.mode&1?zt&2&&on!==0?on&-on:kk.transition!==null?(xd===0&&(xd=wC()),xd):(n=Yt,n!==0||(n=window.event,n=n===void 0?16:EC(n.type)),n):1}function ti(n,r,e,t){if(50<sc)throw sc=0,lm=null,Error(Ke(185));Kc(n,e,t),(!(zt&2)||n!==Zr)&&(n===Zr&&(!(zt&2)&&(ph|=e),Yr===4&&Ca(n,on)),ro(n,t),e===1&&zt===0&&!(r.mode&1)&&(Hl=Ar()+500,uh&&Ha()))}function ro(n,r){var e=n.callbackNode;kP(n,r);var t=Rd(n,n===Zr?on:0);if(t===0)e!==null&&qw(e),n.callbackNode=null,n.callbackPriority=0;else if(r=t&-t,n.callbackPriority!==r){if(e!=null&&qw(e),r===1)n.tag===0?Pk(U_.bind(null,n)):$C(U_.bind(null,n)),Sk(function(){!(zt&6)&&Ha()}),e=null;else{switch(_C(t)){case 1:e=sy;break;case 4:e=mC;break;case 16:e=Dd;break;case 536870912:e=yC;break;default:e=Dd}e=HS(e,jS.bind(null,n))}n.callbackPriority=r,n.callbackNode=e}}function jS(n,r){if(bd=-1,xd=0,zt&6)throw Error(Ke(327));var e=n.callbackNode;if(Nl()&&n.callbackNode!==e)return null;var t=Rd(n,n===Zr?on:0);if(t===0)return null;if(t&30||t&n.expiredLanes||r)r=Qd(n,t);else{r=t;var o=zt;zt|=2;var i=FS();(Zr!==n||on!==r)&&(Li=null,Hl=Ar()+500,_s(n,r));do try{Yk();break}catch(l){IS(n,l)}while(!0);_y(),Xd.current=i,zt=o,Ir!==null?r=0:(Zr=null,on=0,r=Yr)}if(r!==0){if(r===2&&(o=Rg(n),o!==0&&(t=o,r=um(n,o))),r===1)throw e=Fc,_s(n,0),Ca(n,t),ro(n,Ar()),e;if(r===6)Ca(n,t);else{if(o=n.current.alternate,!(t&30)&&!Gk(o)&&(r=Qd(n,t),r===2&&(i=Rg(n),i!==0&&(t=i,r=um(n,i))),r===1))throw e=Fc,_s(n,0),Ca(n,t),ro(n,Ar()),e;switch(n.finishedWork=o,n.finishedLanes=t,r){case 0:case 1:throw Error(Ke(345));case 2:ls(n,Xn,Li);break;case 3:if(Ca(n,t),(t&130023424)===t&&(r=Ry+500-Ar(),10<r)){if(Rd(n,0)!==0)break;if(o=n.suspendedLanes,(o&t)!==t){Rn(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=Hg(ls.bind(null,n,Xn,Li),r);break}ls(n,Xn,Li);break;case 4:if(Ca(n,t),(t&4194240)===t)break;for(r=n.eventTimes,o=-1;0<t;){var s=31-ei(t);i=1<<s,s=r[s],s>o&&(o=s),t&=~i}if(t=o,t=Ar()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Kk(t/1960))-t,10<t){n.timeoutHandle=Hg(ls.bind(null,n,Xn,Li),t);break}ls(n,Xn,Li);break;case 5:ls(n,Xn,Li);break;default:throw Error(Ke(329))}}}return ro(n,Ar()),n.callbackNode===e?jS.bind(null,n):null}function um(n,r){var e=ac;return n.current.memoizedState.isDehydrated&&(_s(n,r).flags|=256),n=Qd(n,r),n!==2&&(r=Xn,Xn=e,r!==null&&cm(r)),n}function cm(n){Xn===null?Xn=n:Xn.push.apply(Xn,n)}function Gk(n){for(var r=n;;){if(r.flags&16384){var e=r.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var t=0;t<e.length;t++){var o=e[t],i=o.getSnapshot;o=o.value;try{if(!ri(i(),o))return!1}catch{return!1}}}if(e=r.child,r.subtreeFlags&16384&&e!==null)e.return=r,r=e;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ca(n,r){for(r&=~Dy,r&=~ph,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var e=31-ei(r),t=1<<e;n[e]=-1,r&=~t}}function U_(n){if(zt&6)throw Error(Ke(327));Nl();var r=Rd(n,0);if(!(r&1))return ro(n,Ar()),null;var e=Qd(n,r);if(n.tag!==0&&e===2){var t=Rg(n);t!==0&&(r=t,e=um(n,t))}if(e===1)throw e=Fc,_s(n,0),Ca(n,r),ro(n,Ar()),e;if(e===6)throw Error(Ke(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,ls(n,Xn,Li),ro(n,Ar()),null}function jy(n,r){var e=zt;zt|=1;try{return n(r)}finally{zt=e,zt===0&&(Hl=Ar()+500,uh&&Ha())}}function Ts(n){Ea!==null&&Ea.tag===0&&!(zt&6)&&Nl();var r=zt;zt|=1;var e=Io.transition,t=Yt;try{if(Io.transition=null,Yt=1,n)return n()}finally{Yt=t,Io.transition=e,zt=r,!(zt&6)&&Ha()}}function Iy(){go=wl.current,cr(wl)}function _s(n,r){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Ck(e)),Ir!==null)for(e=Ir.return;e!==null;){var t=e;switch(my(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&Ud();break;case 3:zl(),cr(eo),cr(_n),Ey();break;case 5:Oy(t);break;case 4:zl();break;case 13:cr(mr);break;case 19:cr(mr);break;case 10:by(t.type._context);break;case 22:case 23:Iy()}e=e.return}if(Zr=n,Ir=n=ja(n.current,null),on=go=r,Yr=0,Fc=null,Dy=ph=Es=0,Xn=ac=null,vs!==null){for(r=0;r<vs.length;r++)if(e=vs[r],t=e.interleaved,t!==null){e.interleaved=null;var o=t.next,i=e.pending;if(i!==null){var s=i.next;i.next=o,t.next=s}e.pending=t}vs=null}return n}function IS(n,r){do{var e=Ir;try{if(_y(),yd.current=Yd,qd){for(var t=yr.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}qd=!1}if(Os=0,Jr=qr=yr=null,oc=!1,Rc=0,Ny.current=null,e===null||e.return===null){Yr=1,Fc=r,Ir=null;break}e:{var i=n,s=e.return,l=e,c=r;if(r=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=T_(s);if(y!==null){y.flags&=-257,P_(y,s,l,i,r),y.mode&1&&E_(i,f,r),r=y,c=f;var _=r.updateQueue;if(_===null){var x=new Set;x.add(c),r.updateQueue=x}else _.add(c);break e}else{if(!(r&1)){E_(i,f,r),Fy();break e}c=Error(Ke(426))}}else if(hr&&l.mode&1){var C=T_(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),P_(C,s,l,i,r),yy(Bl(c,l));break e}}i=c=Bl(c,l),Yr!==4&&(Yr=2),ac===null?ac=[i]:ac.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var S=_S(i,c,r);__(i,S);break e;case 1:l=c;var T=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Da===null||!Da.has(E)))){i.flags|=65536,r&=-r,i.lanes|=r;var N=bS(i,l,r);__(i,N);break e}}i=i.return}while(i!==null)}US(e)}catch(K){r=K,Ir===e&&e!==null&&(Ir=e=e.return);continue}break}while(!0)}function FS(){var n=Xd.current;return Xd.current=Yd,n===null?Yd:n}function Fy(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),Zr===null||!(Es&268435455)&&!(ph&268435455)||Ca(Zr,on)}function Qd(n,r){var e=zt;zt|=2;var t=FS();(Zr!==n||on!==r)&&(Li=null,_s(n,r));do try{qk();break}catch(o){IS(n,o)}while(!0);if(_y(),zt=e,Xd.current=t,Ir!==null)throw Error(Ke(261));return Zr=null,on=0,Yr}function qk(){for(;Ir!==null;)VS(Ir)}function Yk(){for(;Ir!==null&&!_P();)VS(Ir)}function VS(n){var r=BS(n.alternate,n,go);n.memoizedProps=n.pendingProps,r===null?US(n):Ir=r,Ny.current=null}function US(n){var r=n;do{var e=r.alternate;if(n=r.return,r.flags&32768){if(e=Bk(e,r),e!==null){e.flags&=32767,Ir=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yr=6,Ir=null;return}}else if(e=zk(e,r,go),e!==null){Ir=e;return}if(r=r.sibling,r!==null){Ir=r;return}Ir=r=n}while(r!==null);Yr===0&&(Yr=5)}function ls(n,r,e){var t=Yt,o=Io.transition;try{Io.transition=null,Yt=1,Xk(n,r,e,t)}finally{Io.transition=o,Yt=t}return null}function Xk(n,r,e,t){do Nl();while(Ea!==null);if(zt&6)throw Error(Ke(327));e=n.finishedWork;var o=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Ke(177));n.callbackNode=null,n.callbackPriority=0;var i=e.lanes|e.childLanes;if(AP(n,i),n===Zr&&(Ir=Zr=null,on=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||td||(td=!0,HS(Dd,function(){return Nl(),null})),i=(e.flags&15990)!==0,e.subtreeFlags&15990||i){i=Io.transition,Io.transition=null;var s=Yt;Yt=1;var l=zt;zt|=4,Ny.current=null,Wk(n,e),DS(e,n),gk(zg),jd=!!Ug,zg=Ug=null,n.current=e,$k(e),bP(),zt=l,Yt=s,Io.transition=i}else n.current=e;if(td&&(td=!1,Ea=n,Zd=o),i=n.pendingLanes,i===0&&(Da=null),SP(e.stateNode),ro(n,Ar()),r!==null)for(t=n.onRecoverableError,e=0;e<r.length;e++)o=r[e],t(o.value,{componentStack:o.stack,digest:o.digest});if(Jd)throw Jd=!1,n=sm,sm=null,n;return Zd&1&&n.tag!==0&&Nl(),i=n.pendingLanes,i&1?n===lm?sc++:(sc=0,lm=n):sc=0,Ha(),null}function Nl(){if(Ea!==null){var n=_C(Zd),r=Io.transition,e=Yt;try{if(Io.transition=null,Yt=16>n?16:n,Ea===null)var t=!1;else{if(n=Ea,Ea=null,Zd=0,zt&6)throw Error(Ke(331));var o=zt;for(zt|=4,lt=n.current;lt!==null;){var i=lt,s=i.child;if(lt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(lt=f;lt!==null;){var h=lt;switch(h.tag){case 0:case 11:case 15:ic(8,h,i)}var g=h.child;if(g!==null)g.return=h,lt=g;else for(;lt!==null;){h=lt;var m=h.sibling,y=h.return;if(LS(h),h===f){lt=null;break}if(m!==null){m.return=y,lt=m;break}lt=y}}}var _=i.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var C=x.sibling;x.sibling=null,x=C}while(x!==null)}}lt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,lt=s;else e:for(;lt!==null;){if(i=lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ic(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,lt=S;break e}lt=i.return}}var T=n.current;for(lt=T;lt!==null;){s=lt;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,lt=E;else e:for(s=T;lt!==null;){if(l=lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dh(9,l)}}catch(K){Cr(l,l.return,K)}if(l===s){lt=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,lt=N;break e}lt=l.return}}if(zt=o,Ha(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(oh,n)}catch{}t=!0}return t}finally{Yt=e,Io.transition=r}}return!1}function z_(n,r,e){r=Bl(e,r),r=_S(n,r,1),n=Na(n,r,1),r=Rn(),n!==null&&(Kc(n,1,r),ro(n,r))}function Cr(n,r,e){if(n.tag===3)z_(n,n,e);else for(;r!==null;){if(r.tag===3){z_(r,n,e);break}else if(r.tag===1){var t=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(Da===null||!Da.has(t))){n=Bl(e,n),n=bS(r,n,1),r=Na(r,n,1),n=Rn(),r!==null&&(Kc(r,1,n),ro(r,n));break}}r=r.return}}function Jk(n,r,e){var t=n.pingCache;t!==null&&t.delete(r),r=Rn(),n.pingedLanes|=n.suspendedLanes&e,Zr===n&&(on&e)===e&&(Yr===4||Yr===3&&(on&130023424)===on&&500>Ar()-Ry?_s(n,0):Dy|=e),ro(n,r)}function zS(n,r){r===0&&(n.mode&1?(r=$f,$f<<=1,!($f&130023424)&&($f=4194304)):r=1);var e=Rn();n=Bi(n,r),n!==null&&(Kc(n,r,e),ro(n,e))}function Zk(n){var r=n.memoizedState,e=0;r!==null&&(e=r.retryLane),zS(n,e)}function Qk(n,r){var e=0;switch(n.tag){case 13:var t=n.stateNode,o=n.memoizedState;o!==null&&(e=o.retryLane);break;case 19:t=n.stateNode;break;default:throw Error(Ke(314))}t!==null&&t.delete(r),zS(n,e)}var BS;BS=function(n,r,e){if(n!==null)if(n.memoizedProps!==r.pendingProps||eo.current)Qn=!0;else{if(!(n.lanes&e)&&!(r.flags&128))return Qn=!1,Uk(n,r,e);Qn=!!(n.flags&131072)}else Qn=!1,hr&&r.flags&1048576&&KC(r,Hd,r.index);switch(r.lanes=0,r.tag){case 2:var t=r.type;_d(n,r),n=r.pendingProps;var o=Fl(r,_n.current);Ml(r,e),o=Py(null,r,t,n,o,e);var i=ky();return r.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,to(t)?(i=!0,zd(r)):i=!1,r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Cy(r),o.updater=fh,r.stateNode=o,o._reactInternals=r,Xg(r,t,n,e),r=Qg(null,r,t,!0,i,e)):(r.tag=0,hr&&i&&gy(r),Mn(null,r,o,e),r=r.child),r;case 16:t=r.elementType;e:{switch(_d(n,r),n=r.pendingProps,o=t._init,t=o(t._payload),r.type=t,o=r.tag=tA(t),n=Jo(t,n),o){case 0:r=Zg(null,r,t,n,e);break e;case 1:r=L_(null,r,t,n,e);break e;case 11:r=k_(null,r,t,n,e);break e;case 14:r=A_(null,r,t,Jo(t.type,n),e);break e}throw Error(Ke(306,t,""))}return r;case 0:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:Jo(t,o),Zg(n,r,t,o,e);case 1:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:Jo(t,o),L_(n,r,t,o,e);case 3:e:{if(OS(r),n===null)throw Error(Ke(387));t=r.pendingProps,i=r.memoizedState,o=i.element,ZC(n,r),Kd(r,t,null,e);var s=r.memoizedState;if(t=s.element,i.isDehydrated)if(i={element:t,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){o=Bl(Error(Ke(423)),r),r=M_(n,r,t,e,o);break e}else if(t!==o){o=Bl(Error(Ke(424)),r),r=M_(n,r,t,e,o);break e}else for(wo=Ma(r.stateNode.containerInfo.firstChild),xo=r,hr=!0,Qo=null,e=XC(r,null,t,e),r.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Vl(),t===o){r=Hi(n,r,e);break e}Mn(n,r,t,e)}r=r.child}return r;case 5:return QC(r),n===null&&Gg(r),t=r.type,o=r.pendingProps,i=n!==null?n.memoizedProps:null,s=o.children,Bg(t,o)?s=null:i!==null&&Bg(t,i)&&(r.flags|=32),SS(n,r),Mn(n,r,s,e),r.child;case 6:return n===null&&Gg(r),null;case 13:return ES(n,r,e);case 4:return Sy(r,r.stateNode.containerInfo),t=r.pendingProps,n===null?r.child=Ul(r,null,t,e):Mn(n,r,t,e),r.child;case 11:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:Jo(t,o),k_(n,r,t,o,e);case 7:return Mn(n,r,r.pendingProps,e),r.child;case 8:return Mn(n,r,r.pendingProps.children,e),r.child;case 12:return Mn(n,r,r.pendingProps.children,e),r.child;case 10:e:{if(t=r.type._context,o=r.pendingProps,i=r.memoizedProps,s=o.value,rr(Wd,t._currentValue),t._currentValue=s,i!==null)if(ri(i.value,s)){if(i.children===o.children&&!eo.current){r=Hi(n,r,e);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===t){if(i.tag===1){c=Fi(-1,e&-e),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?c.next=c:(c.next=h.next,h.next=c),f.pending=c}}i.lanes|=e,c=i.alternate,c!==null&&(c.lanes|=e),qg(i.return,e,r),l.lanes|=e;break}c=c.next}}else if(i.tag===10)s=i.type===r.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ke(341));s.lanes|=e,l=s.alternate,l!==null&&(l.lanes|=e),qg(s,e,r),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===r){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mn(n,r,o.children,e),r=r.child}return r;case 9:return o=r.type,t=r.pendingProps.children,Ml(r,e),o=Fo(o),t=t(o),r.flags|=1,Mn(n,r,t,e),r.child;case 14:return t=r.type,o=Jo(t,r.pendingProps),o=Jo(t.type,o),A_(n,r,t,o,e);case 15:return xS(n,r,r.type,r.pendingProps,e);case 17:return t=r.type,o=r.pendingProps,o=r.elementType===t?o:Jo(t,o),_d(n,r),r.tag=1,to(t)?(n=!0,zd(r)):n=!1,Ml(r,e),wS(r,t,o),Xg(r,t,o,e),Qg(null,r,t,!0,n,e);case 19:return TS(n,r,e);case 22:return CS(n,r,e)}throw Error(Ke(156,r.tag))};function HS(n,r){return gC(n,r)}function eA(n,r,e,t){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(n,r,e,t){return new eA(n,r,e,t)}function Vy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tA(n){if(typeof n=="function")return Vy(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oy)return 11;if(n===iy)return 14}return 2}function ja(n,r){var e=n.alternate;return e===null?(e=Ro(n.tag,r,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=r,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,r=n.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Cd(n,r,e,t,o,i){var s=2;if(t=n,typeof n=="function")Vy(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case ul:return bs(e.children,o,i,r);case ny:s=8,o|=8;break;case _g:return n=Ro(12,e,r,o|2),n.elementType=_g,n.lanes=i,n;case bg:return n=Ro(13,e,r,o),n.elementType=bg,n.lanes=i,n;case xg:return n=Ro(19,e,r,o),n.elementType=xg,n.lanes=i,n;case Qx:return hh(e,o,i,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Jx:s=10;break e;case Zx:s=9;break e;case oy:s=11;break e;case iy:s=14;break e;case ma:s=16,t=null;break e}throw Error(Ke(130,n==null?n:typeof n,""))}return r=Ro(s,e,r,o),r.elementType=n,r.type=t,r.lanes=i,r}function bs(n,r,e,t){return n=Ro(7,n,t,r),n.lanes=e,n}function hh(n,r,e,t){return n=Ro(22,n,t,r),n.elementType=Qx,n.lanes=e,n.stateNode={isHidden:!1},n}function Rv(n,r,e){return n=Ro(6,n,null,r),n.lanes=e,n}function jv(n,r,e){return r=Ro(4,n.children!==null?n.children:[],n.key,r),r.lanes=e,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function rA(n,r,e,t,o){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gv(0),this.expirationTimes=gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gv(0),this.identifierPrefix=t,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uy(n,r,e,t,o,i,s,l,c){return n=new rA(n,r,e,l,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ro(3,null,null,r),n.current=i,i.stateNode=n,i.memoizedState={element:t,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(i),n}function nA(n,r,e){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:t==null?null:""+t,children:n,containerInfo:r,implementation:e}}function WS(n){if(!n)return Va;n=n._reactInternals;e:{if(Ns(n)!==n||n.tag!==1)throw Error(Ke(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(to(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Ke(171))}if(n.tag===1){var e=n.type;if(to(e))return WC(n,e,r)}return r}function $S(n,r,e,t,o,i,s,l,c){return n=Uy(e,t,!0,n,o,i,s,l,c),n.context=WS(null),e=n.current,t=Rn(),o=Ra(e),i=Fi(t,o),i.callback=r??null,Na(e,i,o),n.current.lanes=o,Kc(n,o,t),ro(n,t),n}function vh(n,r,e,t){var o=r.current,i=Rn(),s=Ra(o);return e=WS(e),r.context===null?r.context=e:r.pendingContext=e,r=Fi(i,s),r.payload={element:n},t=t===void 0?null:t,t!==null&&(r.callback=t),n=Na(o,r,s),n!==null&&(ti(n,o,s,i),md(n,o,s)),s}function ep(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function B_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<r?e:r}}function zy(n,r){B_(n,r),(n=n.alternate)&&B_(n,r)}function oA(){return null}var KS=typeof reportError=="function"?reportError:function(n){console.error(n)};function By(n){this._internalRoot=n}gh.prototype.render=By.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(Ke(409));vh(n,r,null,null)};gh.prototype.unmount=By.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ts(function(){vh(null,n,null,null)}),r[zi]=null}};function gh(n){this._internalRoot=n}gh.prototype.unstable_scheduleHydration=function(n){if(n){var r=CC();n={blockedOn:null,target:n,priority:r};for(var e=0;e<xa.length&&r!==0&&r<xa[e].priority;e++);xa.splice(e,0,n),e===0&&OC(n)}};function Hy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function mh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function H_(){}function iA(n,r,e,t,o){if(o){if(typeof t=="function"){var i=t;t=function(){var f=ep(s);i.call(f)}}var s=$S(r,t,n,0,null,!1,!1,"",H_);return n._reactRootContainer=s,n[zi]=s.current,Ac(n.nodeType===8?n.parentNode:n),Ts(),s}for(;o=n.lastChild;)n.removeChild(o);if(typeof t=="function"){var l=t;t=function(){var f=ep(c);l.call(f)}}var c=Uy(n,0,!1,null,null,!1,!1,"",H_);return n._reactRootContainer=c,n[zi]=c.current,Ac(n.nodeType===8?n.parentNode:n),Ts(function(){vh(r,c,e,t)}),c}function yh(n,r,e,t,o){var i=e._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var c=ep(s);l.call(c)}}vh(r,s,n,o)}else s=iA(e,r,n,o,t);return ep(s)}bC=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var e=qu(r.pendingLanes);e!==0&&(ly(r,e|1),ro(r,Ar()),!(zt&6)&&(Hl=Ar()+500,Ha()))}break;case 13:Ts(function(){var t=Bi(n,1);if(t!==null){var o=Rn();ti(t,n,1,o)}}),zy(n,1)}};uy=function(n){if(n.tag===13){var r=Bi(n,134217728);if(r!==null){var e=Rn();ti(r,n,134217728,e)}zy(n,134217728)}};xC=function(n){if(n.tag===13){var r=Ra(n),e=Bi(n,r);if(e!==null){var t=Rn();ti(e,n,r,t)}zy(n,r)}};CC=function(){return Yt};SC=function(n,r){var e=Yt;try{return Yt=n,r()}finally{Yt=e}};Mg=function(n,r,e){switch(r){case"input":if(Og(n,e),r=e.name,e.type==="radio"&&r!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<e.length;r++){var t=e[r];if(t!==n&&t.form===n.form){var o=lh(t);if(!o)throw Error(Ke(90));tC(t),Og(t,o)}}}break;case"textarea":nC(n,e);break;case"select":r=e.value,r!=null&&Pl(n,!!e.multiple,r,!1)}};cC=jy;fC=Ts;var aA={usingClientEntryPoint:!1,Events:[qc,pl,lh,lC,uC,jy]},Fu={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sA={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hC(n),n===null?null:n.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||oA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{oh=rd.inject(sA),hi=rd}catch{}}Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aA;Oo.createPortal=function(n,r){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hy(r))throw Error(Ke(200));return nA(n,r,null,e)};Oo.createRoot=function(n,r){if(!Hy(n))throw Error(Ke(299));var e=!1,t="",o=KS;return r!=null&&(r.unstable_strictMode===!0&&(e=!0),r.identifierPrefix!==void 0&&(t=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),r=Uy(n,1,!1,null,null,e,!1,t,o),n[zi]=r.current,Ac(n.nodeType===8?n.parentNode:n),new By(r)};Oo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(Ke(188)):(n=Object.keys(n).join(","),Error(Ke(268,n)));return n=hC(r),n=n===null?null:n.stateNode,n};Oo.flushSync=function(n){return Ts(n)};Oo.hydrate=function(n,r,e){if(!mh(r))throw Error(Ke(200));return yh(null,n,r,!0,e)};Oo.hydrateRoot=function(n,r,e){if(!Hy(n))throw Error(Ke(405));var t=e!=null&&e.hydratedSources||null,o=!1,i="",s=KS;if(e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),r=$S(r,null,n,1,e??null,o,!1,i,s),n[zi]=r.current,Ac(n),t)for(n=0;n<t.length;n++)e=t[n],o=e._getVersion,o=o(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,o]:r.mutableSourceEagerHydrationData.push(e,o);return new gh(r)};Oo.render=function(n,r,e){if(!mh(r))throw Error(Ke(200));return yh(null,n,r,!1,e)};Oo.unmountComponentAtNode=function(n){if(!mh(n))throw Error(Ke(40));return n._reactRootContainer?(Ts(function(){yh(null,null,n,!1,function(){n._reactRootContainer=null,n[zi]=null})}),!0):!1};Oo.unstable_batchedUpdates=jy;Oo.unstable_renderSubtreeIntoContainer=function(n,r,e,t){if(!mh(e))throw Error(Ke(200));if(n==null||n._reactInternals===void 0)throw Error(Ke(38));return yh(n,r,e,!1,t)};Oo.version="18.3.1-next-f1338f8080-20240426";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(n){console.error(n)}}GS(),Gx.exports=Oo;var lA=Gx.exports,qS,W_=lA;qS=W_.createRoot,W_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},Vc.apply(this,arguments)}var Ta;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ta||(Ta={}));const $_="popstate";function uA(n){n===void 0&&(n={});function r(t,o){let{pathname:i,search:s,hash:l}=t.location;return fm("",{pathname:i,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(t,o){return typeof o=="string"?o:tp(o)}return fA(r,e,null,n)}function Fr(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function YS(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function cA(){return Math.random().toString(36).substr(2,8)}function K_(n,r){return{usr:n.state,key:n.key,idx:r}}function fm(n,r,e,t){return e===void 0&&(e=null),Vc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?Xl(r):r,{state:e,key:r&&r.key||t||cA()})}function tp(n){let{pathname:r="/",search:e="",hash:t=""}=n;return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Xl(n){let r={};if(n){let e=n.indexOf("#");e>=0&&(r.hash=n.substr(e),n=n.substr(0,e));let t=n.indexOf("?");t>=0&&(r.search=n.substr(t),n=n.substr(0,t)),n&&(r.pathname=n)}return r}function fA(n,r,e,t){t===void 0&&(t={});let{window:o=document.defaultView,v5Compat:i=!1}=t,s=o.history,l=Ta.Pop,c=null,f=h();f==null&&(f=0,s.replaceState(Vc({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function g(){l=Ta.Pop;let C=h(),S=C==null?null:C-f;f=C,c&&c({action:l,location:x.location,delta:S})}function m(C,S){l=Ta.Push;let T=fm(x.location,C,S);f=h()+1;let E=K_(T,f),N=x.createHref(T);try{s.pushState(E,"",N)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(N)}i&&c&&c({action:l,location:x.location,delta:1})}function y(C,S){l=Ta.Replace;let T=fm(x.location,C,S);f=h();let E=K_(T,f),N=x.createHref(T);s.replaceState(E,"",N),i&&c&&c({action:l,location:x.location,delta:0})}function _(C){let S=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof C=="string"?C:tp(C);return T=T.replace(/ $/,"%20"),Fr(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let x={get action(){return l},get location(){return n(o,s)},listen(C){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener($_,g),c=C,()=>{o.removeEventListener($_,g),c=null}},createHref(C){return r(o,C)},createURL:_,encodeLocation(C){let S=_(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(C){return s.go(C)}};return x}var G_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(G_||(G_={}));function dA(n,r,e){return e===void 0&&(e="/"),pA(n,r,e,!1)}function pA(n,r,e,t){let o=typeof r=="string"?Xl(r):r,i=Wy(o.pathname||"/",e);if(i==null)return null;let s=XS(n);hA(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=OA(i);l=CA(s[c],f,t)}return l}function XS(n,r,e,t){r===void 0&&(r=[]),e===void 0&&(e=[]),t===void 0&&(t="");let o=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Fr(c.relativePath.startsWith(t),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(t.length));let f=Ia([t,c.relativePath]),h=e.concat(c);i.children&&i.children.length>0&&(Fr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),XS(i.children,r,h,f)),!(i.path==null&&!i.index)&&r.push({path:f,score:bA(f,i.index),routesMeta:h})};return n.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))o(i,s);else for(let c of JS(i.path))o(i,s,c)}),r}function JS(n){let r=n.split("/");if(r.length===0)return[];let[e,...t]=r,o=e.endsWith("?"),i=e.replace(/\?$/,"");if(t.length===0)return o?[i,""]:[i];let s=JS(t.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),o&&l.push(...s),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function hA(n){n.sort((r,e)=>r.score!==e.score?e.score-r.score:xA(r.routesMeta.map(t=>t.childrenIndex),e.routesMeta.map(t=>t.childrenIndex)))}const vA=/^:[\w-]+$/,gA=3,mA=2,yA=1,wA=10,_A=-2,q_=n=>n==="*";function bA(n,r){let e=n.split("/"),t=e.length;return e.some(q_)&&(t+=_A),r&&(t+=mA),e.filter(o=>!q_(o)).reduce((o,i)=>o+(vA.test(i)?gA:i===""?yA:wA),t)}function xA(n,r){return n.length===r.length&&n.slice(0,-1).every((t,o)=>t===r[o])?n[n.length-1]-r[r.length-1]:0}function CA(n,r,e){let{routesMeta:t}=n,o={},i="/",s=[];for(let l=0;l<t.length;++l){let c=t[l],f=l===t.length-1,h=i==="/"?r:r.slice(i.length)||"/",g=Y_({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),m=c.route;if(!g&&f&&e&&!t[t.length-1].route.index&&(g=Y_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!g)return null;Object.assign(o,g.params),s.push({params:o,pathname:Ia([i,g.pathname]),pathnameBase:kA(Ia([i,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(i=Ia([i,g.pathnameBase]))}return s}function Y_(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,t]=SA(n.path,n.caseSensitive,n.end),o=r.match(e);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:t.reduce((f,h,g)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let x=l[g]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const _=l[g];return y&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:n}}function SA(n,r,e){r===void 0&&(r=!1),e===void 0&&(e=!0),YS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let t=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(t.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(t.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),t]}function OA(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return YS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function Wy(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let e=r.endsWith("/")?r.length-1:r.length,t=n.charAt(e);return t&&t!=="/"?null:n.slice(e)||"/"}function EA(n,r){r===void 0&&(r="/");let{pathname:e,search:t="",hash:o=""}=typeof n=="string"?Xl(n):n;return{pathname:e?e.startsWith("/")?e:TA(e,r):r,search:AA(t),hash:LA(o)}}function TA(n,r){let e=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function Iv(n,r,e,t){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PA(n){return n.filter((r,e)=>e===0||r.route.path&&r.route.path.length>0)}function ZS(n,r){let e=PA(n);return r?e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase):e.map(t=>t.pathnameBase)}function QS(n,r,e,t){t===void 0&&(t=!1);let o;typeof n=="string"?o=Xl(n):(o=Vc({},n),Fr(!o.pathname||!o.pathname.includes("?"),Iv("?","pathname","search",o)),Fr(!o.pathname||!o.pathname.includes("#"),Iv("#","pathname","hash",o)),Fr(!o.search||!o.search.includes("#"),Iv("#","search","hash",o)));let i=n===""||o.pathname==="",s=i?"/":o.pathname,l;if(s==null)l=e;else{let g=r.length-1;if(!t&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),g-=1;o.pathname=m.join("/")}l=g>=0?r[g]:"/"}let c=EA(o,l),f=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const Ia=n=>n.join("/").replace(/\/\/+/g,"/"),kA=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AA=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LA=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MA(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const e1=["post","put","patch","delete"];new Set(e1);const NA=["get",...e1];new Set(NA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},Uc.apply(this,arguments)}const $y=Ve.createContext(null),DA=Ve.createContext(null),Ds=Ve.createContext(null),wh=Ve.createContext(null),Wa=Ve.createContext({outlet:null,matches:[],isDataRoute:!1}),t1=Ve.createContext(null);function RA(n,r){let{relative:e}=r===void 0?{}:r;Xc()||Fr(!1);let{basename:t,navigator:o}=Ve.useContext(Ds),{hash:i,pathname:s,search:l}=n1(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Ia([t,s])),o.createHref({pathname:c,search:l,hash:i})}function Xc(){return Ve.useContext(wh)!=null}function Jc(){return Xc()||Fr(!1),Ve.useContext(wh).location}function r1(n){Ve.useContext(Ds).static||Ve.useLayoutEffect(n)}function _h(){let{isDataRoute:n}=Ve.useContext(Wa);return n?YA():jA()}function jA(){Xc()||Fr(!1);let n=Ve.useContext($y),{basename:r,future:e,navigator:t}=Ve.useContext(Ds),{matches:o}=Ve.useContext(Wa),{pathname:i}=Jc(),s=JSON.stringify(ZS(o,e.v7_relativeSplatPath)),l=Ve.useRef(!1);return r1(()=>{l.current=!0}),Ve.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=QS(f,JSON.parse(s),i,h.relative==="path");n==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:Ia([r,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[r,t,s,i,n])}function IA(){let{matches:n}=Ve.useContext(Wa),r=n[n.length-1];return r?r.params:{}}function n1(n,r){let{relative:e}=r===void 0?{}:r,{future:t}=Ve.useContext(Ds),{matches:o}=Ve.useContext(Wa),{pathname:i}=Jc(),s=JSON.stringify(ZS(o,t.v7_relativeSplatPath));return Ve.useMemo(()=>QS(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function FA(n,r){return VA(n,r)}function VA(n,r,e,t){Xc()||Fr(!1);let{navigator:o,static:i}=Ve.useContext(Ds),{matches:s}=Ve.useContext(Wa),l=s[s.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=Jc(),g;if(r){var m;let S=typeof r=="string"?Xl(r):r;f==="/"||(m=S.pathname)!=null&&m.startsWith(f)||Fr(!1),g=S}else g=h;let y=g.pathname||"/",_=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=!i&&e&&e.matches&&e.matches.length>0?e.matches:dA(n,{pathname:_}),C=WA(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ia([f,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ia([f,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,e,t);return r&&C?Ve.createElement(wh.Provider,{value:{location:Uc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ta.Pop}},C):C}function UA(){let n=qA(),r=MA(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ve.createElement(Ve.Fragment,null,Ve.createElement("h2",null,"Unexpected Application Error!"),Ve.createElement("h3",{style:{fontStyle:"italic"}},r),e?Ve.createElement("pre",{style:o},e):null,null)}const zA=Ve.createElement(UA,null);class BA extends Ve.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Ve.createElement(Wa.Provider,{value:this.props.routeContext},Ve.createElement(t1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HA(n){let{routeContext:r,match:e,children:t}=n,o=Ve.useContext($y);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),Ve.createElement(Wa.Provider,{value:r},t)}function WA(n,r,e,t){var o;if(r===void 0&&(r=[]),e===void 0&&(e=null),t===void 0&&(t=null),n==null){var i;if(!e)return null;if(e.errors)n=e.matches;else if((i=t)!=null&&i.v7_partialHydration&&r.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,l=(o=e)==null?void 0:o.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||Fr(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,f=-1;if(e&&t&&t.v7_partialHydration)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:m,errors:y}=e,_=g.route.loader&&m[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||_){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,g,m)=>{let y,_=!1,x=null,C=null;e&&(y=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||zA,c&&(f<0&&m===0?(_=!0,C=null):f===m&&(_=!0,C=g.route.hydrateFallbackElement||null)));let S=r.concat(s.slice(0,m+1)),T=()=>{let E;return y?E=x:_?E=C:g.route.Component?E=Ve.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=h,Ve.createElement(HA,{match:g,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:E})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?Ve.createElement(BA,{location:e.location,revalidation:e.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var o1=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(o1||{}),rp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(rp||{});function $A(n){let r=Ve.useContext($y);return r||Fr(!1),r}function KA(n){let r=Ve.useContext(DA);return r||Fr(!1),r}function GA(n){let r=Ve.useContext(Wa);return r||Fr(!1),r}function i1(n){let r=GA(),e=r.matches[r.matches.length-1];return e.route.id||Fr(!1),e.route.id}function qA(){var n;let r=Ve.useContext(t1),e=KA(rp.UseRouteError),t=i1(rp.UseRouteError);return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function YA(){let{router:n}=$A(o1.UseNavigateStable),r=i1(rp.UseNavigateStable),e=Ve.useRef(!1);return r1(()=>{e.current=!0}),Ve.useCallback(function(o,i){i===void 0&&(i={}),e.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Uc({fromRouteId:r},i)))},[n,r])}function XA(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Sd(n){Fr(!1)}function JA(n){let{basename:r="/",children:e=null,location:t,navigationType:o=Ta.Pop,navigator:i,static:s=!1,future:l}=n;Xc()&&Fr(!1);let c=r.replace(/^\/*/,"/"),f=Ve.useMemo(()=>({basename:c,navigator:i,static:s,future:Uc({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof t=="string"&&(t=Xl(t));let{pathname:h="/",search:g="",hash:m="",state:y=null,key:_="default"}=t,x=Ve.useMemo(()=>{let C=Wy(h,c);return C==null?null:{location:{pathname:C,search:g,hash:m,state:y,key:_},navigationType:o}},[c,h,g,m,y,_,o]);return x==null?null:Ve.createElement(Ds.Provider,{value:f},Ve.createElement(wh.Provider,{children:e,value:x}))}function ZA(n){let{children:r,location:e}=n;return FA(dm(r),e)}new Promise(()=>{});function dm(n,r){r===void 0&&(r=[]);let e=[];return Ve.Children.forEach(n,(t,o)=>{if(!Ve.isValidElement(t))return;let i=[...r,o];if(t.type===Ve.Fragment){e.push.apply(e,dm(t.props.children,i));return}t.type!==Sd&&Fr(!1),!t.props.index||!t.props.children||Fr(!1);let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=dm(t.props.children,i)),e.push(s)}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n},pm.apply(this,arguments)}function QA(n,r){if(n==null)return{};var e={},t=Object.keys(n),o,i;for(i=0;i<t.length;i++)o=t[i],!(r.indexOf(o)>=0)&&(e[o]=n[o]);return e}function eL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tL(n,r){return n.button===0&&(!r||r==="_self")&&!eL(n)}const rL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nL="6";try{window.__reactRouterVersion=nL}catch{}const oL="startTransition",X_=JT[oL];function iL(n){let{basename:r,children:e,future:t,window:o}=n,i=Ve.useRef();i.current==null&&(i.current=uA({window:o,v5Compat:!0}));let s=i.current,[l,c]=Ve.useState({action:s.action,location:s.location}),{v7_startTransition:f}=t||{},h=Ve.useCallback(g=>{f&&X_?X_(()=>c(g)):c(g)},[c,f]);return Ve.useLayoutEffect(()=>s.listen(h),[s,h]),Ve.useEffect(()=>XA(t),[t]),Ve.createElement(JA,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:s,future:t})}const aL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lL=Ve.forwardRef(function(r,e){let{onClick:t,relative:o,reloadDocument:i,replace:s,state:l,target:c,to:f,preventScrollReset:h,viewTransition:g}=r,m=QA(r,rL),{basename:y}=Ve.useContext(Ds),_,x=!1;if(typeof f=="string"&&sL.test(f)&&(_=f,aL))try{let E=new URL(window.location.href),N=f.startsWith("//")?new URL(E.protocol+f):new URL(f),K=Wy(N.pathname,y);N.origin===E.origin&&K!=null?f=K+N.search+N.hash:x=!0}catch{}let C=RA(f,{relative:o}),S=uL(f,{replace:s,state:l,target:c,preventScrollReset:h,relative:o,viewTransition:g});function T(E){t&&t(E),E.defaultPrevented||S(E)}return Ve.createElement("a",pm({},m,{href:_||C,onClick:x||i?t:T,ref:e,target:c}))});var J_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(J_||(J_={}));var Z_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Z_||(Z_={}));function uL(n,r){let{target:e,replace:t,state:o,preventScrollReset:i,relative:s,viewTransition:l}=r===void 0?{}:r,c=_h(),f=Jc(),h=n1(n,{relative:s});return Ve.useCallback(g=>{if(tL(g,e)){g.preventDefault();let m=t!==void 0?t:tp(f)===tp(h);c(n,{replace:m,state:o,preventScrollReset:i,relative:s,viewTransition:l})}},[f,c,h,t,o,e,n,i,s,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ni=(n,r)=>{const e=Ve.forwardRef(({color:t="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...f},h)=>Ve.createElement("svg",{ref:h,...cL,width:o,height:o,stroke:t,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${fL(n)}`,l].join(" "),...f},[...r.map(([g,m])=>Ve.createElement(g,m)),...Array.isArray(c)?c:[c]]));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ni("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=ni("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=ni("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=ni("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=ni("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ni("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=ni("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=ni("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=ni("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ni("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=ni("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function a1(n){var r,e,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(r=0;r<o;r++)n[r]&&(e=a1(n[r]))&&(t&&(t+=" "),t+=e)}else for(e in n)n[e]&&(t&&(t+=" "),t+=e);return t}function xL(){for(var n,r,e=0,t="",o=arguments.length;e<o;e++)(n=arguments[e])&&(r=a1(n))&&(t&&(t+=" "),t+=r);return t}const Ky="-",CL=n=>{const r=OL(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:t}=n;return{getClassGroupId:s=>{const l=s.split(Ky);return l[0]===""&&l.length!==1&&l.shift(),s1(l,r)||SL(s)},getConflictingClassGroupIds:(s,l)=>{const c=e[s]||[];return l&&t[s]?[...c,...t[s]]:c}}},s1=(n,r)=>{var s;if(n.length===0)return r.classGroupId;const e=n[0],t=r.nextPart.get(e),o=t?s1(n.slice(1),t):void 0;if(o)return o;if(r.validators.length===0)return;const i=n.join(Ky);return(s=r.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},Q_=/^\[(.+)\]$/,SL=n=>{if(Q_.test(n)){const r=Q_.exec(n)[1],e=r==null?void 0:r.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},OL=n=>{const{theme:r,prefix:e}=n,t={nextPart:new Map,validators:[]};return TL(Object.entries(n.classGroups),e).forEach(([i,s])=>{hm(s,t,i,r)}),t},hm=(n,r,e,t)=>{n.forEach(o=>{if(typeof o=="string"){const i=o===""?r:eb(r,o);i.classGroupId=e;return}if(typeof o=="function"){if(EL(o)){hm(o(t),r,e,t);return}r.validators.push({validator:o,classGroupId:e});return}Object.entries(o).forEach(([i,s])=>{hm(s,eb(r,i),e,t)})})},eb=(n,r)=>{let e=n;return r.split(Ky).forEach(t=>{e.nextPart.has(t)||e.nextPart.set(t,{nextPart:new Map,validators:[]}),e=e.nextPart.get(t)}),e},EL=n=>n.isThemeGetter,TL=(n,r)=>r?n.map(([e,t])=>{const o=t.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[r+s,l])):i);return[e,o]}):n,PL=n=>{if(n<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,t=new Map;const o=(i,s)=>{e.set(i,s),r++,r>n&&(r=0,t=e,e=new Map)};return{get(i){let s=e.get(i);if(s!==void 0)return s;if((s=t.get(i))!==void 0)return o(i,s),s},set(i,s){e.has(i)?e.set(i,s):o(i,s)}}},l1="!",kL=n=>{const{separator:r,experimentalParseClassName:e}=n,t=r.length===1,o=r[0],i=r.length,s=l=>{const c=[];let f=0,h=0,g;for(let C=0;C<l.length;C++){let S=l[C];if(f===0){if(S===o&&(t||l.slice(C,C+i)===r)){c.push(l.slice(h,C)),h=C+i;continue}if(S==="/"){g=C;continue}}S==="["?f++:S==="]"&&f--}const m=c.length===0?l:l.substring(h),y=m.startsWith(l1),_=y?m.substring(1):m,x=g&&g>h?g-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:x}};return e?l=>e({className:l,parseClassName:s}):s},AL=n=>{if(n.length<=1)return n;const r=[];let e=[];return n.forEach(t=>{t[0]==="["?(r.push(...e.sort(),t),e=[]):e.push(t)}),r.push(...e.sort()),r},LL=n=>({cache:PL(n.cacheSize),parseClassName:kL(n),...CL(n)}),ML=/\s+/,NL=(n,r)=>{const{parseClassName:e,getClassGroupId:t,getConflictingClassGroupIds:o}=r,i=[],s=n.trim().split(ML);let l="";for(let c=s.length-1;c>=0;c-=1){const f=s[c],{modifiers:h,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}=e(f);let _=!!y,x=t(_?m.substring(0,y):m);if(!x){if(!_){l=f+(l.length>0?" "+l:l);continue}if(x=t(m),!x){l=f+(l.length>0?" "+l:l);continue}_=!1}const C=AL(h).join(":"),S=g?C+l1:C,T=S+x;if(i.includes(T))continue;i.push(T);const E=o(x,_);for(let N=0;N<E.length;++N){const K=E[N];i.push(S+K)}l=f+(l.length>0?" "+l:l)}return l};function DL(){let n=0,r,e,t="";for(;n<arguments.length;)(r=arguments[n++])&&(e=u1(r))&&(t&&(t+=" "),t+=e);return t}const u1=n=>{if(typeof n=="string")return n;let r,e="";for(let t=0;t<n.length;t++)n[t]&&(r=u1(n[t]))&&(e&&(e+=" "),e+=r);return e};function RL(n,...r){let e,t,o,i=s;function s(c){const f=r.reduce((h,g)=>g(h),n());return e=LL(f),t=e.cache.get,o=e.cache.set,i=l,l(c)}function l(c){const f=t(c);if(f)return f;const h=NL(c,e);return o(c,h),h}return function(){return i(DL.apply(null,arguments))}}const sr=n=>{const r=e=>e[n]||[];return r.isThemeGetter=!0,r},c1=/^\[(?:([a-z-]+):)?(.+)\]$/i,jL=/^\d+\/\d+$/,IL=new Set(["px","full","screen"]),FL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pi=n=>Dl(n)||IL.has(n)||jL.test(n),va=n=>Jl(n,"length",XL),Dl=n=>!!n&&!Number.isNaN(Number(n)),Fv=n=>Jl(n,"number",Dl),Vu=n=>!!n&&Number.isInteger(Number(n)),HL=n=>n.endsWith("%")&&Dl(n.slice(0,-1)),Lt=n=>c1.test(n),ga=n=>FL.test(n),WL=new Set(["length","size","percentage"]),$L=n=>Jl(n,WL,f1),KL=n=>Jl(n,"position",f1),GL=new Set(["image","url"]),qL=n=>Jl(n,GL,ZL),YL=n=>Jl(n,"",JL),Uu=()=>!0,Jl=(n,r,e)=>{const t=c1.exec(n);return t?t[1]?typeof r=="string"?t[1]===r:r.has(t[1]):e(t[2]):!1},XL=n=>VL.test(n)&&!UL.test(n),f1=()=>!1,JL=n=>zL.test(n),ZL=n=>BL.test(n),QL=()=>{const n=sr("colors"),r=sr("spacing"),e=sr("blur"),t=sr("brightness"),o=sr("borderColor"),i=sr("borderRadius"),s=sr("borderSpacing"),l=sr("borderWidth"),c=sr("contrast"),f=sr("grayscale"),h=sr("hueRotate"),g=sr("invert"),m=sr("gap"),y=sr("gradientColorStops"),_=sr("gradientColorStopPositions"),x=sr("inset"),C=sr("margin"),S=sr("opacity"),T=sr("padding"),E=sr("saturate"),N=sr("scale"),K=sr("sepia"),re=sr("skew"),ue=sr("space"),Q=sr("translate"),$=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Lt,r],R=()=>[Lt,r],W=()=>["",Pi,va],H=()=>["auto",Dl,Lt],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["start","end","center","between","around","evenly","stretch"],xe=()=>["","0",Lt],De=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Dl,Lt];return{cacheSize:500,separator:":",theme:{colors:[Uu],spacing:[Pi,va],blur:["none","",ga,Lt],brightness:se(),borderColor:[n],borderRadius:["none","","full",ga,Lt],borderSpacing:R(),borderWidth:W(),contrast:se(),grayscale:xe(),hueRotate:se(),invert:xe(),gap:R(),gradientColorStops:[n],gradientColorStopPositions:[HL,va],inset:U(),margin:U(),opacity:se(),padding:R(),saturate:se(),scale:se(),sepia:xe(),skew:se(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[ga]}],"break-after":[{"break-after":De()}],"break-before":[{"break-before":De()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Lt]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vu,Lt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",Vu,Lt]}],"grid-cols":[{"grid-cols":[Uu]}],"col-start-end":[{col:["auto",{span:["full",Vu,Lt]},Lt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Uu]}],"row-start-end":[{row:["auto",{span:[Vu,Lt]},Lt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...oe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...oe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...oe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[ue]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ue]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,r]}],"min-w":[{"min-w":[Lt,r,"min","max","fit"]}],"max-w":[{"max-w":[Lt,r,"none","full","min","max","fit","prose",{screen:[ga]},ga]}],h:[{h:[Lt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ga,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fv]}],"font-family":[{font:[Uu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Dl,Fv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pi,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pi,va]}],"underline-offset":[{"underline-offset":["auto",Pi,Lt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),KL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$L]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qL]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:M()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Pi,Lt]}],"outline-w":[{outline:[Pi,va]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Pi,va]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",ga,YL]}],"shadow-color":[{shadow:[Uu]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[t]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ga,Lt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[E]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[t]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Vu,Lt]}],"translate-x":[{"translate-x":[Q]}],"translate-y":[{"translate-y":[Q]}],"skew-x":[{"skew-x":[re]}],"skew-y":[{"skew-y":[re]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Pi,va,Fv]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eM=RL(QL);function tM(...n){return eM(xL(n))}function rM({isAuthenticated:n,setIsAuthenticated:r}){const e=Jc(),t=_h(),o=()=>{localStorage.removeItem("token"),localStorage.removeItem("userId"),r(!1),t("/login")},i=[{href:"/",label:"Topics",icon:wL}];return Ye.jsx("nav",{className:"bg-white shadow-sm",children:Ye.jsx("div",{className:"container mx-auto px-4",children:Ye.jsxs("div",{className:"flex h-16 items-center justify-between",children:[Ye.jsx("div",{className:"flex items-center space-x-8",children:n&&i.map(({href:s,label:l,icon:c,disabled:f})=>Ye.jsxs(lL,{to:s,className:tM("flex items-center space-x-2 text-sm font-medium transition-colors",e.pathname===s?"text-blue-600":"text-gray-600 hover:text-blue-600",f&&"pointer-events-none opacity-50"),children:[Ye.jsx(c,{className:"h-4 w-4"}),Ye.jsx("span",{children:l})]},s))}),n&&Ye.jsxs("button",{onClick:o,className:"flex items-center space-x-2 text-sm font-medium text-gray-600 hover:text-blue-600",children:[Ye.jsx(mL,{className:"h-4 w-4"}),Ye.jsx("span",{children:"Logout"})]})]})})})}function d1(n,r){return function(){return n.apply(r,arguments)}}const{toString:nM}=Object.prototype,{getPrototypeOf:Gy}=Object,bh=(n=>r=>{const e=nM.call(r);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),oi=n=>(n=n.toLowerCase(),r=>bh(r)===n),xh=n=>r=>typeof r===n,{isArray:Zl}=Array,zc=xh("undefined");function oM(n){return n!==null&&!zc(n)&&n.constructor!==null&&!zc(n.constructor)&&Co(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const p1=oi("ArrayBuffer");function iM(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&p1(n.buffer),r}const aM=xh("string"),Co=xh("function"),h1=xh("number"),Ch=n=>n!==null&&typeof n=="object",sM=n=>n===!0||n===!1,Od=n=>{if(bh(n)!=="object")return!1;const r=Gy(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},lM=oi("Date"),uM=oi("File"),cM=oi("Blob"),fM=oi("FileList"),dM=n=>Ch(n)&&Co(n.pipe),pM=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||Co(n.append)&&((r=bh(n))==="formdata"||r==="object"&&Co(n.toString)&&n.toString()==="[object FormData]"))},hM=oi("URLSearchParams"),[vM,gM,mM,yM]=["ReadableStream","Request","Response","Headers"].map(oi),wM=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(n,r,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let t,o;if(typeof n!="object"&&(n=[n]),Zl(n))for(t=0,o=n.length;t<o;t++)r.call(null,n[t],t,n);else{const i=e?Object.getOwnPropertyNames(n):Object.keys(n),s=i.length;let l;for(t=0;t<s;t++)l=i[t],r.call(null,n[l],l,n)}}function v1(n,r){r=r.toLowerCase();const e=Object.keys(n);let t=e.length,o;for(;t-- >0;)if(o=e[t],r===o.toLowerCase())return o;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g1=n=>!zc(n)&&n!==ms;function vm(){const{caseless:n}=g1(this)&&this||{},r={},e=(t,o)=>{const i=n&&v1(r,o)||o;Od(r[i])&&Od(t)?r[i]=vm(r[i],t):Od(t)?r[i]=vm({},t):Zl(t)?r[i]=t.slice():r[i]=t};for(let t=0,o=arguments.length;t<o;t++)arguments[t]&&Zc(arguments[t],e);return r}const _M=(n,r,e,{allOwnKeys:t}={})=>(Zc(r,(o,i)=>{e&&Co(o)?n[i]=d1(o,e):n[i]=o},{allOwnKeys:t}),n),bM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),xM=(n,r,e,t)=>{n.prototype=Object.create(r.prototype,t),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),e&&Object.assign(n.prototype,e)},CM=(n,r,e,t)=>{let o,i,s;const l={};if(r=r||{},n==null)return r;do{for(o=Object.getOwnPropertyNames(n),i=o.length;i-- >0;)s=o[i],(!t||t(s,n,r))&&!l[s]&&(r[s]=n[s],l[s]=!0);n=e!==!1&&Gy(n)}while(n&&(!e||e(n,r))&&n!==Object.prototype);return r},SM=(n,r,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=r.length;const t=n.indexOf(r,e);return t!==-1&&t===e},OM=n=>{if(!n)return null;if(Zl(n))return n;let r=n.length;if(!h1(r))return null;const e=new Array(r);for(;r-- >0;)e[r]=n[r];return e},EM=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&Gy(Uint8Array)),TM=(n,r)=>{const t=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=t.next())&&!o.done;){const i=o.value;r.call(n,i[0],i[1])}},PM=(n,r)=>{let e;const t=[];for(;(e=n.exec(r))!==null;)t.push(e);return t},kM=oi("HTMLFormElement"),AM=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,o){return t.toUpperCase()+o}),tb=(({hasOwnProperty:n})=>(r,e)=>n.call(r,e))(Object.prototype),LM=oi("RegExp"),m1=(n,r)=>{const e=Object.getOwnPropertyDescriptors(n),t={};Zc(e,(o,i)=>{let s;(s=r(o,i,n))!==!1&&(t[i]=s||o)}),Object.defineProperties(n,t)},MM=n=>{m1(n,(r,e)=>{if(Co(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const t=n[e];if(Co(t)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},NM=(n,r)=>{const e={},t=o=>{o.forEach(i=>{e[i]=!0})};return Zl(n)?t(n):t(String(n).split(r)),e},DM=()=>{},RM=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function jM(n){return!!(n&&Co(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const IM=n=>{const r=new Array(10),e=(t,o)=>{if(Ch(t)){if(r.indexOf(t)>=0)return;if(!("toJSON"in t)){r[o]=t;const i=Zl(t)?[]:{};return Zc(t,(s,l)=>{const c=e(s,o+1);!zc(c)&&(i[l]=c)}),r[o]=void 0,i}}return t};return e(n,0)},FM=oi("AsyncFunction"),VM=n=>n&&(Ch(n)||Co(n))&&Co(n.then)&&Co(n.catch),y1=((n,r)=>n?setImmediate:r?((e,t)=>(ms.addEventListener("message",({source:o,data:i})=>{o===ms&&i===e&&t.length&&t.shift()()},!1),o=>{t.push(o),ms.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Co(ms.postMessage)),UM=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||y1,ke={isArray:Zl,isArrayBuffer:p1,isBuffer:oM,isFormData:pM,isArrayBufferView:iM,isString:aM,isNumber:h1,isBoolean:sM,isObject:Ch,isPlainObject:Od,isReadableStream:vM,isRequest:gM,isResponse:mM,isHeaders:yM,isUndefined:zc,isDate:lM,isFile:uM,isBlob:cM,isRegExp:LM,isFunction:Co,isStream:dM,isURLSearchParams:hM,isTypedArray:EM,isFileList:fM,forEach:Zc,merge:vm,extend:_M,trim:wM,stripBOM:bM,inherits:xM,toFlatObject:CM,kindOf:bh,kindOfTest:oi,endsWith:SM,toArray:OM,forEachEntry:TM,matchAll:PM,isHTMLForm:kM,hasOwnProperty:tb,hasOwnProp:tb,reduceDescriptors:m1,freezeMethods:MM,toObjectSet:NM,toCamelCase:AM,noop:DM,toFiniteNumber:RM,findKey:v1,global:ms,isContextDefined:g1,isSpecCompliantForm:jM,toJSONObject:IM,isAsyncFn:FM,isThenable:VM,setImmediate:y1,asap:UM};function Pt(n,r,e,t,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),e&&(this.config=e),t&&(this.request=t),o&&(this.response=o,this.status=o.status?o.status:null)}ke.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const w1=Pt.prototype,_1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{_1[n]={value:n}});Object.defineProperties(Pt,_1);Object.defineProperty(w1,"isAxiosError",{value:!0});Pt.from=(n,r,e,t,o,i)=>{const s=Object.create(w1);return ke.toFlatObject(n,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Pt.call(s,n.message,r,e,t,o),s.cause=n,s.name=n.name,i&&Object.assign(s,i),s};const zM=null;function gm(n){return ke.isPlainObject(n)||ke.isArray(n)}function b1(n){return ke.endsWith(n,"[]")?n.slice(0,-2):n}function rb(n,r,e){return n?n.concat(r).map(function(o,i){return o=b1(o),!e&&i?"["+o+"]":o}).join(e?".":""):r}function BM(n){return ke.isArray(n)&&!n.some(gm)}const HM=ke.toFlatObject(ke,{},null,function(r){return/^is[A-Z]/.test(r)});function Sh(n,r,e){if(!ke.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,e=ke.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!ke.isUndefined(C[x])});const t=e.metaTokens,o=e.visitor||h,i=e.dots,s=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(r);if(!ke.isFunction(o))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(ke.isDate(_))return _.toISOString();if(!c&&ke.isBlob(_))throw new Pt("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(_)||ke.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,x,C){let S=_;if(_&&!C&&typeof _=="object"){if(ke.endsWith(x,"{}"))x=t?x:x.slice(0,-2),_=JSON.stringify(_);else if(ke.isArray(_)&&BM(_)||(ke.isFileList(_)||ke.endsWith(x,"[]"))&&(S=ke.toArray(_)))return x=b1(x),S.forEach(function(E,N){!(ke.isUndefined(E)||E===null)&&r.append(s===!0?rb([x],N,i):s===null?x:x+"[]",f(E))}),!1}return gm(_)?!0:(r.append(rb(C,x,i),f(_)),!1)}const g=[],m=Object.assign(HM,{defaultVisitor:h,convertValue:f,isVisitable:gm});function y(_,x){if(!ke.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(_),ke.forEach(_,function(S,T){(!(ke.isUndefined(S)||S===null)&&o.call(r,S,ke.isString(T)?T.trim():T,x,m))===!0&&y(S,x?x.concat(T):[T])}),g.pop()}}if(!ke.isObject(n))throw new TypeError("data must be an object");return y(n),r}function nb(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(t){return r[t]})}function qy(n,r){this._pairs=[],n&&Sh(n,this,r)}const x1=qy.prototype;x1.append=function(r,e){this._pairs.push([r,e])};x1.toString=function(r){const e=r?function(t){return r.call(this,t,nb)}:nb;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};function WM(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C1(n,r,e){if(!r)return n;const t=e&&e.encode||WM;ke.isFunction(e)&&(e={serialize:e});const o=e&&e.serialize;let i;if(o?i=o(r,e):i=ke.isURLSearchParams(r)?r.toString():new qy(r,e).toString(t),i){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class ob{constructor(){this.handlers=[]}use(r,e,t){return this.handlers.push({fulfilled:r,rejected:e,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ke.forEach(this.handlers,function(t){t!==null&&r(t)})}}const S1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$M=typeof URLSearchParams<"u"?URLSearchParams:qy,KM=typeof FormData<"u"?FormData:null,GM=typeof Blob<"u"?Blob:null,qM={isBrowser:!0,classes:{URLSearchParams:$M,FormData:KM,Blob:GM},protocols:["http","https","file","blob","url","data"]},Yy=typeof window<"u"&&typeof document<"u",mm=typeof navigator=="object"&&navigator||void 0,YM=Yy&&(!mm||["ReactNative","NativeScript","NS"].indexOf(mm.product)<0),XM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JM=Yy&&window.location.href||"http://localhost",ZM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yy,hasStandardBrowserEnv:YM,hasStandardBrowserWebWorkerEnv:XM,navigator:mm,origin:JM},Symbol.toStringTag,{value:"Module"})),yn={...ZM,...qM};function QM(n,r){return Sh(n,new yn.classes.URLSearchParams,Object.assign({visitor:function(e,t,o,i){return yn.isNode&&ke.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},r))}function e2(n){return ke.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function t2(n){const r={},e=Object.keys(n);let t;const o=e.length;let i;for(t=0;t<o;t++)i=e[t],r[i]=n[i];return r}function O1(n){function r(e,t,o,i){let s=e[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=i>=e.length;return s=!s&&ke.isArray(o)?o.length:s,c?(ke.hasOwnProp(o,s)?o[s]=[o[s],t]:o[s]=t,!l):((!o[s]||!ke.isObject(o[s]))&&(o[s]=[]),r(e,t,o[s],i)&&ke.isArray(o[s])&&(o[s]=t2(o[s])),!l)}if(ke.isFormData(n)&&ke.isFunction(n.entries)){const e={};return ke.forEachEntry(n,(t,o)=>{r(e2(t),o,e,0)}),e}return null}function r2(n,r,e){if(ke.isString(n))try{return(r||JSON.parse)(n),ke.trim(n)}catch(t){if(t.name!=="SyntaxError")throw t}return(0,JSON.stringify)(n)}const Qc={transitional:S1,adapter:["xhr","http","fetch"],transformRequest:[function(r,e){const t=e.getContentType()||"",o=t.indexOf("application/json")>-1,i=ke.isObject(r);if(i&&ke.isHTMLForm(r)&&(r=new FormData(r)),ke.isFormData(r))return o?JSON.stringify(O1(r)):r;if(ke.isArrayBuffer(r)||ke.isBuffer(r)||ke.isStream(r)||ke.isFile(r)||ke.isBlob(r)||ke.isReadableStream(r))return r;if(ke.isArrayBufferView(r))return r.buffer;if(ke.isURLSearchParams(r))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return QM(r,this.formSerializer).toString();if((l=ke.isFileList(r))||t.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sh(l?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||o?(e.setContentType("application/json",!1),r2(r)):r}],transformResponse:[function(r){const e=this.transitional||Qc.transitional,t=e&&e.forcedJSONParsing,o=this.responseType==="json";if(ke.isResponse(r)||ke.isReadableStream(r))return r;if(r&&ke.isString(r)&&(t&&!this.responseType||o)){const s=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(r)}catch(l){if(s)throw l.name==="SyntaxError"?Pt.from(l,Pt.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],n=>{Qc.headers[n]={}});const n2=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),o2=n=>{const r={};let e,t,o;return n&&n.split(`
`).forEach(function(s){o=s.indexOf(":"),e=s.substring(0,o).trim().toLowerCase(),t=s.substring(o+1).trim(),!(!e||r[e]&&n2[e])&&(e==="set-cookie"?r[e]?r[e].push(t):r[e]=[t]:r[e]=r[e]?r[e]+", "+t:t)}),r},ib=Symbol("internals");function zu(n){return n&&String(n).trim().toLowerCase()}function Ed(n){return n===!1||n==null?n:ke.isArray(n)?n.map(Ed):String(n)}function i2(n){const r=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let t;for(;t=e.exec(n);)r[t[1]]=t[2];return r}const a2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Vv(n,r,e,t,o){if(ke.isFunction(t))return t.call(this,r,e);if(o&&(r=e),!!ke.isString(r)){if(ke.isString(t))return r.indexOf(t)!==-1;if(ke.isRegExp(t))return t.test(r)}}function s2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,e,t)=>e.toUpperCase()+t)}function l2(n,r){const e=ke.toCamelCase(" "+r);["get","set","has"].forEach(t=>{Object.defineProperty(n,t+e,{value:function(o,i,s){return this[t].call(this,r,o,i,s)},configurable:!0})})}class no{constructor(r){r&&this.set(r)}set(r,e,t){const o=this;function i(l,c,f){const h=zu(c);if(!h)throw new Error("header name must be a non-empty string");const g=ke.findKey(o,h);(!g||o[g]===void 0||f===!0||f===void 0&&o[g]!==!1)&&(o[g||c]=Ed(l))}const s=(l,c)=>ke.forEach(l,(f,h)=>i(f,h,c));if(ke.isPlainObject(r)||r instanceof this.constructor)s(r,e);else if(ke.isString(r)&&(r=r.trim())&&!a2(r))s(o2(r),e);else if(ke.isHeaders(r))for(const[l,c]of r.entries())i(c,l,t);else r!=null&&i(e,r,t);return this}get(r,e){if(r=zu(r),r){const t=ke.findKey(this,r);if(t){const o=this[t];if(!e)return o;if(e===!0)return i2(o);if(ke.isFunction(e))return e.call(this,o,t);if(ke.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,e){if(r=zu(r),r){const t=ke.findKey(this,r);return!!(t&&this[t]!==void 0&&(!e||Vv(this,this[t],t,e)))}return!1}delete(r,e){const t=this;let o=!1;function i(s){if(s=zu(s),s){const l=ke.findKey(t,s);l&&(!e||Vv(t,t[l],l,e))&&(delete t[l],o=!0)}}return ke.isArray(r)?r.forEach(i):i(r),o}clear(r){const e=Object.keys(this);let t=e.length,o=!1;for(;t--;){const i=e[t];(!r||Vv(this,this[i],i,r,!0))&&(delete this[i],o=!0)}return o}normalize(r){const e=this,t={};return ke.forEach(this,(o,i)=>{const s=ke.findKey(t,i);if(s){e[s]=Ed(o),delete e[i];return}const l=r?s2(i):String(i).trim();l!==i&&delete e[i],e[l]=Ed(o),t[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const e=Object.create(null);return ke.forEach(this,(t,o)=>{t!=null&&t!==!1&&(e[o]=r&&ke.isArray(t)?t.join(", "):t)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,e])=>r+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...e){const t=new this(r);return e.forEach(o=>t.set(o)),t}static accessor(r){const t=(this[ib]=this[ib]={accessors:{}}).accessors,o=this.prototype;function i(s){const l=zu(s);t[l]||(l2(o,s),t[l]=!0)}return ke.isArray(r)?r.forEach(i):i(r),this}}no.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(no.prototype,({value:n},r)=>{let e=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(t){this[e]=t}}});ke.freezeMethods(no);function Uv(n,r){const e=this||Qc,t=r||e,o=no.from(t.headers);let i=t.data;return ke.forEach(n,function(l){i=l.call(e,i,o.normalize(),r?r.status:void 0)}),o.normalize(),i}function E1(n){return!!(n&&n.__CANCEL__)}function Ql(n,r,e){Pt.call(this,n??"canceled",Pt.ERR_CANCELED,r,e),this.name="CanceledError"}ke.inherits(Ql,Pt,{__CANCEL__:!0});function T1(n,r,e){const t=e.config.validateStatus;!e.status||!t||t(e.status)?n(e):r(new Pt("Request failed with status code "+e.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function u2(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function c2(n,r){n=n||10;const e=new Array(n),t=new Array(n);let o=0,i=0,s;return r=r!==void 0?r:1e3,function(c){const f=Date.now(),h=t[i];s||(s=f),e[o]=c,t[o]=f;let g=i,m=0;for(;g!==o;)m+=e[g++],g=g%n;if(o=(o+1)%n,o===i&&(i=(i+1)%n),f-s<r)return;const y=h&&f-h;return y?Math.round(m*1e3/y):void 0}}function f2(n,r){let e=0,t=1e3/r,o,i;const s=(f,h=Date.now())=>{e=h,o=null,i&&(clearTimeout(i),i=null),n.apply(null,f)};return[(...f)=>{const h=Date.now(),g=h-e;g>=t?s(f,h):(o=f,i||(i=setTimeout(()=>{i=null,s(o)},t-g)))},()=>o&&s(o)]}const np=(n,r,e=3)=>{let t=0;const o=c2(50,250);return f2(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,c=s-t,f=o(c),h=s<=l;t=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:f||void 0,estimated:f&&l&&h?(l-s)/f:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};n(g)},e)},ab=(n,r)=>{const e=n!=null;return[t=>r[0]({lengthComputable:e,total:n,loaded:t}),r[1]]},sb=n=>(...r)=>ke.asap(()=>n(...r)),d2=yn.hasStandardBrowserEnv?((n,r)=>e=>(e=new URL(e,yn.origin),n.protocol===e.protocol&&n.host===e.host&&(r||n.port===e.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,p2=yn.hasStandardBrowserEnv?{write(n,r,e,t,o,i){const s=[n+"="+encodeURIComponent(r)];ke.isNumber(e)&&s.push("expires="+new Date(e).toGMTString()),ke.isString(t)&&s.push("path="+t),ke.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function h2(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function v2(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function P1(n,r,e){let t=!h2(r);return n&&(t||e==!1)?v2(n,r):r}const lb=n=>n instanceof no?{...n}:n;function Ps(n,r){r=r||{};const e={};function t(f,h,g,m){return ke.isPlainObject(f)&&ke.isPlainObject(h)?ke.merge.call({caseless:m},f,h):ke.isPlainObject(h)?ke.merge({},h):ke.isArray(h)?h.slice():h}function o(f,h,g,m){if(ke.isUndefined(h)){if(!ke.isUndefined(f))return t(void 0,f,g,m)}else return t(f,h,g,m)}function i(f,h){if(!ke.isUndefined(h))return t(void 0,h)}function s(f,h){if(ke.isUndefined(h)){if(!ke.isUndefined(f))return t(void 0,f)}else return t(void 0,h)}function l(f,h,g){if(g in r)return t(f,h);if(g in n)return t(void 0,f)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(f,h,g)=>o(lb(f),lb(h),g,!0)};return ke.forEach(Object.keys(Object.assign({},n,r)),function(h){const g=c[h]||o,m=g(n[h],r[h],h);ke.isUndefined(m)&&g!==l||(e[h]=m)}),e}const k1=n=>{const r=Ps({},n);let{data:e,withXSRFToken:t,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:l}=r;r.headers=s=no.from(s),r.url=C1(P1(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ke.isFormData(e)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[f,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...h].join("; "))}}if(yn.hasStandardBrowserEnv&&(t&&ke.isFunction(t)&&(t=t(r)),t||t!==!1&&d2(r.url))){const f=o&&i&&p2.read(i);f&&s.set(o,f)}return r},g2=typeof XMLHttpRequest<"u",m2=g2&&function(n){return new Promise(function(e,t){const o=k1(n);let i=o.data;const s=no.from(o.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:f}=o,h,g,m,y,_;function x(){y&&y(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(h),o.signal&&o.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function S(){if(!C)return;const E=no.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),K={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:E,config:n,request:C};T1(function(ue){e(ue),x()},function(ue){t(ue),x()},K),C=null}"onloadend"in C?C.onloadend=S:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(S)},C.onabort=function(){C&&(t(new Pt("Request aborted",Pt.ECONNABORTED,n,C)),C=null)},C.onerror=function(){t(new Pt("Network Error",Pt.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const K=o.transitional||S1;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),t(new Pt(N,K.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,n,C)),C=null},i===void 0&&s.setContentType(null),"setRequestHeader"in C&&ke.forEach(s.toJSON(),function(N,K){C.setRequestHeader(K,N)}),ke.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),l&&l!=="json"&&(C.responseType=o.responseType),f&&([m,_]=np(f,!0),C.addEventListener("progress",m)),c&&C.upload&&([g,y]=np(c),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(h=E=>{C&&(t(!E||E.type?new Ql(null,n,C):E),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(h),o.signal&&(o.signal.aborted?h():o.signal.addEventListener("abort",h)));const T=u2(o.url);if(T&&yn.protocols.indexOf(T)===-1){t(new Pt("Unsupported protocol "+T+":",Pt.ERR_BAD_REQUEST,n));return}C.send(i||null)})},y2=(n,r)=>{const{length:e}=n=n?n.filter(Boolean):[];if(r||e){let t=new AbortController,o;const i=function(f){if(!o){o=!0,l();const h=f instanceof Error?f:this.reason;t.abort(h instanceof Pt?h:new Ql(h instanceof Error?h.message:h))}};let s=r&&setTimeout(()=>{s=null,i(new Pt(`timeout ${r} of ms exceeded`,Pt.ETIMEDOUT))},r);const l=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),n=null)};n.forEach(f=>f.addEventListener("abort",i));const{signal:c}=t;return c.unsubscribe=()=>ke.asap(l),c}},w2=function*(n,r){let e=n.byteLength;if(e<r){yield n;return}let t=0,o;for(;t<e;)o=t+r,yield n.slice(t,o),t=o},_2=async function*(n,r){for await(const e of b2(n))yield*w2(e,r)},b2=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:e,value:t}=await r.read();if(e)break;yield t}}finally{await r.cancel()}},ub=(n,r,e,t)=>{const o=_2(n,r);let i=0,s,l=c=>{s||(s=!0,t&&t(c))};return new ReadableStream({async pull(c){try{const{done:f,value:h}=await o.next();if(f){l(),c.close();return}let g=h.byteLength;if(e){let m=i+=g;e(m)}c.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},Oh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",A1=Oh&&typeof ReadableStream=="function",x2=Oh&&(typeof TextEncoder=="function"?(n=>r=>n.encode(r))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),L1=(n,...r)=>{try{return!!n(...r)}catch{return!1}},C2=A1&&L1(()=>{let n=!1;const r=new Request(yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!r}),cb=64*1024,ym=A1&&L1(()=>ke.isReadableStream(new Response("").body)),op={stream:ym&&(n=>n.body)};Oh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!op[r]&&(op[r]=ke.isFunction(n[r])?e=>e[r]():(e,t)=>{throw new Pt(`Response type '${r}' is not supported`,Pt.ERR_NOT_SUPPORT,t)})})})(new Response);const S2=async n=>{if(n==null)return 0;if(ke.isBlob(n))return n.size;if(ke.isSpecCompliantForm(n))return(await new Request(yn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(n)||ke.isArrayBuffer(n))return n.byteLength;if(ke.isURLSearchParams(n)&&(n=n+""),ke.isString(n))return(await x2(n)).byteLength},O2=async(n,r)=>{const e=ke.toFiniteNumber(n.getContentLength());return e??S2(r)},E2=Oh&&(async n=>{let{url:r,method:e,data:t,signal:o,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:f,headers:h,withCredentials:g="same-origin",fetchOptions:m}=k1(n);f=f?(f+"").toLowerCase():"text";let y=y2([o,i&&i.toAbortSignal()],s),_;const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let C;try{if(c&&C2&&e!=="get"&&e!=="head"&&(C=await O2(h,t))!==0){let K=new Request(r,{method:"POST",body:t,duplex:"half"}),re;if(ke.isFormData(t)&&(re=K.headers.get("content-type"))&&h.setContentType(re),K.body){const[ue,Q]=ab(C,np(sb(c)));t=ub(K.body,cb,ue,Q)}}ke.isString(g)||(g=g?"include":"omit");const S="credentials"in Request.prototype;_=new Request(r,{...m,signal:y,method:e.toUpperCase(),headers:h.normalize().toJSON(),body:t,duplex:"half",credentials:S?g:void 0});let T=await fetch(_);const E=ym&&(f==="stream"||f==="response");if(ym&&(l||E&&x)){const K={};["status","statusText","headers"].forEach($=>{K[$]=T[$]});const re=ke.toFiniteNumber(T.headers.get("content-length")),[ue,Q]=l&&ab(re,np(sb(l),!0))||[];T=new Response(ub(T.body,cb,ue,()=>{Q&&Q(),x&&x()}),K)}f=f||"text";let N=await op[ke.findKey(op,f)||"text"](T,n);return!E&&x&&x(),await new Promise((K,re)=>{T1(K,re,{data:N,headers:no.from(T.headers),status:T.status,statusText:T.statusText,config:n,request:_})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,n,_),{cause:S.cause||S}):Pt.from(S,S&&S.code,n,_)}}),wm={http:zM,xhr:m2,fetch:E2};ke.forEach(wm,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const fb=n=>`- ${n}`,T2=n=>ke.isFunction(n)||n===null||n===!1,M1={getAdapter:n=>{n=ke.isArray(n)?n:[n];const{length:r}=n;let e,t;const o={};for(let i=0;i<r;i++){e=n[i];let s;if(t=e,!T2(e)&&(t=wm[(s=String(e)).toLowerCase()],t===void 0))throw new Pt(`Unknown adapter '${s}'`);if(t)break;o[s||"#"+i]=t}if(!t){const i=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=r?i.length>1?`since :
`+i.map(fb).join(`
`):" "+fb(i[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return t},adapters:wm};function zv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ql(null,n)}function db(n){return zv(n),n.headers=no.from(n.headers),n.data=Uv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),M1.getAdapter(n.adapter||Qc.adapter)(n).then(function(t){return zv(n),t.data=Uv.call(n,n.transformResponse,t),t.headers=no.from(t.headers),t},function(t){return E1(t)||(zv(n),t&&t.response&&(t.response.data=Uv.call(n,n.transformResponse,t.response),t.response.headers=no.from(t.response.headers))),Promise.reject(t)})}const N1="1.8.4",Eh={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{Eh[n]=function(t){return typeof t===n||"a"+(r<1?"n ":" ")+n}});const pb={};Eh.transitional=function(r,e,t){function o(i,s){return"[Axios v"+N1+"] Transitional option '"+i+"'"+s+(t?". "+t:"")}return(i,s,l)=>{if(r===!1)throw new Pt(o(s," has been removed"+(e?" in "+e:"")),Pt.ERR_DEPRECATED);return e&&!pb[s]&&(pb[s]=!0,console.warn(o(s," has been deprecated since v"+e+" and will be removed in the near future"))),r?r(i,s,l):!0}};Eh.spelling=function(r){return(e,t)=>(console.warn(`${t} is likely a misspelling of ${r}`),!0)};function P2(n,r,e){if(typeof n!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const t=Object.keys(n);let o=t.length;for(;o-- >0;){const i=t[o],s=r[i];if(s){const l=n[i],c=l===void 0||s(l,i,n);if(c!==!0)throw new Pt("option "+i+" must be "+c,Pt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Pt("Unknown option "+i,Pt.ERR_BAD_OPTION)}}const Td={assertOptions:P2,validators:Eh},ui=Td.validators;class xs{constructor(r){this.defaults=r,this.interceptors={request:new ob,response:new ob}}async request(r,e){try{return await this._request(r,e)}catch(t){if(t instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+=`
`+i):t.stack=i}catch{}}throw t}}_request(r,e){typeof r=="string"?(e=e||{},e.url=r):e=r||{},e=Ps(this.defaults,e);const{transitional:t,paramsSerializer:o,headers:i}=e;t!==void 0&&Td.assertOptions(t,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),o!=null&&(ke.isFunction(o)?e.paramsSerializer={serialize:o}:Td.assertOptions(o,{encode:ui.function,serialize:ui.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Td.assertOptions(e,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=i&&ke.merge(i.common,i[e.method]);i&&ke.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),e.headers=no.concat(s,i);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(e)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let h,g=0,m;if(!c){const _=[db.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,f),m=_.length,h=Promise.resolve(e);g<m;)h=h.then(_[g++],_[g++]);return h}m=l.length;let y=e;for(g=0;g<m;){const _=l[g++],x=l[g++];try{y=_(y)}catch(C){x.call(this,C);break}}try{h=db.call(this,y)}catch(_){return Promise.reject(_)}for(g=0,m=f.length;g<m;)h=h.then(f[g++],f[g++]);return h}getUri(r){r=Ps(this.defaults,r);const e=P1(r.baseURL,r.url,r.allowAbsoluteUrls);return C1(e,r.params,r.paramsSerializer)}}ke.forEach(["delete","get","head","options"],function(r){xs.prototype[r]=function(e,t){return this.request(Ps(t||{},{method:r,url:e,data:(t||{}).data}))}});ke.forEach(["post","put","patch"],function(r){function e(t){return function(i,s,l){return this.request(Ps(l||{},{method:r,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}xs.prototype[r]=e(),xs.prototype[r+"Form"]=e(!0)});class Xy{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const t=this;this.promise.then(o=>{if(!t._listeners)return;let i=t._listeners.length;for(;i-- >0;)t._listeners[i](o);t._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(l=>{t.subscribe(l),i=l}).then(o);return s.cancel=function(){t.unsubscribe(i)},s},r(function(i,s,l){t.reason||(t.reason=new Ql(i,s,l),e(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const e=this._listeners.indexOf(r);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const r=new AbortController,e=t=>{r.abort(t)};return this.subscribe(e),r.signal.unsubscribe=()=>this.unsubscribe(e),r.signal}static source(){let r;return{token:new Xy(function(o){r=o}),cancel:r}}}function k2(n){return function(e){return n.apply(null,e)}}function A2(n){return ke.isObject(n)&&n.isAxiosError===!0}const _m={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_m).forEach(([n,r])=>{_m[r]=n});function D1(n){const r=new xs(n),e=d1(xs.prototype.request,r);return ke.extend(e,xs.prototype,r,{allOwnKeys:!0}),ke.extend(e,r,null,{allOwnKeys:!0}),e.create=function(o){return D1(Ps(n,o))},e}const Wt=D1(Qc);Wt.Axios=xs;Wt.CanceledError=Ql;Wt.CancelToken=Xy;Wt.isCancel=E1;Wt.VERSION=N1;Wt.toFormData=Sh;Wt.AxiosError=Pt;Wt.Cancel=Wt.CanceledError;Wt.all=function(r){return Promise.all(r)};Wt.spread=k2;Wt.isAxiosError=A2;Wt.mergeConfig=Ps;Wt.AxiosHeaders=no;Wt.formToJSON=n=>O1(ke.isHTMLForm(n)?new FormData(n):n);Wt.getAdapter=M1.getAdapter;Wt.HttpStatusCode=_m;Wt.default=Wt;let L2={data:""},M2=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||L2,N2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,D2=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,Sa=(n,r)=>{let e="",t="",o="";for(let i in n){let s=n[i];i[0]=="@"?i[1]=="i"?e=i+" "+s+";":t+=i[1]=="f"?Sa(s,i):i+"{"+Sa(s,i[1]=="k"?"":r)+"}":typeof s=="object"?t+=Sa(s,r?r.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Sa.p?Sa.p(i,s):i+":"+s+";")}return e+(r&&o?r+"{"+o+"}":o)+t},ki={},R1=n=>{if(typeof n=="object"){let r="";for(let e in n)r+=e+R1(n[e]);return r}return n},R2=(n,r,e,t,o)=>{let i=R1(n),s=ki[i]||(ki[i]=(c=>{let f=0,h=11;for(;f<c.length;)h=101*h+c.charCodeAt(f++)>>>0;return"go"+h})(i));if(!ki[s]){let c=i!==n?n:(f=>{let h,g,m=[{}];for(;h=N2.exec(f.replace(D2,""));)h[4]?m.shift():h[3]?(g=h[3].replace(hb," ").trim(),m.unshift(m[0][g]=m[0][g]||{})):m[0][h[1]]=h[2].replace(hb," ").trim();return m[0]})(n);ki[s]=Sa(o?{["@keyframes "+s]:c}:c,e?"":"."+s)}let l=e&&ki.g?ki.g:null;return e&&(ki.g=ki[s]),((c,f,h,g)=>{g?f.data=f.data.replace(g,c):f.data.indexOf(c)===-1&&(f.data=h?c+f.data:f.data+c)})(ki[s],r,t,l),s},j2=(n,r,e)=>n.reduce((t,o,i)=>{let s=r[i];if(s&&s.call){let l=s(e),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":Sa(l,""):l===!1?"":l}return t+o+(s??"")},"");function Th(n){let r=this||{},e=n.call?n(r.p):n;return R2(e.unshift?e.raw?j2(e,[].slice.call(arguments,1),r.p):e.reduce((t,o)=>Object.assign(t,o&&o.call?o(r.p):o),{}):e,M2(r.target),r.g,r.o,r.k)}let j1,bm,xm;Th.bind({g:1});let Wi=Th.bind({k:1});function I2(n,r,e,t){Sa.p=r,j1=n,bm=e,xm=t}function $a(n,r){let e=this||{};return function(){let t=arguments;function o(i,s){let l=Object.assign({},i),c=l.className||o.className;e.p=Object.assign({theme:bm&&bm()},l),e.o=/ *go\d+/.test(c),l.className=Th.apply(e,t)+(c?" "+c:"");let f=n;return n[0]&&(f=l.as||n,delete l.as),xm&&f[0]&&xm(l),j1(f,l)}return o}}var F2=n=>typeof n=="function",Cm=(n,r)=>F2(n)?n(r):n,V2=(()=>{let n=0;return()=>(++n).toString()})(),U2=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");n=!r||r.matches}return n}})(),z2=20,I1=(n,r)=>{switch(r.type){case 0:return{...n,toasts:[r.toast,...n.toasts].slice(0,z2)};case 1:return{...n,toasts:n.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case 2:let{toast:e}=r;return I1(n,{type:n.toasts.find(i=>i.id===e.id)?1:0,toast:e});case 3:let{toastId:t}=r;return{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return r.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(i=>i.id!==r.toastId)};case 5:return{...n,pausedAt:r.time};case 6:let o=r.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},B2=[],Bv={toasts:[],pausedAt:void 0},Jy=n=>{Bv=I1(Bv,n),B2.forEach(r=>{r(Bv)})},H2=(n,r="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||V2()}),ef=n=>(r,e)=>{let t=H2(r,n,e);return Jy({type:2,toast:t}),t.id},yo=(n,r)=>ef("blank")(n,r);yo.error=ef("error");yo.success=ef("success");yo.loading=ef("loading");yo.custom=ef("custom");yo.dismiss=n=>{Jy({type:3,toastId:n})};yo.remove=n=>Jy({type:4,toastId:n});yo.promise=(n,r,e)=>{let t=yo.loading(r.loading,{...e,...e==null?void 0:e.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let i=r.success?Cm(r.success,o):void 0;return i?yo.success(i,{id:t,...e,...e==null?void 0:e.success}):yo.dismiss(t),o}).catch(o=>{let i=r.error?Cm(r.error,o):void 0;i?yo.error(i,{id:t,...e,...e==null?void 0:e.error}):yo.dismiss(t)}),n};var W2=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$2=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,K2=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,G2=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${K2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,q2=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Y2=$a("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${q2} 1s linear infinite;
`,X2=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,J2=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Z2=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${J2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q2=$a("div")`
  position: absolute;
`,eN=$a("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tN=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rN=$a("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,nN=({toast:n})=>{let{icon:r,type:e,iconTheme:t}=n;return r!==void 0?typeof r=="string"?Ve.createElement(rN,null,r):r:e==="blank"?null:Ve.createElement(eN,null,Ve.createElement(Y2,{...t}),e!=="loading"&&Ve.createElement(Q2,null,e==="error"?Ve.createElement(G2,{...t}):Ve.createElement(Z2,{...t})))},oN=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iN=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,aN="0%{opacity:0;} 100%{opacity:1;}",sN="0%{opacity:1;} 100%{opacity:0;}",lN=$a("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uN=$a("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,cN=(n,r)=>{let e=n.includes("top")?1:-1,[t,o]=U2()?[aN,sN]:[oN(e),iN(e)];return{animation:r?`${Wi(t)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};Ve.memo(({toast:n,position:r,style:e,children:t})=>{let o=n.height?cN(n.position||r||"top-center",n.visible):{opacity:0},i=Ve.createElement(nN,{toast:n}),s=Ve.createElement(uN,{...n.ariaProps},Cm(n.message,n));return Ve.createElement(lN,{className:n.className,style:{...o,...e,...n.style}},typeof t=="function"?t({icon:i,message:s}):Ve.createElement(Ve.Fragment,null,i,s))});I2(Ve.createElement);Th`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Nt=yo;function vb({setIsAuthenticated:n}){const[r,e]=Ve.useState(!1),[t,o]=Ve.useState(""),[i,s]=Ve.useState(""),[l,c]=Ve.useState(!1),f="http://localhost:5000/api",h=async()=>{if(!t||!i){Nt.error("Please enter username and password");return}c(!0);try{const y=await Wt.post(`${f}/login`,{username:t,password:i});localStorage.setItem("token",y.data.token),localStorage.setItem("userId",y.data.user_id),n(!0),Nt.success("Logged in successfully!")}catch{Nt.error("Login failed")}finally{c(!1)}},g=async()=>{if(!t||!i){Nt.error("Please enter username and password");return}c(!0);try{await Wt.post(`${f}/register`,{username:t,password:i}),Nt.success("Account created successfully! Please log in."),e(!1),o(""),s("")}catch{Nt.error("Sign-up failed. Username may already exist.")}finally{c(!1)}},m=y=>{y.preventDefault(),r?g():h()};return Ye.jsxs("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-sm space-y-6",children:[Ye.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:r?"Sign Up":"Login"}),Ye.jsxs("form",{onSubmit:m,className:"space-y-4",children:[Ye.jsx("input",{type:"text",value:t,onChange:y=>o(y.target.value),placeholder:"Username",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ye.jsx("input",{type:"password",value:i,onChange:y=>s(y.target.value),placeholder:"Password",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ye.jsx("button",{type:"submit",disabled:l,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center",children:l?Ye.jsx(lc,{className:"animate-spin h-4 w-4 mr-2"}):r?"Sign Up":"Login"})]}),Ye.jsx("div",{className:"text-center",children:Ye.jsxs("p",{className:"text-gray-600",children:[r?"Already have an account?":"Don't have an account?",Ye.jsx("button",{onClick:()=>e(!r),className:"ml-1 text-blue-600 hover:underline focus:outline-none",children:r?"Login":"Sign Up"})]})})]})}function fN(){const n=_h(),[r,e]=Ve.useState([]),[t,o]=Ve.useState(""),[i,s]=Ve.useState(!1),l=localStorage.getItem("userId"),c="http://localhost:5000/api";Ve.useEffect(()=>{f()},[]);const f=async()=>{try{const g=await Wt.get(`${c}/topics?user_id=${l}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e(g.data.topics)}catch{Nt.error("Failed to fetch topics")}},h=async()=>{if(!t){Nt.error("Please enter a topic title");return}s(!0);try{const g=await Wt.post(`${c}/topics`,{user_id:l,title:t},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e([...r,{id:g.data.topic_id,title:t}]),o(""),Nt.success("Topic created successfully!")}catch{Nt.error("Failed to create topic")}finally{s(!1)}};return Ye.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[Ye.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Manage Topics"}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-4",children:[Ye.jsxs("div",{className:"flex gap-4",children:[Ye.jsx("input",{type:"text",value:t,onChange:g=>o(g.target.value),placeholder:"New topic title",className:"flex-1 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),Ye.jsxs("button",{onClick:h,disabled:i,className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[i?Ye.jsx(lc,{className:"animate-spin h-4 w-4 mr-2"}):Ye.jsx(_L,{className:"h-4 w-4 mr-2"}),"Create"]})]}),Ye.jsx("ul",{className:"space-y-2",children:r.map(g=>Ye.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-md",children:[Ye.jsx("span",{children:g.title}),Ye.jsx("button",{onClick:()=>n(`/editor/${g.id}`),className:"px-4 py-1 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Edit Blog"})]},g.id))})]})]})}var dN={982:(n,r,e)=>{var t,o,i;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(s){o=[e(523),e(391)],t=s,i=typeof t=="function"?t.apply(r,o):t,i!==void 0&&(n.exports=i)})(function(s,l){var c=Array.prototype.slice;function f($,te,U){return U.length<=4?$.call(te,U[0],U[1],U[2],U[3]):$.apply(te,U)}function h($,te){return c.call($,te)}function g($,te){return $==null?!1:(s.isArray(te)||(te=h(arguments,1)),s.all(te,function(U){return U in $}))}var m=function(){var $=!1,te=-1;function U(){te++,$=!0,s.defer(function(){$=!1})}return function(){return $||U(),te}}();function y(){this.registeredObjects=[],this.cidIndexes=[]}y.prototype={isRegistered:function($){return $&&$.cid?this.registeredObjects[$.cid]:s.contains(this.registeredObjects,$)},register:function($){return this.isRegistered($)?!1:($&&$.cid?(this.registeredObjects[$.cid]=$,this.cidIndexes.push($.cid)):this.registeredObjects.push($),!0)},unregister:function($){if(this.isRegistered($)){if($&&$.cid)delete this.registeredObjects[$.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,$.cid),1);else{var te=s.indexOf(this.registeredObjects,$);this.registeredObjects.splice(te,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function($){return this.registeredObjects[$]},this).concat(this.registeredObjects)}};function _($,te,U,R){for(var W=0,H=te.length,ie;W<H;W++)if(ie=te[W],!!ie){if($==="on"){if(!R.objectRegistry.register(ie))continue}else if(!R.objectRegistry.unregister(ie))continue;s.isFunction(ie[$])&&ie[$]("all",U,R)}}function x($,te){var U=te.type,R=te.undoTypes,W=!R[U]||R[U][$];s.isFunction(W)&&W(te.object,te.before,te.after,te.options)}function C($,te,U,R,W){if(!(U.isCurrentlyUndoRedoing||$==="undo"&&U.pointer===-1||$==="redo"&&U.pointer===U.length-1)){U.isCurrentlyUndoRedoing=!0;var H,ie,M=$==="undo";for(W?ie=M&&U.pointer===U.length-1||!M&&U.pointer===-1?s.clone(U.models):c.apply(U.models,M?[0,U.pointer]:[U.pointer,U.length-1]):(H=U.at(M?U.pointer:U.pointer+1),ie=R?U.where({magicFusionIndex:H.get("magicFusionIndex")}):[H]),U.pointer+=(M?-1:1)*ie.length;H=M?ie.pop():ie.shift();)H[$]();U.isCurrentlyUndoRedoing=!1,te.trigger($,te)}}function S($,te){var U=$.condition,R=typeof U;return R==="function"?!!f(U,$,te):R==="boolean"?U:!0}function T($,te,U,R){if($.track&&!$.isCurrentlyUndoRedoing&&te in R&&S(R[te],U)){var W=f(R[te].on,R[te],U),H;if(g(W,"object","before","after")){if(W.type=te,W.magicFusionIndex=m(),W.undoTypes=R,$.pointer<$.length-1)for(var H=$.length-$.pointer-1;H--;)$.pop();$.pointer=$.length,$.add(W),$.length>$.maximumStackLength&&($.shift(),$.pointer--)}}}var E={add:{undo:function($,te,U,R){$.remove(U,R)},redo:function($,te,U,R){R.index&&(R.at=R.index),$.add(U,R)},on:function($,te,U){return{object:te,before:void 0,after:$,options:s.clone(U)}}},remove:{undo:function($,te,U,R){"index"in R&&(R.at=R.index),$.add(te,R)},redo:function($,te,U,R){$.remove(te,R)},on:function($,te,U){return{object:te,before:$,after:void 0,options:s.clone(U)}}},change:{undo:function($,te,U,R){s.isEmpty(te)?s.each(s.keys(U),$.unset,$):($.set(te),R&&R.unsetData&&R.unsetData.before&&R.unsetData.before.length&&s.each(R.unsetData.before,$.unset,$))},redo:function($,te,U,R){s.isEmpty(U)?s.each(s.keys(te),$.unset,$):($.set(U),R&&R.unsetData&&R.unsetData.after&&R.unsetData.after.length&&s.each(R.unsetData.after,$.unset,$))},on:function($,te){var U=$.changedAttributes(),R=s.keys(U),W=s.pick($.previousAttributes(),R),H=s.keys(W),ie=(te||(te={})).unsetData={after:[],before:[]};return R.length!=H.length&&(R.length>H.length?s.each(R,function(M){M in W||ie.before.push(M)},this):s.each(H,function(M){M in U||ie.after.push(M)})),{object:$,before:W,after:U,options:s.clone(te)}}},reset:{undo:function($,te,U){$.reset(te)},redo:function($,te,U){$.reset(U)},on:function($,te){return{object:$,before:te.previousModels,after:s.clone($.models)}}}};function N(){}N.prototype=E;function K($,te,U,R){if(typeof te=="object")return s.each(te,function(W,H){$===2?K($,W,U,R):K($,H,W,U)});switch($){case 0:g(U,"undo","redo","on")&&s.all(s.pick(U,"undo","redo","on"),s.isFunction)&&(R[te]=U);break;case 1:R[te]&&s.isObject(U)&&(R[te]=s.extend({},R[te],U));break;case 2:delete R[te];break}return this}var re=l.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function($){x("undo",this.attributes)},redo:function($){x("redo",this.attributes)}}),ue=l.Collection.extend({model:re,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function($){this.maximumStackLength=$}}),Q=l.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function($){this.stack=new ue,this.objectRegistry=new y,this.undoTypes=new N,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(te,U){this.stack.setMaxLength(U)},this),$&&$.track&&this.startTracking(),$&&$.register&&(s.isArray($.register)||s.isArguments($.register)?f(this.register,this,$.register):this.register($.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function($){T(this.stack,$,h(arguments,1),this.undoTypes)},register:function(){_("on",arguments,this._addToStack,this)},unregister:function(){_("off",arguments,this._addToStack,this)},unregisterAll:function(){f(this.unregister,this,this.objectRegistry.get())},undo:function($){C("undo",this,this.stack,$)},undoAll:function(){C("undo",this,this.stack,!1,!0)},redo:function($){C("redo",this,this.stack,$)},redoAll:function(){C("redo",this,this.stack,!1,!0)},isAvailable:function($){var te=this.stack,U=te.length;switch($){case"undo":return U>0&&te.pointer>-1;case"redo":return U>0&&te.pointer<U-1;default:return!1}},merge:function($){for(var te=s.isArray($)?$:h(arguments),U;U=te.pop();)U instanceof Q&&U.stack instanceof ue&&(U.stack=this.stack)},addUndoType:function($,te){K(0,$,te,this.undoTypes)},changeUndoType:function($,te){K(1,$,te,this.undoTypes)},removeUndoType:function($){K(2,$,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(Q,{defaults:function($){s.extend(Q.prototype.defaults,$)},addUndoType:function($,te){K(0,$,te,E)},changeUndoType:function($,te){K(1,$,te,E)},removeUndoType:function($){K(2,$,void 0,E)}}),l.UndoManager=Q})},391:(n,r,e)=>{var t,o;(function(i){var s=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;t=[e(523),e(694),r],o=(function(l,c,f){s.Backbone=i(s,f,l,c)}).apply(r,t),o!==void 0&&(n.exports=o)})(function(i,s,l,c){var f=i.Backbone,h=Array.prototype.slice;s.VERSION="1.4.1",s.$=c,s.noConflict=function(){return i.Backbone=f,this},s.emulateHTTP=!1,s.emulateJSON=!1;var g=s.Events={},m=/\s+/,y,_=function(A,z,Y,de,_e){var G=0,ve;if(Y&&typeof Y=="object")for(de!==void 0&&("context"in _e)&&_e.context===void 0&&(_e.context=de),ve=l.keys(Y);G<ve.length;G++)z=_(A,z,ve[G],Y[ve[G]],_e);else if(Y&&m.test(Y))for(ve=Y.split(m);G<ve.length;G++)z=A(z,ve[G],de,_e);else z=A(z,Y,de,_e);return z};g.on=function(A,z,Y){if(this._events=_(x,this._events||{},A,z,{context:Y,ctx:this,listening:y}),y){var de=this._listeners||(this._listeners={});de[y.id]=y,y.interop=!1}return this},g.listenTo=function(A,z,Y){if(!A)return this;var de=A._listenId||(A._listenId=l.uniqueId("l")),_e=this._listeningTo||(this._listeningTo={}),G=y=_e[de];G||(this._listenId||(this._listenId=l.uniqueId("l")),G=y=_e[de]=new K(this,A));var ve=C(A,z,Y,this);if(y=void 0,ve)throw ve;return G.interop&&G.on(z,Y),this};var x=function(A,z,Y,de){if(Y){var _e=A[z]||(A[z]=[]),G=de.context,ve=de.ctx,fe=de.listening;fe&&fe.count++,_e.push({callback:Y,context:G,ctx:G||ve,listening:fe})}return A},C=function(A,z,Y,de){try{A.on(z,Y,de)}catch(_e){return _e}};g.off=function(A,z,Y){return this._events?(this._events=_(S,this._events,A,z,{context:Y,listeners:this._listeners}),this):this},g.stopListening=function(A,z,Y){var de=this._listeningTo;if(!de)return this;for(var _e=A?[A._listenId]:l.keys(de),G=0;G<_e.length;G++){var ve=de[_e[G]];if(!ve)break;ve.obj.off(z,Y,this),ve.interop&&ve.off(z,Y)}return l.isEmpty(de)&&(this._listeningTo=void 0),this};var S=function(A,z,Y,de){if(A){var _e=de.context,G=de.listeners,ve=0,fe;if(!z&&!_e&&!Y){for(fe=l.keys(G);ve<fe.length;ve++)G[fe[ve]].cleanup();return}for(fe=z?[z]:l.keys(A);ve<fe.length;ve++){z=fe[ve];var st=A[z];if(!st)break;for(var xt=[],yt=0;yt<st.length;yt++){var B=st[yt];if(Y&&Y!==B.callback&&Y!==B.callback._callback||_e&&_e!==B.context)xt.push(B);else{var ae=B.listening;ae&&ae.off(z,Y)}}xt.length?A[z]=xt:delete A[z]}return A}};g.once=function(A,z,Y){var de=_(T,{},A,z,this.off.bind(this));return typeof A=="string"&&Y==null&&(z=void 0),this.on(de,z,Y)},g.listenToOnce=function(A,z,Y){var de=_(T,{},z,Y,this.stopListening.bind(this,A));return this.listenTo(A,de)};var T=function(A,z,Y,de){if(Y){var _e=A[z]=l.once(function(){de(z,_e),Y.apply(this,arguments)});_e._callback=Y}return A};g.trigger=function(A){if(!this._events)return this;for(var z=Math.max(0,arguments.length-1),Y=Array(z),de=0;de<z;de++)Y[de]=arguments[de+1];return _(E,this._events,A,void 0,Y),this};var E=function(A,z,Y,de){if(A){var _e=A[z],G=A.all;_e&&G&&(G=G.slice()),_e&&N(_e,de),G&&N(G,[z].concat(de))}return A},N=function(A,z){var Y,de=-1,_e=A.length,G=z[0],ve=z[1],fe=z[2];switch(z.length){case 0:for(;++de<_e;)(Y=A[de]).callback.call(Y.ctx);return;case 1:for(;++de<_e;)(Y=A[de]).callback.call(Y.ctx,G);return;case 2:for(;++de<_e;)(Y=A[de]).callback.call(Y.ctx,G,ve);return;case 3:for(;++de<_e;)(Y=A[de]).callback.call(Y.ctx,G,ve,fe);return;default:for(;++de<_e;)(Y=A[de]).callback.apply(Y.ctx,z);return}},K=function(A,z){this.id=A._listenId,this.listener=A,this.obj=z,this.interop=!0,this.count=0,this._events=void 0};K.prototype.on=g.on,K.prototype.off=function(A,z){var Y;this.interop?(this._events=_(S,this._events,A,z,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},K.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},g.bind=g.on,g.unbind=g.off,l.extend(s,g);var re=s.Model=function(A,z){var Y=A||{};z||(z={}),this.preinitialize.apply(this,arguments),this.cid=l.uniqueId(this.cidPrefix),this.attributes={},z.collection&&(this.collection=z.collection),z.parse&&(Y=this.parse(Y,z)||{});var de=l.result(this,"defaults");Y=l.defaults(l.extend({},de,Y),de),this.set(Y,z),this.changed={},this.initialize.apply(this,arguments)};l.extend(re.prototype,g,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return l.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return l.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!l.iteratee(A,this)(this.attributes)},set:function(A,z,Y){if(A==null)return this;var de;if(typeof A=="object"?(de=A,Y=z):(de={})[A]=z,Y||(Y={}),!this._validate(de,Y))return!1;var _e=Y.unset,G=Y.silent,ve=[],fe=this._changing;this._changing=!0,fe||(this._previousAttributes=l.clone(this.attributes),this.changed={});var st=this.attributes,xt=this.changed,yt=this._previousAttributes;for(var B in de)z=de[B],l.isEqual(st[B],z)||ve.push(B),l.isEqual(yt[B],z)?delete xt[B]:xt[B]=z,_e?delete st[B]:st[B]=z;if(this.idAttribute in de){var ae=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ae,Y)}if(!G){ve.length&&(this._pending=Y);for(var I=0;I<ve.length;I++)this.trigger("change:"+ve[I],this,st[ve[I]],Y)}if(fe)return this;if(!G)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(A,z){return this.set(A,void 0,l.extend({},z,{unset:!0}))},clear:function(A){var z={};for(var Y in this.attributes)z[Y]=void 0;return this.set(z,l.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!l.isEmpty(this.changed):l.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?l.clone(this.changed):!1;var z=this._changing?this._previousAttributes:this.attributes,Y={},de;for(var _e in A){var G=A[_e];l.isEqual(z[_e],G)||(Y[_e]=G,de=!0)}return de?Y:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(A){A=l.extend({parse:!0},A);var z=this,Y=A.success;return A.success=function(de){var _e=A.parse?z.parse(de,A):de;if(!z.set(_e,A))return!1;Y&&Y.call(A.context,z,de,A),z.trigger("sync",z,de,A)},_t(this,A),this.sync("read",this,A)},save:function(A,z,Y){var de;A==null||typeof A=="object"?(de=A,Y=z):(de={})[A]=z,Y=l.extend({validate:!0,parse:!0},Y);var _e=Y.wait;if(de&&!_e){if(!this.set(de,Y))return!1}else if(!this._validate(de,Y))return!1;var G=this,ve=Y.success,fe=this.attributes;Y.success=function(yt){G.attributes=fe;var B=Y.parse?G.parse(yt,Y):yt;if(_e&&(B=l.extend({},de,B)),B&&!G.set(B,Y))return!1;ve&&ve.call(Y.context,G,yt,Y),G.trigger("sync",G,yt,Y)},_t(this,Y),de&&_e&&(this.attributes=l.extend({},fe,de));var st=this.isNew()?"create":Y.patch?"patch":"update";st==="patch"&&!Y.attrs&&(Y.attrs=de);var xt=this.sync(st,this,Y);return this.attributes=fe,xt},destroy:function(A){A=A?l.clone(A):{};var z=this,Y=A.success,de=A.wait,_e=function(){z.stopListening(),z.trigger("destroy",z,z.collection,A)};A.success=function(ve){de&&_e(),Y&&Y.call(A.context,z,ve,A),z.isNew()||z.trigger("sync",z,ve,A)};var G=!1;return this.isNew()?l.defer(A.success):(_t(this,A),G=this.sync("delete",this,A)),de||_e(),G},url:function(){var A=l.result(this,"urlRoot")||l.result(this.collection,"url")||Kt();if(this.isNew())return A;var z=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(z)},parse:function(A,z){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},l.extend({},A,{validate:!0}))},_validate:function(A,z){if(!z.validate||!this.validate)return!0;A=l.extend({},this.attributes,A);var Y=this.validationError=this.validate(A,z)||null;return Y?(this.trigger("invalid",this,Y,l.extend(z,{validationError:Y})),!1):!0}});var ue=s.Collection=function(A,z){z||(z={}),this.preinitialize.apply(this,arguments),z.model&&(this.model=z.model),z.comparator!==void 0&&(this.comparator=z.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,l.extend({silent:!0},z))},Q={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},te=function(A,z,Y){Y=Math.min(Math.max(Y,0),A.length);var de=Array(A.length-Y),_e=z.length,G;for(G=0;G<de.length;G++)de[G]=A[G+Y];for(G=0;G<_e;G++)A[G+Y]=z[G];for(G=0;G<de.length;G++)A[G+_e+Y]=de[G]};l.extend(ue.prototype,g,{model:re,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(z){return z.toJSON(A)})},sync:function(){return s.sync.apply(this,arguments)},add:function(A,z){return this.set(A,l.extend({merge:!1},z,$))},remove:function(A,z){z=l.extend({},z);var Y=!l.isArray(A);A=Y?[A]:A.slice();var de=this._removeModels(A,z);return!z.silent&&de.length&&(z.changes={added:[],merged:[],removed:de},this.trigger("update",this,z)),Y?de[0]:de},set:function(A,z){if(A!=null){z=l.extend({},Q,z),z.parse&&!this._isModel(A)&&(A=this.parse(A,z)||[]);var Y=!l.isArray(A);A=Y?[A]:A.slice();var de=z.at;de!=null&&(de=+de),de>this.length&&(de=this.length),de<0&&(de+=this.length+1);var _e=[],G=[],ve=[],fe=[],st={},xt=z.add,yt=z.merge,B=z.remove,ae=!1,I=this.comparator&&de==null&&z.sort!==!1,Ae=l.isString(this.comparator)?this.comparator:null,ye,Ie;for(Ie=0;Ie<A.length;Ie++){ye=A[Ie];var rt=this.get(ye);if(rt){if(yt&&ye!==rt){var tt=this._isModel(ye)?ye.attributes:ye;z.parse&&(tt=rt.parse(tt,z)),rt.set(tt,z),ve.push(rt),I&&!ae&&(ae=rt.hasChanged(Ae))}st[rt.cid]||(st[rt.cid]=!0,_e.push(rt)),A[Ie]=rt}else xt&&(ye=A[Ie]=this._prepareModel(ye,z),ye&&(G.push(ye),this._addReference(ye,z),st[ye.cid]=!0,_e.push(ye)))}if(B){for(Ie=0;Ie<this.length;Ie++)ye=this.models[Ie],st[ye.cid]||fe.push(ye);fe.length&&this._removeModels(fe,z)}var qe=!1,ut=!I&&xt&&B;if(_e.length&&ut?(qe=this.length!==_e.length||l.some(this.models,function(Et,Rt){return Et!==_e[Rt]}),this.models.length=0,te(this.models,_e,0),this.length=this.models.length):G.length&&(I&&(ae=!0),te(this.models,G,de??this.length),this.length=this.models.length),ae&&this.sort({silent:!0}),!z.silent){for(Ie=0;Ie<G.length;Ie++)de!=null&&(z.index=de+Ie),ye=G[Ie],ye.trigger("add",ye,this,z);(ae||qe)&&this.trigger("sort",this,z),(G.length||fe.length||ve.length)&&(z.changes={added:G,removed:fe,merged:ve},this.trigger("update",this,z))}return Y?A[0]:A}},reset:function(A,z){z=z?l.clone(z):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],z);return z.previousModels=this.models,this._reset(),A=this.add(A,l.extend({silent:!0},z)),z.silent||this.trigger("reset",this,z),A},push:function(A,z){return this.add(A,l.extend({at:this.length},z))},pop:function(A){var z=this.at(this.length-1);return this.remove(z,A)},unshift:function(A,z){return this.add(A,l.extend({at:0},z))},shift:function(A){var z=this.at(0);return this.remove(z,A)},slice:function(){return h.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,z){return this[z?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var z=this.comparator;if(!z)throw new Error("Cannot sort a set without a comparator");A||(A={});var Y=z.length;return l.isFunction(z)&&(z=z.bind(this)),Y===1||l.isString(z)?this.models=this.sortBy(z):this.models.sort(z),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=l.extend({parse:!0},A);var z=A.success,Y=this;return A.success=function(de){var _e=A.reset?"reset":"set";Y[_e](de,A),z&&z.call(A.context,Y,de,A),Y.trigger("sync",Y,de,A)},_t(this,A),this.sync("read",this,A)},create:function(A,z){z=z?l.clone(z):{};var Y=z.wait;if(A=this._prepareModel(A,z),!A)return!1;Y||this.add(A,z);var de=this,_e=z.success;return z.success=function(G,ve,fe){Y&&de.add(G,fe),_e&&_e.call(fe.context,G,ve,fe)},A.save(null,z),A},parse:function(A,z){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,z){return A[z||this.model.prototype.idAttribute||"id"]},values:function(){return new R(this,W)},keys:function(){return new R(this,H)},entries:function(){return new R(this,ie)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,z){if(this._isModel(A))return A.collection||(A.collection=this),A;z=z?l.clone(z):{},z.collection=this;var Y;return this.model.prototype?Y=new this.model(A,z):Y=this.model(A,z),Y.validationError?(this.trigger("invalid",this,Y.validationError,z),!1):Y},_removeModels:function(A,z){for(var Y=[],de=0;de<A.length;de++){var _e=this.get(A[de]);if(_e){var G=this.indexOf(_e);this.models.splice(G,1),this.length--,delete this._byId[_e.cid];var ve=this.modelId(_e.attributes,_e.idAttribute);ve!=null&&delete this._byId[ve],z.silent||(z.index=G,_e.trigger("remove",_e,this,z)),Y.push(_e),this._removeReference(_e,z)}}return Y},_isModel:function(A){return A instanceof re},_addReference:function(A,z){this._byId[A.cid]=A;var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&(this._byId[Y]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,z){delete this._byId[A.cid];var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&delete this._byId[Y],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,z,Y,de){if(z){if((A==="add"||A==="remove")&&Y!==this)return;if(A==="destroy"&&this.remove(z,de),A==="changeId"){var _e=this.modelId(z.previousAttributes(),z.idAttribute),G=this.modelId(z.attributes,z.idAttribute);_e!=null&&delete this._byId[_e],G!=null&&(this._byId[G]=z)}}this.trigger.apply(this,arguments)}});var U=typeof Symbol=="function"&&Symbol.iterator;U&&(ue.prototype[U]=ue.prototype.values);var R=function(A,z){this._collection=A,this._kind=z,this._index=0},W=1,H=2,ie=3;U&&(R.prototype[U]=function(){return this}),R.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var z;if(this._kind===W)z=A;else{var Y=this._collection.modelId(A.attributes,A.idAttribute);this._kind===H?z=Y:z=[Y,A]}return{value:z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var M=s.View=function(A){this.cid=l.uniqueId("view"),this.preinitialize.apply(this,arguments),l.extend(this,l.pick(A,oe)),this._ensureElement(),this.initialize.apply(this,arguments)},we=/^(\S+)\s*(.*)$/,oe=["model","collection","el","id","attributes","className","tagName","events"];l.extend(M.prototype,g,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof s.$?A:s.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=l.result(this,"events")),!A)return this;this.undelegateEvents();for(var z in A){var Y=A[z];if(l.isFunction(Y)||(Y=this[Y]),!!Y){var de=z.match(we);this.delegate(de[1],de[2],Y.bind(this))}}return this},delegate:function(A,z,Y){return this.$el.on(A+".delegateEvents"+this.cid,z,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,z,Y){return this.$el.off(A+".delegateEvents"+this.cid,z,Y),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"));else{var A=l.extend({},l.result(this,"attributes"));this.id&&(A.id=l.result(this,"id")),this.className&&(A.class=l.result(this,"className")),this.setElement(this._createElement(l.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var xe=function(A,z,Y,de){switch(z){case 1:return function(){return A[Y](this[de])};case 2:return function(_e){return A[Y](this[de],_e)};case 3:return function(_e,G){return A[Y](this[de],se(_e,this),G)};case 4:return function(_e,G,ve){return A[Y](this[de],se(_e,this),G,ve)};default:return function(){var _e=h.call(arguments);return _e.unshift(this[de]),A[Y].apply(A,_e)}}},De=function(A,z,Y,de){l.each(Y,function(_e,G){z[G]&&(A.prototype[G]=xe(z,_e,G,de))})},se=function(A,z){return l.isFunction(A)?A:l.isObject(A)&&!z._isModel(A)?Ee(A):l.isString(A)?function(Y){return Y.get(A)}:A},Ee=function(A){var z=l.matches(A);return function(Y){return z(Y.attributes)}},ze={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Pe={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};l.each([[ue,ze,"models"],[re,Pe,"attributes"]],function(A){var z=A[0],Y=A[1],de=A[2];z.mixin=function(_e){var G=l.reduce(l.functions(_e),function(ve,fe){return ve[fe]=0,ve},{});De(z,_e,G,de)},De(z,l,Y,de)}),s.sync=function(A,z,Y){var de=Ce[A];l.defaults(Y||(Y={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var _e={type:de,dataType:"json"};if(Y.url||(_e.url=l.result(z,"url")||Kt()),Y.data==null&&z&&(A==="create"||A==="update"||A==="patch")&&(_e.contentType="application/json",_e.data=JSON.stringify(Y.attrs||z.toJSON(Y))),Y.emulateJSON&&(_e.contentType="application/x-www-form-urlencoded",_e.data=_e.data?{model:_e.data}:{}),Y.emulateHTTP&&(de==="PUT"||de==="DELETE"||de==="PATCH")){_e.type="POST",Y.emulateJSON&&(_e.data._method=de);var G=Y.beforeSend;Y.beforeSend=function(st){if(st.setRequestHeader("X-HTTP-Method-Override",de),G)return G.apply(this,arguments)}}_e.type!=="GET"&&!Y.emulateJSON&&(_e.processData=!1);var ve=Y.error;Y.error=function(st,xt,yt){Y.textStatus=xt,Y.errorThrown=yt,ve&&ve.call(Y.context,st,xt,yt)};var fe=Y.xhr=s.ajax(l.extend(_e,Y));return z.trigger("request",z,fe,Y),fe};var Ce={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var le=s.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},be=/\((.*?)\)/g,Te=/(\(\?)?:\w+/g,We=/\*\w+/g,Je=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(le.prototype,g,{preinitialize:function(){},initialize:function(){},route:function(A,z,Y){l.isRegExp(A)||(A=this._routeToRegExp(A)),l.isFunction(z)&&(Y=z,z=""),Y||(Y=this[z]);var de=this;return s.history.route(A,function(_e){var G=de._extractParameters(A,_e);de.execute(Y,G,z)!==!1&&(de.trigger.apply(de,["route:"+z].concat(G)),de.trigger("route",z,G),s.history.trigger("route",de,z,G))}),this},execute:function(A,z,Y){A&&A.apply(this,z)},navigate:function(A,z){return s.history.navigate(A,z),this},_bindRoutes:function(){if(this.routes){this.routes=l.result(this,"routes");for(var A,z=l.keys(this.routes);(A=z.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Je,"\\$&").replace(be,"(?:$1)?").replace(Te,function(z,Y){return Y?z:"([^/?]+)"}).replace(We,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,z){var Y=A.exec(z).slice(1);return l.map(Y,function(de,_e){return _e===Y.length-1?de||null:de?decodeURIComponent(de):null})}});var He=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},nt=/^[#\/]|\s+$/g,Dt=/^\/+|\/+$/g,ht=/#.*$/;He.started=!1,l.extend(He.prototype,g,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),z=A.slice(0,this.root.length-1)+"/";return z===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var z=(A||this).location.href.match(/#(.*)$/);return z?z[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(nt,"")},start:function(A){if(He.started)throw new Error("Backbone.history has already been started");if(He.started=!0,this.options=l.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Dt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var z=this.root.slice(0,-1)||"/";return this.location.replace(z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,de=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;de.document.open(),de.document.close(),de.location.hash="#"+this.fragment}var _e=window.addEventListener||function(G,ve){return attachEvent("on"+G,ve)};if(this._usePushState?_e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?_e("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(z,Y){return detachEvent("on"+z,Y)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),He.started=!1},route:function(A,z){this.handlers.unshift({route:A,callback:z})},checkUrl:function(A){var z=this.getFragment();if(z===this.fragment&&this.iframe&&(z=this.getHash(this.iframe.contentWindow)),z===this.fragment)return!1;this.iframe&&this.navigate(z),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),l.some(this.handlers,function(z){if(z.route.test(A))return z.callback(A),!0})):!1},navigate:function(A,z){if(!He.started)return!1;(!z||z===!0)&&(z={trigger:!!z}),A=this.getFragment(A||"");var Y=this.root;(A===""||A.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var de=Y+A;A=A.replace(ht,"");var _e=this.decodeFragment(A);if(this.fragment!==_e){if(this.fragment=_e,this._usePushState)this.history[z.replace?"replaceState":"pushState"]({},document.title,de);else if(this._wantsHashChange){if(this._updateHash(this.location,A,z.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var G=this.iframe.contentWindow;z.replace||(G.document.open(),G.document.close()),this._updateHash(G.location,A,z.replace)}}else return this.location.assign(de);if(z.trigger)return this.loadUrl(A)}},_updateHash:function(A,z,Y){if(Y){var de=A.href.replace(/(javascript:|#).*$/,"");A.replace(de+"#"+z)}else A.hash="#"+z}}),s.history=new He;var nr=function(A,z){var Y=this,de;return A&&l.has(A,"constructor")?de=A.constructor:de=function(){return Y.apply(this,arguments)},l.extend(de,Y,z),de.prototype=l.create(Y.prototype,A),de.prototype.constructor=de,de.__super__=Y.prototype,de};re.extend=ue.extend=le.extend=M.extend=He.extend=nr;var Kt=function(){throw new Error('A "url" property or function must be specified')},_t=function(A,z){var Y=z.error;z.error=function(de){Y&&Y.call(z.context,A,de,z),A.trigger("error",A,de,z)}};return s})},862:(n,r,e)=>{(function(t){t(e(237))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s){return/^[;{}]$/.test(s)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s,l,c){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(l):s==";"&&c.lexical&&c.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(l)}});var o=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,s,l,c){var f=!1;return this.configuration=="html"&&(f=c.context?o.test(c.context.tagName):!1),!f&&(i=="tag"&&/>$/.test(s)&&c.context||/^</.test(l))}}),t.defineExtension("commentRange",function(i,s,l){var c=this,f=t.innerMode(c.getMode(),c.getTokenAt(s).state).mode;c.operation(function(){if(i)c.replaceRange(f.commentEnd,l),c.replaceRange(f.commentStart,s),s.line==l.line&&s.ch==l.ch&&c.setCursor(s.line,s.ch+f.commentStart.length);else{var h=c.getRange(s,l),g=h.indexOf(f.commentStart),m=h.lastIndexOf(f.commentEnd);g>-1&&m>-1&&m>g&&(h=h.substr(0,g)+h.substring(g+f.commentStart.length,m)+h.substr(m+f.commentEnd.length)),c.replaceRange(h,s,l)}})}),t.defineExtension("autoIndentRange",function(i,s){var l=this;this.operation(function(){for(var c=i.line;c<=s.line;c++)l.indentLine(c,"smart")})}),t.defineExtension("autoFormatRange",function(i,s){var l=this,c=l.getMode(),f=l.getRange(i,s).split(`
`),h=t.copyState(c,l.getTokenAt(i).state),g=l.getOption("tabSize"),m="",y=0,_=i.ch===0;function x(){m+=`
`,_=!0,++y}for(var C=0;C<f.length;++C){for(var S=new t.StringStream(f[C],g);!S.eol();){var T=t.innerMode(c,h),E=c.token(S,h),N=S.current();S.start=S.pos,(!_||/\S/.test(N))&&(m+=N,_=!1),!_&&T.mode.newlineAfterToken&&T.mode.newlineAfterToken(E,N,S.string.slice(S.pos)||f[C+1]||"",T.state)&&x()}!S.pos&&c.blankLine&&c.blankLine(h),!_&&C<f.length-1&&x()}l.operation(function(){l.replaceRange(m,i,s);for(var K=i.line+1,re=i.line+y;K<=re;++K)l.indentLine(K,"smart");l.setSelection(i,l.getCursor(!1))})})})},237:function(n){(function(r,e){n.exports=e()})(this,function(){var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),o=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),s=/Edge\/(\d+)/.exec(r),l=o||i||s,c=l&&(o?document.documentMode||6:+(s||i)[1]),f=!s&&/WebKit\//.test(r),h=f&&/Qt\/\d+\.\d+/.test(r),g=!s&&/Chrome\//.test(r),m=/Opera\//.test(r),y=/Apple Computer/.test(navigator.vendor),_=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),x=/PhantomJS/.test(r),C=y&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),S=/Android/.test(r),T=C||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),E=C||/Mac/.test(e),N=/\bCrOS\b/.test(r),K=/win/i.test(e),re=m&&r.match(/Version\/(\d*\.\d*)/);re&&(re=Number(re[1])),re&&re>=15&&(m=!1,f=!0);var ue=E&&(h||m&&(re==null||re<12.11)),Q=t||l&&c>=9;function $(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var te=function(a,u){var p=a.className,d=$(u).exec(p);if(d){var v=p.slice(d.index+d[0].length);a.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function U(a){for(var u=a.childNodes.length;u>0;--u)a.removeChild(a.firstChild);return a}function R(a,u){return U(a).appendChild(u)}function W(a,u,p,d){var v=document.createElement(a);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof u=="string")v.appendChild(document.createTextNode(u));else if(u)for(var w=0;w<u.length;++w)v.appendChild(u[w]);return v}function H(a,u,p,d){var v=W(a,u,p,d);return v.setAttribute("role","presentation"),v}var ie;document.createRange?ie=function(a,u,p,d){var v=document.createRange();return v.setEnd(d||a,p),v.setStart(a,u),v}:ie=function(a,u,p){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",u),d};function M(a,u){if(u.nodeType==3&&(u=u.parentNode),a.contains)return a.contains(u);do if(u.nodeType==11&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function we(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function oe(a,u){var p=a.className;$(u).test(p)||(a.className+=(p?" ":"")+u)}function xe(a,u){for(var p=a.split(" "),d=0;d<p.length;d++)p[d]&&!$(p[d]).test(u)&&(u+=" "+p[d]);return u}var De=function(a){a.select()};C?De=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:l&&(De=function(a){try{a.select()}catch{}});function se(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function Ee(a,u,p){u||(u={});for(var d in a)a.hasOwnProperty(d)&&(p!==!1||!u.hasOwnProperty(d))&&(u[d]=a[d]);return u}function ze(a,u,p,d,v){u==null&&(u=a.search(/[^\s\u00a0]/),u==-1&&(u=a.length));for(var w=d||0,b=v||0;;){var O=a.indexOf("	",w);if(O<0||O>=u)return b+(u-w);b+=O-w,b+=p-b%p,w=O+1}}var Pe=function(){this.id=null,this.f=null,this.time=0,this.handler=se(this.onTimeout,this)};Pe.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Pe.prototype.set=function(a,u){this.f=u;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Ce(a,u){for(var p=0;p<a.length;++p)if(a[p]==u)return p;return-1}var le=50,be={toString:function(){return"CodeMirror.Pass"}},Te={scroll:!1},We={origin:"*mouse"},Je={origin:"+move"};function He(a,u,p){for(var d=0,v=0;;){var w=a.indexOf("	",d);w==-1&&(w=a.length);var b=w-d;if(w==a.length||v+b>=u)return d+Math.min(b,u-v);if(v+=w-d,v+=p-v%p,d=w+1,v>=u)return d}}var nt=[""];function Dt(a){for(;nt.length<=a;)nt.push(ht(nt)+" ");return nt[a]}function ht(a){return a[a.length-1]}function nr(a,u){for(var p=[],d=0;d<a.length;d++)p[d]=u(a[d],d);return p}function Kt(a,u,p){for(var d=0,v=p(u);d<a.length&&p(a[d])<=v;)d++;a.splice(d,0,u)}function _t(){}function A(a,u){var p;return Object.create?p=Object.create(a):(_t.prototype=a,p=new _t),u&&Ee(u,p),p}var z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||z.test(a))}function de(a,u){return u?u.source.indexOf("\\w")>-1&&Y(a)?!0:u.test(a):Y(a)}function _e(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}var G=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ve(a){return a.charCodeAt(0)>=768&&G.test(a)}function fe(a,u,p){for(;(p<0?u>0:u<a.length)&&ve(a.charAt(u));)u+=p;return u}function st(a,u,p){for(var d=u>p?-1:1;;){if(u==p)return u;var v=(u+p)/2,w=d<0?Math.ceil(v):Math.floor(v);if(w==u)return a(w)?u:p;a(w)?p=w:u=w+d}}function xt(a,u,p,d){if(!a)return d(u,p,"ltr",0);for(var v=!1,w=0;w<a.length;++w){var b=a[w];(b.from<p&&b.to>u||u==p&&b.to==u)&&(d(Math.max(b.from,u),Math.min(b.to,p),b.level==1?"rtl":"ltr",w),v=!0)}v||d(u,p,"ltr")}var yt=null;function B(a,u,p){var d;yt=null;for(var v=0;v<a.length;++v){var w=a[v];if(w.from<u&&w.to>u)return v;w.to==u&&(w.from!=w.to&&p=="before"?d=v:yt=v),w.from==u&&(w.from!=w.to&&p!="before"?d=v:yt=v)}return d??yt}var ae=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(L){return L<=247?a.charAt(L):1424<=L&&L<=1524?"R":1536<=L&&L<=1785?u.charAt(L-1536):1774<=L&&L<=2220?"r":8192<=L&&L<=8203?"w":L==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,w=/[LRr]/,b=/[Lb1n]/,O=/[1n]/;function P(L,q,Z){this.level=L,this.from=q,this.to=Z}return function(L,q){var Z=q=="ltr"?"L":"R";if(L.length==0||q=="ltr"&&!d.test(L))return!1;for(var ge=L.length,ce=[],Se=0;Se<ge;++Se)ce.push(p(L.charCodeAt(Se)));for(var Re=0,Be=Z;Re<ge;++Re){var Ze=ce[Re];Ze=="m"?ce[Re]=Be:Be=Ze}for(var ot=0,Qe=Z;ot<ge;++ot){var at=ce[ot];at=="1"&&Qe=="r"?ce[ot]="n":w.test(at)&&(Qe=at,at=="r"&&(ce[ot]="R"))}for(var gt=1,pt=ce[0];gt<ge-1;++gt){var Tt=ce[gt];Tt=="+"&&pt=="1"&&ce[gt+1]=="1"?ce[gt]="1":Tt==","&&pt==ce[gt+1]&&(pt=="1"||pt=="n")&&(ce[gt]=pt),pt=Tt}for(var Xt=0;Xt<ge;++Xt){var $r=ce[Xt];if($r==",")ce[Xt]="N";else if($r=="%"){var dr=void 0;for(dr=Xt+1;dr<ge&&ce[dr]=="%";++dr);for(var Kn=Xt&&ce[Xt-1]=="!"||dr<ge&&ce[dr]=="1"?"1":"N",Tn=Xt;Tn<dr;++Tn)ce[Tn]=Kn;Xt=dr-1}}for(var Pr=0,Pn=Z;Pr<ge;++Pr){var Xr=ce[Pr];Pn=="L"&&Xr=="1"?ce[Pr]="L":w.test(Xr)&&(Pn=Xr)}for(var jr=0;jr<ge;++jr)if(v.test(ce[jr])){var kr=void 0;for(kr=jr+1;kr<ge&&v.test(ce[kr]);++kr);for(var gr=(jr?ce[jr-1]:Z)=="L",kn=(kr<ge?ce[kr]:Z)=="L",tl=gr==kn?gr?"L":"R":Z,pa=jr;pa<kr;++pa)ce[pa]=tl;jr=kr-1}for(var rn=[],si,Kr=0;Kr<ge;)if(b.test(ce[Kr])){var uv=Kr;for(++Kr;Kr<ge&&b.test(ce[Kr]);++Kr);rn.push(new P(0,uv,Kr))}else{var Ti=Kr,os=rn.length,is=q=="rtl"?1:0;for(++Kr;Kr<ge&&ce[Kr]!="L";++Kr);for(var dn=Ti;dn<Kr;)if(O.test(ce[dn])){Ti<dn&&(rn.splice(os,0,new P(1,Ti,dn)),os+=is);var rl=dn;for(++dn;dn<Kr&&O.test(ce[dn]);++dn);rn.splice(os,0,new P(2,rl,dn)),os+=is,Ti=dn}else++dn;Ti<Kr&&rn.splice(os,0,new P(1,Ti,Kr))}return q=="ltr"&&(rn[0].level==1&&(si=L.match(/^\s+/))&&(rn[0].from=si[0].length,rn.unshift(new P(0,0,si[0].length))),ht(rn).level==1&&(si=L.match(/\s+$/))&&(ht(rn).to-=si[0].length,rn.push(new P(0,ge-si[0].length,ge)))),q=="rtl"?rn.reverse():rn}}();function I(a,u){var p=a.order;return p==null&&(p=a.order=ae(a.text,u)),p}var Ae=[],ye=function(a,u,p){if(a.addEventListener)a.addEventListener(u,p,!1);else if(a.attachEvent)a.attachEvent("on"+u,p);else{var d=a._handlers||(a._handlers={});d[u]=(d[u]||Ae).concat(p)}};function Ie(a,u){return a._handlers&&a._handlers[u]||Ae}function rt(a,u,p){if(a.removeEventListener)a.removeEventListener(u,p,!1);else if(a.detachEvent)a.detachEvent("on"+u,p);else{var d=a._handlers,v=d&&d[u];if(v){var w=Ce(v,p);w>-1&&(d[u]=v.slice(0,w).concat(v.slice(w+1)))}}}function tt(a,u){var p=Ie(a,u);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function qe(a,u,p){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),tt(a,p||u.type,a,u),Mr(u)||u.codemirrorIgnore}function ut(a){var u=a._handlers&&a._handlers.cursorActivity;if(u)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<u.length;++d)Ce(p,u[d])==-1&&p.push(u[d])}function Et(a,u){return Ie(a,u).length>0}function Rt(a){a.prototype.on=function(u,p){ye(this,u,p)},a.prototype.off=function(u,p){rt(this,u,p)}}function kt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function fr(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Mr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function V(a){kt(a),fr(a)}function ee(a){return a.target||a.srcElement}function pe(a){var u=a.which;return u==null&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2)),E&&a.ctrlKey&&u==1&&(u=3),u}var Me=function(){if(l&&c<9)return!1;var a=W("div");return"draggable"in a||"dragDrop"in a}(),Ge;function dt(a){if(Ge==null){var u=W("span","");R(a,W("span",[u,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(Ge=u.offsetWidth<=1&&u.offsetHeight>2&&!(l&&c<8))}var p=Ge?W("span",""):W("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var bt;function Zt(a){if(bt!=null)return bt;var u=R(a,document.createTextNode("AA")),p=ie(u,0,1).getBoundingClientRect(),d=ie(u,1,2).getBoundingClientRect();return U(a),!p||p.left==p.right?!1:bt=d.right-p.right<3}var _r=`

b`.split(/\n/).length!=3?function(a){for(var u=0,p=[],d=a.length;u<=d;){var v=a.indexOf(`
`,u);v==-1&&(v=a.length);var w=a.slice(u,a.charAt(v-1)=="\r"?v-1:v),b=w.indexOf("\r");b!=-1?(p.push(w.slice(0,b)),u+=b+1):(p.push(w),u=v+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Qt=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var u;try{u=a.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=a?!1:u.compareEndPoints("StartToEnd",u)!=0},io=function(){var a=W("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),er=null;function sn(a){if(er!=null)return er;var u=R(a,W("span","x")),p=u.getBoundingClientRect(),d=ie(u,0,1).getBoundingClientRect();return er=Math.abs(p.left-d.left)>1}var Vn={},Vt={};function br(a,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),Vn[a]=u}function jt(a,u){Vt[a]=u}function Qr(a){if(typeof a=="string"&&Vt.hasOwnProperty(a))a=Vt[a];else if(a&&typeof a.name=="string"&&Vt.hasOwnProperty(a.name)){var u=Vt[a.name];typeof u=="string"&&(u={name:u}),a=A(u,a),a.name=u.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Qr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Qr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function mt(a,u){u=Qr(u);var p=Vn[u.name];if(!p)return mt(a,"text/plain");var d=p(a,u);if(Un.hasOwnProperty(u.name)){var v=Un[u.name];for(var w in v)v.hasOwnProperty(w)&&(d.hasOwnProperty(w)&&(d["_"+w]=d[w]),d[w]=v[w])}if(d.name=u.name,u.helperType&&(d.helperType=u.helperType),u.modeProps)for(var b in u.modeProps)d[b]=u.modeProps[b];return d}var Un={};function xn(a,u){var p=Un.hasOwnProperty(a)?Un[a]:Un[a]={};Ee(u,p)}function Sr(a,u){if(u===!0)return u;if(a.copyState)return a.copyState(u);var p={};for(var d in u){var v=u[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function Or(a,u){for(var p;a.innerMode&&(p=a.innerMode(u),!(!p||p.mode==a));)u=p.state,a=p.mode;return p||{mode:a,state:u}}function ln(a,u,p){return a.startState?a.startState(u,p):!0}var Ut=function(a,u,p){this.pos=this.start=0,this.string=a,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Ut.prototype.eol=function(){return this.pos>=this.string.length},Ut.prototype.sol=function(){return this.pos==this.lineStart},Ut.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ut.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ut.prototype.eat=function(a){var u=this.string.charAt(this.pos),p;if(typeof a=="string"?p=u==a:p=u&&(a.test?a.test(u):a(u)),p)return++this.pos,u},Ut.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u},Ut.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Ut.prototype.skipToEnd=function(){this.pos=this.string.length},Ut.prototype.skipTo=function(a){var u=this.string.indexOf(a,this.pos);if(u>-1)return this.pos=u,!0},Ut.prototype.backUp=function(a){this.pos-=a},Ut.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ze(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ze(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.indentation=function(){return ze(this.string,null,this.tabSize)-(this.lineStart?ze(this.string,this.lineStart,this.tabSize):0)},Ut.prototype.match=function(a,u,p){if(typeof a=="string"){var d=function(b){return p?b.toLowerCase():b},v=this.string.substr(this.pos,a.length);if(d(v)==d(a))return u!==!1&&(this.pos+=a.length),!0}else{var w=this.string.slice(this.pos).match(a);return w&&w.index>0?null:(w&&u!==!1&&(this.pos+=w[0].length),w)}},Ut.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ut.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}},Ut.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)},Ut.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function it(a,u){if(u-=a.first,u<0||u>=a.size)throw new Error("There is no line "+(u+a.first)+" in the document.");for(var p=a;!p.lines;)for(var d=0;;++d){var v=p.children[d],w=v.chunkSize();if(u<w){p=v;break}u-=w}return p.lines[u]}function Ur(a,u,p){var d=[],v=u.line;return a.iter(u.line,p.line+1,function(w){var b=w.text;v==p.line&&(b=b.slice(0,p.ch)),v==u.line&&(b=b.slice(u.ch)),d.push(b),++v}),d}function or(a,u,p){var d=[];return a.iter(u,p,function(v){d.push(v.text)}),d}function zr(a,u){var p=u-a.height;if(p)for(var d=a;d;d=d.parent)d.height+=p}function Mt(a){if(a.parent==null)return null;for(var u=a.parent,p=Ce(u.lines,a),d=u.parent;d;u=d,d=d.parent)for(var v=0;d.children[v]!=u;++v)p+=d.children[v].chunkSize();return p+u.first}function qt(a,u){var p=a.first;e:do{for(var d=0;d<a.children.length;++d){var v=a.children[d],w=v.height;if(u<w){a=v;continue e}u-=w,p+=v.chunkSize()}return p}while(!a.lines);for(var b=0;b<a.lines.length;++b){var O=a.lines[b],P=O.height;if(u<P)break;u-=P}return p+b}function zn(a,u){return u>=a.first&&u<a.first+a.size}function ao(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function je(a,u,p){if(p===void 0&&(p=null),!(this instanceof je))return new je(a,u,p);this.line=a,this.ch=u,this.sticky=p}function vt(a,u){return a.line-u.line||a.ch-u.ch}function so(a,u){return a.sticky==u.sticky&&vt(a,u)==0}function j(a){return je(a.line,a.ch)}function X(a,u){return vt(a,u)<0?u:a}function Oe(a,u){return vt(a,u)<0?a:u}function Fe(a,u){return Math.max(a.first,Math.min(u,a.first+a.size-1))}function Ue(a,u){if(u.line<a.first)return je(a.first,0);var p=a.first+a.size-1;return u.line>p?je(p,it(a,p).text.length):Ot(u,it(a,u.line).text.length)}function Ot(a,u){var p=a.ch;return p==null||p>u?je(a.line,u):p<0?je(a.line,0):a}function At(a,u){for(var p=[],d=0;d<u.length;d++)p[d]=Ue(a,u[d]);return p}var tr=function(a,u){this.state=a,this.lookAhead=u},Bt=function(a,u,p,d){this.state=u,this.doc=a,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};Bt.prototype.lookAhead=function(a){var u=this.doc.getLine(this.line+a);return u!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),u},Bt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Bt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Bt.fromSaved=function(a,u,p){return u instanceof tr?new Bt(a,Sr(a.mode,u.state),p,u.lookAhead):new Bt(a,Sr(a.mode,u),p)},Bt.prototype.save=function(a){var u=a!==!1?Sr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new tr(u,this.maxLookAhead):u};function Bn(a,u,p,d){var v=[a.state.modeGen],w={};ii(a,u.text,a.doc.mode,p,function(L,q){return v.push(L,q)},w,d);for(var b=p.state,O=function(L){p.baseTokens=v;var q=a.state.overlays[L],Z=1,ge=0;p.state=!0,ii(a,u.text,q.mode,p,function(ce,Se){for(var Re=Z;ge<ce;){var Be=v[Z];Be>ce&&v.splice(Z,1,ce,v[Z+1],Be),Z+=2,ge=Math.min(ce,Be)}if(Se)if(q.opaque)v.splice(Re,Z-Re,ce,"overlay "+Se),Z=Re+2;else for(;Re<Z;Re+=2){var Ze=v[Re+1];v[Re+1]=(Ze?Ze+" ":"")+"overlay "+Se}},w),p.state=b,p.baseTokens=null,p.baseTokenPos=1},P=0;P<a.state.overlays.length;++P)O(P);return{styles:v,classes:w.bgClass||w.textClass?w:null}}function Gi(a,u,p){if(!u.styles||u.styles[0]!=a.state.modeGen){var d=gi(a,Mt(u)),v=u.text.length>a.options.maxHighlightLength&&Sr(a.doc.mode,d.state),w=Bn(a,u,d);v&&(d.state=v),u.stateAfter=d.save(!v),u.styles=w.styles,w.classes?u.styleClasses=w.classes:u.styleClasses&&(u.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return u.styles}function gi(a,u,p){var d=a.doc,v=a.display;if(!d.mode.startState)return new Bt(d,!0,u);var w=zo(a,u,p),b=w>d.first&&it(d,w-1).stateAfter,O=b?Bt.fromSaved(d,b,w):new Bt(d,ln(d.mode),w);return d.iter(w,u,function(P){mi(a,P.text,O);var L=O.line;P.stateAfter=L==u-1||L%5==0||L>=v.viewFrom&&L<v.viewTo?O.save():null,O.nextLine()}),p&&(d.modeFrontier=O.line),O}function mi(a,u,p,d){var v=a.doc.mode,w=new Ut(u,a.options.tabSize,p);for(w.start=w.pos=d||0,u==""&&yi(v,p.state);!w.eol();)Ga(v,w,p.state),w.start=w.pos}function yi(a,u){if(a.blankLine)return a.blankLine(u);if(a.innerMode){var p=Or(a,u);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Ga(a,u,p,d){for(var v=0;v<10;v++){d&&(d[0]=Or(a,p).mode);var w=a.token(u,p);if(u.pos>u.start)return w}throw new Error("Mode "+a.name+" failed to advance stream.")}var qi=function(a,u,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=u||null,this.state=p};function Yi(a,u,p,d){var v=a.doc,w=v.mode,b;u=Ue(v,u);var O=it(v,u.line),P=gi(a,u.line,p),L=new Ut(O.text,a.options.tabSize,P),q;for(d&&(q=[]);(d||L.pos<u.ch)&&!L.eol();)L.start=L.pos,b=Ga(w,L,P.state),d&&q.push(new qi(L,b,Sr(v.mode,P.state)));return d?q:new qi(L,b,P.state)}function wi(a,u){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";u[d]==null?u[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(u[d])||(u[d]+=" "+p[2])}return a}function ii(a,u,p,d,v,w,b){var O=p.flattenSpans;O==null&&(O=a.options.flattenSpans);var P=0,L=null,q=new Ut(u,a.options.tabSize,d),Z,ge=a.options.addModeClass&&[null];for(u==""&&wi(yi(p,d.state),w);!q.eol();){if(q.pos>a.options.maxHighlightLength?(O=!1,b&&mi(a,u,d,q.pos),q.pos=u.length,Z=null):Z=wi(Ga(p,q,d.state,ge),w),ge){var ce=ge[0].name;ce&&(Z="m-"+(Z?ce+" "+Z:ce))}if(!O||L!=Z){for(;P<q.start;)P=Math.min(q.start,P+5e3),v(P,L);L=Z}q.start=q.pos}for(;P<q.pos;){var Se=Math.min(q.pos,P+5e3);v(Se,L),P=Se}}function zo(a,u,p){for(var d,v,w=a.doc,b=p?-1:u-(a.doc.mode.innerMode?1e3:100),O=u;O>b;--O){if(O<=w.first)return w.first;var P=it(w,O-1),L=P.stateAfter;if(L&&(!p||O+(L instanceof tr?L.lookAhead:0)<=w.modeFrontier))return O;var q=ze(P.text,null,a.options.tabSize);(v==null||d>q)&&(v=O-1,d=q)}return v}function Xi(a,u){if(a.modeFrontier=Math.min(a.modeFrontier,u),!(a.highlightFrontier<u-10)){for(var p=a.first,d=u-1;d>p;d--){var v=it(a,d).stateAfter;if(v&&(!(v instanceof tr)||d+v.lookAhead<u)){p=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var Er=!1,Nr=!1;function qa(){Er=!0}function lo(){Nr=!0}function Bo(a,u,p){this.marker=a,this.from=u,this.to=p}function un(a,u){if(a)for(var p=0;p<a.length;++p){var d=a[p];if(d.marker==u)return d}}function Dr(a,u){for(var p,d=0;d<a.length;++d)a[d]!=u&&(p||(p=[])).push(a[d]);return p}function Rs(a,u,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&d.has(a.markedSpans)?a.markedSpans.push(u):(a.markedSpans=a.markedSpans?a.markedSpans.concat([u]):[u],d&&d.add(a.markedSpans)),u.marker.attachLine(a)}function Ho(a,u,p){var d;if(a)for(var v=0;v<a.length;++v){var w=a[v],b=w.marker,O=w.from==null||(b.inclusiveLeft?w.from<=u:w.from<u);if(O||w.from==u&&b.type=="bookmark"&&(!p||!w.marker.insertLeft)){var P=w.to==null||(b.inclusiveRight?w.to>=u:w.to>u);(d||(d=[])).push(new Bo(b,w.from,P?null:w.to))}}return d}function uo(a,u,p){var d;if(a)for(var v=0;v<a.length;++v){var w=a[v],b=w.marker,O=w.to==null||(b.inclusiveRight?w.to>=u:w.to>u);if(O||w.from==u&&b.type=="bookmark"&&(!p||w.marker.insertLeft)){var P=w.from==null||(b.inclusiveLeft?w.from<=u:w.from<u);(d||(d=[])).push(new Bo(b,P?null:w.from-u,w.to==null?null:w.to-u))}}return d}function _i(a,u){if(u.full)return null;var p=zn(a,u.from.line)&&it(a,u.from.line).markedSpans,d=zn(a,u.to.line)&&it(a,u.to.line).markedSpans;if(!p&&!d)return null;var v=u.from.ch,w=u.to.ch,b=vt(u.from,u.to)==0,O=Ho(p,v,b),P=uo(d,w,b),L=u.text.length==1,q=ht(u.text).length+(L?v:0);if(O)for(var Z=0;Z<O.length;++Z){var ge=O[Z];if(ge.to==null){var ce=un(P,ge.marker);ce?L&&(ge.to=ce.to==null?null:ce.to+q):ge.to=v}}if(P)for(var Se=0;Se<P.length;++Se){var Re=P[Se];if(Re.to!=null&&(Re.to+=q),Re.from==null){var Be=un(O,Re.marker);Be||(Re.from=q,L&&(O||(O=[])).push(Re))}else Re.from+=q,L&&(O||(O=[])).push(Re)}O&&(O=co(O)),P&&P!=O&&(P=co(P));var Ze=[O];if(!L){var ot=u.text.length-2,Qe;if(ot>0&&O)for(var at=0;at<O.length;++at)O[at].to==null&&(Qe||(Qe=[])).push(new Bo(O[at].marker,null,null));for(var gt=0;gt<ot;++gt)Ze.push(Qe);Ze.push(P)}return Ze}function co(a){for(var u=0;u<a.length;++u){var p=a[u];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(u--,1)}return a.length?a:null}function fo(a,u,p){var d=null;if(a.iter(u.line,p.line+1,function(ce){if(ce.markedSpans)for(var Se=0;Se<ce.markedSpans.length;++Se){var Re=ce.markedSpans[Se].marker;Re.readOnly&&(!d||Ce(d,Re)==-1)&&(d||(d=[])).push(Re)}}),!d)return null;for(var v=[{from:u,to:p}],w=0;w<d.length;++w)for(var b=d[w],O=b.find(0),P=0;P<v.length;++P){var L=v[P];if(!(vt(L.to,O.from)<0||vt(L.from,O.to)>0)){var q=[P,1],Z=vt(L.from,O.from),ge=vt(L.to,O.to);(Z<0||!b.inclusiveLeft&&!Z)&&q.push({from:L.from,to:O.from}),(ge>0||!b.inclusiveRight&&!ge)&&q.push({from:O.to,to:L.to}),v.splice.apply(v,q),P+=q.length-3}}return v}function Ya(a){var u=a.markedSpans;if(u){for(var p=0;p<u.length;++p)u[p].marker.detachLine(a);a.markedSpans=null}}function Ji(a,u){if(u){for(var p=0;p<u.length;++p)u[p].marker.attachLine(a);a.markedSpans=u}}function bi(a){return a.inclusiveLeft?-1:0}function To(a){return a.inclusiveRight?1:0}function xi(a,u){var p=a.lines.length-u.lines.length;if(p!=0)return p;var d=a.find(),v=u.find(),w=vt(d.from,v.from)||bi(a)-bi(u);if(w)return-w;var b=vt(d.to,v.to)||To(a)-To(u);return b||u.id-a.id}function Wo(a,u){var p=Nr&&a.markedSpans,d;if(p)for(var v=void 0,w=0;w<p.length;++w)v=p[w],v.marker.collapsed&&(u?v.from:v.to)==null&&(!d||xi(d,v.marker)<0)&&(d=v.marker);return d}function ft(a){return Wo(a,!0)}function ct(a){return Wo(a,!1)}function It(a,u){var p=Nr&&a.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var w=p[v];w.marker.collapsed&&(w.from==null||w.from<u)&&(w.to==null||w.to>u)&&(!d||xi(d,w.marker)<0)&&(d=w.marker)}return d}function wt(a,u,p,d,v){var w=it(a,u),b=Nr&&w.markedSpans;if(b)for(var O=0;O<b.length;++O){var P=b[O];if(P.marker.collapsed){var L=P.marker.find(0),q=vt(L.from,p)||bi(P.marker)-bi(v),Z=vt(L.to,d)||To(P.marker)-To(v);if(!(q>=0&&Z<=0||q<=0&&Z>=0)&&(q<=0&&(P.marker.inclusiveRight&&v.inclusiveLeft?vt(L.to,p)>=0:vt(L.to,p)>0)||q>=0&&(P.marker.inclusiveRight&&v.inclusiveLeft?vt(L.from,d)<=0:vt(L.from,d)<0)))return!0}}}function ir(a){for(var u;u=ft(a);)a=u.find(-1,!0).line;return a}function Tr(a){for(var u;u=ct(a);)a=u.find(1,!0).line;return a}function cn(a){for(var u,p;u=ct(a);)a=u.find(1,!0).line,(p||(p=[])).push(a);return p}function Po(a,u){var p=it(a,u),d=ir(p);return p==d?u:Mt(d)}function Cn(a,u){if(u>a.lastLine())return u;var p=it(a,u),d;if(!Sn(a,p))return u;for(;d=ct(p);)p=d.find(1,!0).line;return Mt(p)+1}function Sn(a,u){var p=Nr&&u.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&Hn(a,u,d))return!0}}}function Hn(a,u,p){if(p.to==null){var d=p.marker.find(1,!0);return Hn(a,d.line,un(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==u.text.length)return!0;for(var v=void 0,w=0;w<u.markedSpans.length;++w)if(v=u.markedSpans[w],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&Hn(a,u,v))return!0}function ko(a){a=ir(a);for(var u=0,p=a.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==a)break;u+=v.height}for(var w=p.parent;w;p=w,w=p.parent)for(var b=0;b<w.children.length;++b){var O=w.children[b];if(O==p)break;u+=O.height}return u}function Ci(a){if(a.height==0)return 0;for(var u=a.text.length,p,d=a;p=ft(d);){var v=p.find(0,!0);d=v.from.line,u+=v.from.ch-v.to.ch}for(d=a;p=ct(d);){var w=p.find(0,!0);u-=d.text.length-w.from.ch,d=w.to.line,u+=d.text.length-w.to.ch}return u}function Zi(a){var u=a.display,p=a.doc;u.maxLine=it(p,p.first),u.maxLineLength=Ci(u.maxLine),u.maxLineChanged=!0,p.iter(function(d){var v=Ci(d);v>u.maxLineLength&&(u.maxLineLength=v,u.maxLine=d)})}var Br=function(a,u,p){this.text=a,Ji(this,u),this.height=p?p(this):1};Br.prototype.lineNo=function(){return Mt(this)},Rt(Br);function of(a,u,p,d){a.text=u,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Ya(a),Ji(a,p);var v=d?d(a):1;v!=a.height&&zr(a,v)}function js(a){a.parent=null,Ya(a)}var af={},eu={};function tu(a,u){if(!a||/^\s*$/.test(a))return null;var p=u.addModeClass?eu:af;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function Is(a,u){var p=H("span",null,null,f?"padding-right: .1px":null),d={pre:H("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var v=0;v<=(u.rest?u.rest.length:0);v++){var w=v?u.rest[v-1]:u.line,b=void 0;d.pos=0,d.addToken=lf,Zt(a.display.measure)&&(b=I(w,a.doc.direction))&&(d.addToken=uf(d.addToken,b)),d.map=[];var O=u!=a.display.externalMeasured&&Mt(w);cf(w,d,Gi(a,w,O)),w.styleClasses&&(w.styleClasses.bgClass&&(d.bgClass=xe(w.styleClasses.bgClass,d.bgClass||"")),w.styleClasses.textClass&&(d.textClass=xe(w.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(dt(a.display.measure))),v==0?(u.measure.map=d.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(d.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(f){var P=d.content.lastChild;(/\bcm-tab\b/.test(P.className)||P.querySelector&&P.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return tt(a,"renderLine",a,u.line,d.pre),d.pre.className&&(d.textClass=xe(d.pre.className,d.textClass||"")),d}function sf(a){var u=W("span","","cm-invalidchar");return u.title="\\u"+a.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function lf(a,u,p,d,v,w,b){if(u){var O=a.splitSpaces?Fs(u,a.trailingSpace):u,P=a.cm.state.specialChars,L=!1,q;if(!P.test(u))a.col+=u.length,q=document.createTextNode(O),a.map.push(a.pos,a.pos+u.length,q),l&&c<9&&(L=!0),a.pos+=u.length;else{q=document.createDocumentFragment();for(var Z=0;;){P.lastIndex=Z;var ge=P.exec(u),ce=ge?ge.index-Z:u.length-Z;if(ce){var Se=document.createTextNode(O.slice(Z,Z+ce));l&&c<9?q.appendChild(W("span",[Se])):q.appendChild(Se),a.map.push(a.pos,a.pos+ce,Se),a.col+=ce,a.pos+=ce}if(!ge)break;Z+=ce+1;var Re=void 0;if(ge[0]=="	"){var Be=a.cm.options.tabSize,Ze=Be-a.col%Be;Re=q.appendChild(W("span",Dt(Ze),"cm-tab")),Re.setAttribute("role","presentation"),Re.setAttribute("cm-text","	"),a.col+=Ze}else ge[0]=="\r"||ge[0]==`
`?(Re=q.appendChild(W("span",ge[0]=="\r"?"":"","cm-invalidchar")),Re.setAttribute("cm-text",ge[0]),a.col+=1):(Re=a.cm.options.specialCharPlaceholder(ge[0]),Re.setAttribute("cm-text",ge[0]),l&&c<9?q.appendChild(W("span",[Re])):q.appendChild(Re),a.col+=1);a.map.push(a.pos,a.pos+1,Re),a.pos++}}if(a.trailingSpace=O.charCodeAt(u.length-1)==32,p||d||v||L||w||b){var ot=p||"";d&&(ot+=d),v&&(ot+=v);var Qe=W("span",[q],ot,w);if(b)for(var at in b)b.hasOwnProperty(at)&&at!="style"&&at!="class"&&Qe.setAttribute(at,b[at]);return a.content.appendChild(Qe)}a.content.appendChild(q)}}function Fs(a,u){if(a.length>1&&!/  /.test(a))return a;for(var p=u,d="",v=0;v<a.length;v++){var w=a.charAt(v);w==" "&&p&&(v==a.length-1||a.charCodeAt(v+1)==32)&&(w=""),d+=w,p=w==" "}return d}function uf(a,u){return function(p,d,v,w,b,O,P){v=v?v+" cm-force-border":"cm-force-border";for(var L=p.pos,q=L+d.length;;){for(var Z=void 0,ge=0;ge<u.length&&(Z=u[ge],!(Z.to>L&&Z.from<=L));ge++);if(Z.to>=q)return a(p,d,v,w,b,O,P);a(p,d.slice(0,Z.to-L),v,w,null,O,P),w=null,d=d.slice(Z.to-L),L=Z.to}}}function ru(a,u,p,d){var v=!d&&p.widgetNode;v&&a.map.push(a.pos,a.pos+u,v),!d&&a.cm.display.input.needsContentAttribute&&(v||(v=a.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(a.cm.display.input.setUneditable(v),a.content.appendChild(v)),a.pos+=u,a.trailingSpace=!1}function cf(a,u,p){var d=a.markedSpans,v=a.text,w=0;if(!d){for(var b=1;b<p.length;b+=2)u.addToken(u,v.slice(w,w=p[b]),tu(p[b+1],u.cm.options));return}for(var O=v.length,P=0,L=1,q="",Z,ge,ce=0,Se,Re,Be,Ze,ot;;){if(ce==P){Se=Re=Be=ge="",ot=null,Ze=null,ce=1/0;for(var Qe=[],at=void 0,gt=0;gt<d.length;++gt){var pt=d[gt],Tt=pt.marker;if(Tt.type=="bookmark"&&pt.from==P&&Tt.widgetNode)Qe.push(Tt);else if(pt.from<=P&&(pt.to==null||pt.to>P||Tt.collapsed&&pt.to==P&&pt.from==P)){if(pt.to!=null&&pt.to!=P&&ce>pt.to&&(ce=pt.to,Re=""),Tt.className&&(Se+=" "+Tt.className),Tt.css&&(ge=(ge?ge+";":"")+Tt.css),Tt.startStyle&&pt.from==P&&(Be+=" "+Tt.startStyle),Tt.endStyle&&pt.to==ce&&(at||(at=[])).push(Tt.endStyle,pt.to),Tt.title&&((ot||(ot={})).title=Tt.title),Tt.attributes)for(var Xt in Tt.attributes)(ot||(ot={}))[Xt]=Tt.attributes[Xt];Tt.collapsed&&(!Ze||xi(Ze.marker,Tt)<0)&&(Ze=pt)}else pt.from>P&&ce>pt.from&&(ce=pt.from)}if(at)for(var $r=0;$r<at.length;$r+=2)at[$r+1]==ce&&(Re+=" "+at[$r]);if(!Ze||Ze.from==P)for(var dr=0;dr<Qe.length;++dr)ru(u,0,Qe[dr]);if(Ze&&(Ze.from||0)==P){if(ru(u,(Ze.to==null?O+1:Ze.to)-P,Ze.marker,Ze.from==null),Ze.to==null)return;Ze.to==P&&(Ze=!1)}}if(P>=O)break;for(var Kn=Math.min(O,ce);;){if(q){var Tn=P+q.length;if(!Ze){var Pr=Tn>Kn?q.slice(0,Kn-P):q;u.addToken(u,Pr,Z?Z+Se:Se,Be,P+Pr.length==ce?Re:"",ge,ot)}if(Tn>=Kn){q=q.slice(Kn-P),P=Kn;break}P=Tn,Be=""}q=v.slice(w,w=p[L++]),Z=tu(p[L++],u.cm.options)}}}function nu(a,u,p){this.line=u,this.rest=cn(u),this.size=this.rest?Mt(ht(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Sn(a,u)}function Vs(a,u,p){for(var d=[],v,w=u;w<p;w=v){var b=new nu(a.doc,it(a.doc,w),w);v=w+b.size,d.push(b)}return d}var Si=null;function ff(a){Si?Si.ops.push(a):a.ownsGroup=Si={ops:[a],delayedCallbacks:[]}}function Ah(a){var u=a.delayedCallbacks,p=0;do{for(;p<u.length;p++)u[p].call(null);for(var d=0;d<a.ops.length;d++){var v=a.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<u.length)}function ou(a,u){var p=a.ownsGroup;if(p)try{Ah(p)}finally{Si=null,u(p)}}var Qi=null;function vr(a,u){var p=Ie(a,u);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;Si?v=Si.delayedCallbacks:Qi?v=Qi:(v=Qi=[],setTimeout(ea,0));for(var w=function(O){v.push(function(){return p[O].apply(null,d)})},b=0;b<p.length;++b)w(b)}}function ea(){var a=Qi;Qi=null;for(var u=0;u<a.length;++u)a[u]()}function ai(a,u,p,d){for(var v=0;v<u.changes.length;v++){var w=u.changes[v];w=="text"?au(a,u):w=="gutter"?ra(a,u,p,d):w=="class"?Us(a,u):w=="widget"&&pf(a,u,d)}u.changes=null}function ta(a){return a.node==a.text&&(a.node=W("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),l&&c<8&&(a.node.style.zIndex=2)),a.node}function df(a,u){var p=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),u.background)p?u.background.className=p:(u.background.parentNode.removeChild(u.background),u.background=null);else if(p){var d=ta(u);u.background=d.insertBefore(W("div",null,p),d.firstChild),a.display.input.setUneditable(u.background)}}function iu(a,u){var p=a.display.externalMeasured;return p&&p.line==u.line?(a.display.externalMeasured=null,u.measure=p.measure,p.built):Is(a,u)}function au(a,u){var p=u.text.className,d=iu(a,u);u.text==u.node&&(u.node=d.pre),u.text.parentNode.replaceChild(d.pre,u.text),u.text=d.pre,d.bgClass!=u.bgClass||d.textClass!=u.textClass?(u.bgClass=d.bgClass,u.textClass=d.textClass,Us(a,u)):p&&(u.text.className=p)}function Us(a,u){df(a,u),u.line.wrapClass?ta(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var p=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=p||""}function ra(a,u,p,d){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var v=ta(u);u.gutterBackground=W("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),a.display.input.setUneditable(u.gutterBackground),v.insertBefore(u.gutterBackground,u.text)}var w=u.line.gutterMarkers;if(a.options.lineNumbers||w){var b=ta(u),O=u.gutter=W("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(O.setAttribute("aria-hidden","true"),a.display.input.setUneditable(O),b.insertBefore(O,u.text),u.line.gutterClass&&(O.className+=" "+u.line.gutterClass),a.options.lineNumbers&&(!w||!w["CodeMirror-linenumbers"])&&(u.lineNumber=O.appendChild(W("div",ao(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),w)for(var P=0;P<a.display.gutterSpecs.length;++P){var L=a.display.gutterSpecs[P].className,q=w.hasOwnProperty(L)&&w[L];q&&O.appendChild(W("div",[q],"CodeMirror-gutter-elt","left: "+d.gutterLeft[L]+"px; width: "+d.gutterWidth[L]+"px"))}}}function pf(a,u,p){u.alignable&&(u.alignable=null);for(var d=$("CodeMirror-linewidget"),v=u.node.firstChild,w=void 0;v;v=w)w=v.nextSibling,d.test(v.className)&&u.node.removeChild(v);na(a,u,p)}function hf(a,u,p,d){var v=iu(a,u);return u.text=u.node=v.pre,v.bgClass&&(u.bgClass=v.bgClass),v.textClass&&(u.textClass=v.textClass),Us(a,u),ra(a,u,p,d),na(a,u,d),u.node}function na(a,u,p){if(su(a,u.line,u,p,!0),u.rest)for(var d=0;d<u.rest.length;d++)su(a,u.rest[d],u,p,!1)}function su(a,u,p,d,v){if(u.widgets)for(var w=ta(p),b=0,O=u.widgets;b<O.length;++b){var P=O[b],L=W("div",[P.node],"CodeMirror-linewidget"+(P.className?" "+P.className:""));P.handleMouseEvents||L.setAttribute("cm-ignore-events","true"),vf(P,L,p,d),a.display.input.setUneditable(L),v&&P.above?w.insertBefore(L,p.gutter||p.text):w.appendChild(L),vr(P,"redraw")}}function vf(a,u,p,d){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(u);var v=d.wrapperWidth;u.style.left=d.fixedPos+"px",a.coverGutter||(v-=d.gutterTotalWidth,u.style.paddingLeft=d.gutterTotalWidth+"px"),u.style.width=v+"px"}a.coverGutter&&(u.style.zIndex=5,u.style.position="relative",a.noHScroll||(u.style.marginLeft=-d.gutterTotalWidth+"px"))}function oa(a){if(a.height!=null)return a.height;var u=a.doc.cm;if(!u)return 0;if(!M(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+u.display.wrapper.clientWidth+"px;"),R(u.display.measure,W("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function Ao(a,u){for(var p=ee(u);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function ia(a){return a.lineSpace.offsetTop}function Xa(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function gf(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=R(a.measure,W("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(a.cachedPaddingH=d),d}function Wn(a){return le-a.display.nativeBarWidth}function Oi(a){return a.display.scroller.clientWidth-Wn(a)-a.display.barWidth}function k(a){return a.display.scroller.clientHeight-Wn(a)-a.display.barHeight}function F(a,u,p){var d=a.options.lineWrapping,v=d&&Oi(a);if(!u.measure.heights||d&&u.measure.width!=v){var w=u.measure.heights=[];if(d){u.measure.width=v;for(var b=u.text.firstChild.getClientRects(),O=0;O<b.length-1;O++){var P=b[O],L=b[O+1];Math.abs(P.bottom-L.bottom)>2&&w.push((P.bottom+L.top)/2-p.top)}}w.push(p.bottom-p.top)}}function J(a,u,p){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==u)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var v=0;v<a.rest.length;v++)if(Mt(a.rest[v])>p)return{map:a.measure.maps[v],cache:a.measure.caches[v],before:!0}}function ne(a,u){u=ir(u);var p=Mt(u),d=a.display.externalMeasured=new nu(a.doc,u,p);d.lineN=p;var v=d.built=Is(a,d);return d.text=v.pre,R(a.display.lineMeasure,v.pre),d}function me(a,u,p,d){return $e(a,Le(a,u),p,d)}function he(a,u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[Qa(a,u)];var p=a.display.externalMeasured;if(p&&u>=p.lineN&&u<p.lineN+p.size)return p}function Le(a,u){var p=Mt(u),d=he(a,p);d&&!d.text?d=null:d&&d.changes&&(ai(a,d,p,Rh(a)),a.curOp.forceUpdate=!0),d||(d=ne(a,u));var v=J(d,u,p);return{line:u,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function $e(a,u,p,d,v){u.before&&(p=-1);var w=p+(d||""),b;return u.cache.hasOwnProperty(w)?b=u.cache[w]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(F(a,u.view,u.rect),u.hasHeights=!0),b=en(a,u,p,d),b.bogus||(u.cache[w]=b)),{left:b.left,right:b.right,top:v?b.rtop:b.top,bottom:v?b.rbottom:b.bottom}}var St={left:0,right:0,top:0,bottom:0};function Ct(a,u,p){for(var d,v,w,b,O,P,L=0;L<a.length;L+=3)if(O=a[L],P=a[L+1],u<O?(v=0,w=1,b="left"):u<P?(v=u-O,w=v+1):(L==a.length-3||u==P&&a[L+3]>u)&&(w=P-O,v=w-1,u>=P&&(b="right")),v!=null){if(d=a[L+2],O==P&&p==(d.insertLeft?"left":"right")&&(b=p),p=="left"&&v==0)for(;L&&a[L-2]==a[L-3]&&a[L-1].insertLeft;)d=a[(L-=3)+2],b="left";if(p=="right"&&v==P-O)for(;L<a.length-3&&a[L+3]==a[L+4]&&!a[L+5].insertLeft;)d=a[(L+=3)+2],b="right";break}return{node:d,start:v,end:w,collapse:b,coverStart:O,coverEnd:P}}function Rr(a,u){var p=St;if(u=="left")for(var d=0;d<a.length&&(p=a[d]).left==p.right;d++);else for(var v=a.length-1;v>=0&&(p=a[v]).left==p.right;v--);return p}function en(a,u,p,d){var v=Ct(u.map,p,d),w=v.node,b=v.start,O=v.end,P=v.collapse,L;if(w.nodeType==3){for(var q=0;q<4;q++){for(;b&&ve(u.line.text.charAt(v.coverStart+b));)--b;for(;v.coverStart+O<v.coverEnd&&ve(u.line.text.charAt(v.coverStart+O));)++O;if(l&&c<9&&b==0&&O==v.coverEnd-v.coverStart?L=w.parentNode.getBoundingClientRect():L=Rr(ie(w,b,O).getClientRects(),d),L.left||L.right||b==0)break;O=b,b=b-1,P="right"}l&&c<11&&(L=mf(a.display.measure,L))}else{b>0&&(P=d="right");var Z;a.options.lineWrapping&&(Z=w.getClientRects()).length>1?L=Z[d=="right"?Z.length-1:0]:L=w.getBoundingClientRect()}if(l&&c<9&&!b&&(!L||!L.left&&!L.right)){var ge=w.parentNode.getClientRects()[0];ge?L={left:ge.left,right:ge.left+Bs(a.display),top:ge.top,bottom:ge.bottom}:L=St}for(var ce=L.top-u.rect.top,Se=L.bottom-u.rect.top,Re=(ce+Se)/2,Be=u.view.measure.heights,Ze=0;Ze<Be.length-1&&!(Re<Be[Ze]);Ze++);var ot=Ze?Be[Ze-1]:0,Qe=Be[Ze],at={left:(P=="right"?L.right:L.left)-u.rect.left,right:(P=="left"?L.left:L.right)-u.rect.left,top:ot,bottom:Qe};return!L.left&&!L.right&&(at.bogus=!0),a.options.singleCursorHeightPerLine||(at.rtop=ce,at.rbottom=Se),at}function mf(a,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!sn(a))return u;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*p,right:u.right*p,top:u.top*d,bottom:u.bottom*d}}function lu(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function p0(a){a.display.externalMeasure=null,U(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)lu(a.display.view[u])}function uu(a){p0(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function h0(){return g&&S?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function v0(){return g&&S?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Lh(a){var u=0;if(a.widgets)for(var p=0;p<a.widgets.length;++p)a.widgets[p].above&&(u+=oa(a.widgets[p]));return u}function yf(a,u,p,d,v){if(!v){var w=Lh(u);p.top+=w,p.bottom+=w}if(d=="line")return p;d||(d="local");var b=ko(u);if(d=="local"?b+=ia(a.display):b-=a.display.viewOffset,d=="page"||d=="window"){var O=a.display.lineSpace.getBoundingClientRect();b+=O.top+(d=="window"?0:v0());var P=O.left+(d=="window"?0:h0());p.left+=P,p.right+=P}return p.top+=b,p.bottom+=b,p}function g0(a,u,p){if(p=="div")return u;var d=u.left,v=u.top;if(p=="page")d-=h0(),v-=v0();else if(p=="local"||!p){var w=a.display.sizer.getBoundingClientRect();d+=w.left,v+=w.top}var b=a.display.lineSpace.getBoundingClientRect();return{left:d-b.left,top:v-b.top}}function wf(a,u,p,d,v){return d||(d=it(a.doc,u.line)),yf(a,d,me(a,d,u.ch,v),p)}function $o(a,u,p,d,v,w){d=d||it(a.doc,u.line),v||(v=Le(a,d));function b(Se,Re){var Be=$e(a,v,Se,Re?"right":"left",w);return Re?Be.left=Be.right:Be.right=Be.left,yf(a,d,Be,p)}var O=I(d,a.doc.direction),P=u.ch,L=u.sticky;if(P>=d.text.length?(P=d.text.length,L="before"):P<=0&&(P=0,L="after"),!O)return b(L=="before"?P-1:P,L=="before");function q(Se,Re,Be){var Ze=O[Re],ot=Ze.level==1;return b(Be?Se-1:Se,ot!=Be)}var Z=B(O,P,L),ge=yt,ce=q(P,Z,L=="before");return ge!=null&&(ce.other=q(P,ge,L!="before")),ce}function m0(a,u){var p=0;u=Ue(a.doc,u),a.options.lineWrapping||(p=Bs(a.display)*u.ch);var d=it(a.doc,u.line),v=ko(d)+ia(a.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Mh(a,u,p,d,v){var w=je(a,u,p);return w.xRel=v,d&&(w.outside=d),w}function Nh(a,u,p){var d=a.doc;if(p+=a.display.viewOffset,p<0)return Mh(d.first,0,null,-1,-1);var v=qt(d,p),w=d.first+d.size-1;if(v>w)return Mh(d.first+d.size-1,it(d,w).text.length,null,1,1);u<0&&(u=0);for(var b=it(d,v);;){var O=gE(a,b,v,u,p),P=It(b,O.ch+(O.xRel>0||O.outside>0?1:0));if(!P)return O;var L=P.find(1);if(L.line==v)return L;b=it(d,v=L.line)}}function y0(a,u,p,d){d-=Lh(u);var v=u.text.length,w=st(function(b){return $e(a,p,b-1).bottom<=d},v,0);return v=st(function(b){return $e(a,p,b).top>d},w,v),{begin:w,end:v}}function w0(a,u,p,d){p||(p=Le(a,u));var v=yf(a,u,$e(a,p,d),"line").top;return y0(a,u,p,v)}function Dh(a,u,p,d){return a.bottom<=p?!1:a.top>p?!0:(d?a.left:a.right)>u}function gE(a,u,p,d,v){v-=ko(u);var w=Le(a,u),b=Lh(u),O=0,P=u.text.length,L=!0,q=I(u,a.doc.direction);if(q){var Z=(a.options.lineWrapping?yE:mE)(a,u,p,w,q,d,v);L=Z.level!=1,O=L?Z.from:Z.to-1,P=L?Z.to:Z.from-1}var ge=null,ce=null,Se=st(function(gt){var pt=$e(a,w,gt);return pt.top+=b,pt.bottom+=b,Dh(pt,d,v,!1)?(pt.top<=v&&pt.left<=d&&(ge=gt,ce=pt),!0):!1},O,P),Re,Be,Ze=!1;if(ce){var ot=d-ce.left<ce.right-d,Qe=ot==L;Se=ge+(Qe?0:1),Be=Qe?"after":"before",Re=ot?ce.left:ce.right}else{!L&&(Se==P||Se==O)&&Se++,Be=Se==0?"after":Se==u.text.length?"before":$e(a,w,Se-(L?1:0)).bottom+b<=v==L?"after":"before";var at=$o(a,je(p,Se,Be),"line",u,w);Re=at.left,Ze=v<at.top?-1:v>=at.bottom?1:0}return Se=fe(u.text,Se,1),Mh(p,Se,Be,Ze,d-Re)}function mE(a,u,p,d,v,w,b){var O=st(function(Z){var ge=v[Z],ce=ge.level!=1;return Dh($o(a,je(p,ce?ge.to:ge.from,ce?"before":"after"),"line",u,d),w,b,!0)},0,v.length-1),P=v[O];if(O>0){var L=P.level!=1,q=$o(a,je(p,L?P.from:P.to,L?"after":"before"),"line",u,d);Dh(q,w,b,!0)&&q.top>b&&(P=v[O-1])}return P}function yE(a,u,p,d,v,w,b){var O=y0(a,u,d,b),P=O.begin,L=O.end;/\s/.test(u.text.charAt(L-1))&&L--;for(var q=null,Z=null,ge=0;ge<v.length;ge++){var ce=v[ge];if(!(ce.from>=L||ce.to<=P)){var Se=ce.level!=1,Re=$e(a,d,Se?Math.min(L,ce.to)-1:Math.max(P,ce.from)).right,Be=Re<w?w-Re+1e9:Re-w;(!q||Z>Be)&&(q=ce,Z=Be)}}return q||(q=v[v.length-1]),q.from<P&&(q={from:P,to:q.to,level:q.level}),q.to>L&&(q={from:q.from,to:L,level:q.level}),q}var Ja;function zs(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(Ja==null){Ja=W("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)Ja.appendChild(document.createTextNode("x")),Ja.appendChild(W("br"));Ja.appendChild(document.createTextNode("x"))}R(a.measure,Ja);var p=Ja.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),U(a.measure),p||1}function Bs(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var u=W("span","xxxxxxxxxx"),p=W("pre",[u],"CodeMirror-line-like");R(a.measure,p);var d=u.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(a.cachedCharWidth=v),v||10}function Rh(a){for(var u=a.display,p={},d={},v=u.gutters.clientLeft,w=u.gutters.firstChild,b=0;w;w=w.nextSibling,++b){var O=a.display.gutterSpecs[b].className;p[O]=w.offsetLeft+w.clientLeft+v,d[O]=w.clientWidth}return{fixedPos:jh(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:u.wrapper.clientWidth}}function jh(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function _0(a){var u=zs(a.display),p=a.options.lineWrapping,d=p&&Math.max(5,a.display.scroller.clientWidth/Bs(a.display)-3);return function(v){if(Sn(a.doc,v))return 0;var w=0;if(v.widgets)for(var b=0;b<v.widgets.length;b++)v.widgets[b].height&&(w+=v.widgets[b].height);return p?w+(Math.ceil(v.text.length/d)||1)*u:w+u}}function Ih(a){var u=a.doc,p=_0(a);u.iter(function(d){var v=p(d);v!=d.height&&zr(d,v)})}function Za(a,u,p,d){var v=a.display;if(!p&&ee(u).getAttribute("cm-not-content")=="true")return null;var w,b,O=v.lineSpace.getBoundingClientRect();try{w=u.clientX-O.left,b=u.clientY-O.top}catch{return null}var P=Nh(a,w,b),L;if(d&&P.xRel>0&&(L=it(a.doc,P.line).text).length==P.ch){var q=ze(L,L.length,a.options.tabSize)-L.length;P=je(P.line,Math.max(0,Math.round((w-gf(a.display).left)/Bs(a.display))-q))}return P}function Qa(a,u){if(u>=a.display.viewTo||(u-=a.display.viewFrom,u<0))return null;for(var p=a.display.view,d=0;d<p.length;d++)if(u-=p[d].size,u<0)return d}function On(a,u,p,d){u==null&&(u=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),d||(d=0);var v=a.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>u)&&(v.updateLineNumbers=u),a.curOp.viewChanged=!0,u>=v.viewTo)Nr&&Po(a.doc,u)<v.viewTo&&sa(a);else if(p<=v.viewFrom)Nr&&Cn(a.doc,p+d)>v.viewFrom?sa(a):(v.viewFrom+=d,v.viewTo+=d);else if(u<=v.viewFrom&&p>=v.viewTo)sa(a);else if(u<=v.viewFrom){var w=_f(a,p,p+d,1);w?(v.view=v.view.slice(w.index),v.viewFrom=w.lineN,v.viewTo+=d):sa(a)}else if(p>=v.viewTo){var b=_f(a,u,u,-1);b?(v.view=v.view.slice(0,b.index),v.viewTo=b.lineN):sa(a)}else{var O=_f(a,u,u,-1),P=_f(a,p,p+d,1);O&&P?(v.view=v.view.slice(0,O.index).concat(Vs(a,O.lineN,P.lineN)).concat(v.view.slice(P.index)),v.viewTo+=d):sa(a)}var L=v.externalMeasured;L&&(p<L.lineN?L.lineN+=d:u<L.lineN+L.size&&(v.externalMeasured=null))}function aa(a,u,p){a.curOp.viewChanged=!0;var d=a.display,v=a.display.externalMeasured;if(v&&u>=v.lineN&&u<v.lineN+v.size&&(d.externalMeasured=null),!(u<d.viewFrom||u>=d.viewTo)){var w=d.view[Qa(a,u)];if(w.node!=null){var b=w.changes||(w.changes=[]);Ce(b,p)==-1&&b.push(p)}}}function sa(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function _f(a,u,p,d){var v=Qa(a,u),w,b=a.display.view;if(!Nr||p==a.doc.first+a.doc.size)return{index:v,lineN:p};for(var O=a.display.viewFrom,P=0;P<v;P++)O+=b[P].size;if(O!=u){if(d>0){if(v==b.length-1)return null;w=O+b[v].size-u,v++}else w=O-u;u+=w,p+=w}for(;Po(a.doc,p)!=p;){if(v==(d<0?0:b.length-1))return null;p+=d*b[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function wE(a,u,p){var d=a.display,v=d.view;v.length==0||u>=d.viewTo||p<=d.viewFrom?(d.view=Vs(a,u,p),d.viewFrom=u):(d.viewFrom>u?d.view=Vs(a,u,d.viewFrom).concat(d.view):d.viewFrom<u&&(d.view=d.view.slice(Qa(a,u))),d.viewFrom=u,d.viewTo<p?d.view=d.view.concat(Vs(a,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Qa(a,p)))),d.viewTo=p}function b0(a){for(var u=a.display.view,p=0,d=0;d<u.length;d++){var v=u[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function cu(a){a.display.input.showSelection(a.display.input.prepareSelection())}function x0(a,u){u===void 0&&(u=!0);for(var p=a.doc,d={},v=d.cursors=document.createDocumentFragment(),w=d.selection=document.createDocumentFragment(),b=0;b<p.sel.ranges.length;b++)if(!(!u&&b==p.sel.primIndex)){var O=p.sel.ranges[b];if(!(O.from().line>=a.display.viewTo||O.to().line<a.display.viewFrom)){var P=O.empty();(P||a.options.showCursorWhenSelecting)&&C0(a,O.head,v),P||_E(a,O,w)}}return d}function C0(a,u,p){var d=$o(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),v=p.appendChild(W("div","","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var w=wf(a,u,"div",null,null);w.right-w.left>0&&(v.style.width=w.right-w.left+"px")}if(d.other){var b=p.appendChild(W("div","","CodeMirror-cursor CodeMirror-secondarycursor"));b.style.display="",b.style.left=d.other.left+"px",b.style.top=d.other.top+"px",b.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function bf(a,u){return a.top-u.top||a.left-u.left}function _E(a,u,p){var d=a.display,v=a.doc,w=document.createDocumentFragment(),b=gf(a.display),O=b.left,P=Math.max(d.sizerWidth,Oi(a)-d.sizer.offsetLeft)-b.right,L=v.direction=="ltr";function q(Qe,at,gt,pt){at<0&&(at=0),at=Math.round(at),pt=Math.round(pt),w.appendChild(W("div",null,"CodeMirror-selected","position: absolute; left: "+Qe+`px;
                             top: `+at+"px; width: "+(gt??P-Qe)+`px;
                             height: `+(pt-at)+"px"))}function Z(Qe,at,gt){var pt=it(v,Qe),Tt=pt.text.length,Xt,$r;function dr(Pr,Pn){return wf(a,je(Qe,Pr),"div",pt,Pn)}function Kn(Pr,Pn,Xr){var jr=w0(a,pt,null,Pr),kr=Pn=="ltr"==(Xr=="after")?"left":"right",gr=Xr=="after"?jr.begin:jr.end-(/\s/.test(pt.text.charAt(jr.end-1))?2:1);return dr(gr,kr)[kr]}var Tn=I(pt,v.direction);return xt(Tn,at||0,gt??Tt,function(Pr,Pn,Xr,jr){var kr=Xr=="ltr",gr=dr(Pr,kr?"left":"right"),kn=dr(Pn-1,kr?"right":"left"),tl=at==null&&Pr==0,pa=gt==null&&Pn==Tt,rn=jr==0,si=!Tn||jr==Tn.length-1;if(kn.top-gr.top<=3){var Kr=(L?tl:pa)&&rn,uv=(L?pa:tl)&&si,Ti=Kr?O:(kr?gr:kn).left,os=uv?P:(kr?kn:gr).right;q(Ti,gr.top,os-Ti,gr.bottom)}else{var is,dn,rl,cv;kr?(is=L&&tl&&rn?O:gr.left,dn=L?P:Kn(Pr,Xr,"before"),rl=L?O:Kn(Pn,Xr,"after"),cv=L&&pa&&si?P:kn.right):(is=L?Kn(Pr,Xr,"before"):O,dn=!L&&tl&&rn?P:gr.right,rl=!L&&pa&&si?O:kn.left,cv=L?Kn(Pn,Xr,"after"):P),q(is,gr.top,dn-is,gr.bottom),gr.bottom<kn.top&&q(O,gr.bottom,null,kn.top),q(rl,kn.top,cv-rl,kn.bottom)}(!Xt||bf(gr,Xt)<0)&&(Xt=gr),bf(kn,Xt)<0&&(Xt=kn),(!$r||bf(gr,$r)<0)&&($r=gr),bf(kn,$r)<0&&($r=kn)}),{start:Xt,end:$r}}var ge=u.from(),ce=u.to();if(ge.line==ce.line)Z(ge.line,ge.ch,ce.ch);else{var Se=it(v,ge.line),Re=it(v,ce.line),Be=ir(Se)==ir(Re),Ze=Z(ge.line,ge.ch,Be?Se.text.length+1:null).end,ot=Z(ce.line,Be?0:null,ce.ch).start;Be&&(Ze.top<ot.top-2?(q(Ze.right,Ze.top,null,Ze.bottom),q(O,ot.top,ot.left,ot.bottom)):q(Ze.right,Ze.top,ot.left-Ze.right,Ze.bottom)),Ze.bottom<ot.top&&q(O,Ze.bottom,null,ot.top)}p.appendChild(w)}function Fh(a){if(a.state.focused){var u=a.display;clearInterval(u.blinker);var p=!0;u.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?u.blinker=setInterval(function(){a.hasFocus()||Hs(a),u.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function S0(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Uh(a))}function Vh(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Hs(a))},100)}function Uh(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(tt(a,"focus",a,u),a.state.focused=!0,oe(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),f&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Fh(a))}function Hs(a,u){a.state.delayingBlurEvent||(a.state.focused&&(tt(a,"blur",a,u),a.state.focused=!1,te(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function xf(a){for(var u=a.display,p=u.lineDiv.offsetTop,d=Math.max(0,u.scroller.getBoundingClientRect().top),v=u.lineDiv.getBoundingClientRect().top,w=0,b=0;b<u.view.length;b++){var O=u.view[b],P=a.options.lineWrapping,L=void 0,q=0;if(!O.hidden){if(v+=O.line.height,l&&c<8){var Z=O.node.offsetTop+O.node.offsetHeight;L=Z-p,p=Z}else{var ge=O.node.getBoundingClientRect();L=ge.bottom-ge.top,!P&&O.text.firstChild&&(q=O.text.firstChild.getBoundingClientRect().right-ge.left-1)}var ce=O.line.height-L;if((ce>.005||ce<-.005)&&(v<d&&(w-=ce),zr(O.line,L),O0(O.line),O.rest))for(var Se=0;Se<O.rest.length;Se++)O0(O.rest[Se]);if(q>a.display.sizerWidth){var Re=Math.ceil(q/Bs(a.display));Re>a.display.maxLineLength&&(a.display.maxLineLength=Re,a.display.maxLine=O.line,a.display.maxLineChanged=!0)}}}Math.abs(w)>2&&(u.scroller.scrollTop+=w)}function O0(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var p=a.widgets[u],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function Cf(a,u,p){var d=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;d=Math.floor(d-ia(a));var v=p&&p.bottom!=null?p.bottom:d+a.wrapper.clientHeight,w=qt(u,d),b=qt(u,v);if(p&&p.ensure){var O=p.ensure.from.line,P=p.ensure.to.line;O<w?(w=O,b=qt(u,ko(it(u,O))+a.wrapper.clientHeight)):Math.min(P,u.lastLine())>=b&&(w=qt(u,ko(it(u,P))-a.wrapper.clientHeight),b=P)}return{from:w,to:Math.max(b,w+1)}}function bE(a,u){if(!qe(a,"scrollCursorIntoView")){var p=a.display,d=p.sizer.getBoundingClientRect(),v=null;if(u.top+d.top<0?v=!0:u.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(v=!1),v!=null&&!x){var w=W("div","",null,`position: absolute;
                         top: `+(u.top-p.viewOffset-ia(a.display))+`px;
                         height: `+(u.bottom-u.top+Wn(a)+p.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");a.display.lineSpace.appendChild(w),w.scrollIntoView(v),a.display.lineSpace.removeChild(w)}}}function xE(a,u,p,d){d==null&&(d=0);var v;!a.options.lineWrapping&&u==p&&(p=u.sticky=="before"?je(u.line,u.ch+1,"before"):u,u=u.ch?je(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var w=0;w<5;w++){var b=!1,O=$o(a,u),P=!p||p==u?O:$o(a,p);v={left:Math.min(O.left,P.left),top:Math.min(O.top,P.top)-d,right:Math.max(O.left,P.left),bottom:Math.max(O.bottom,P.bottom)+d};var L=zh(a,v),q=a.doc.scrollTop,Z=a.doc.scrollLeft;if(L.scrollTop!=null&&(du(a,L.scrollTop),Math.abs(a.doc.scrollTop-q)>1&&(b=!0)),L.scrollLeft!=null&&(es(a,L.scrollLeft),Math.abs(a.doc.scrollLeft-Z)>1&&(b=!0)),!b)break}return v}function CE(a,u){var p=zh(a,u);p.scrollTop!=null&&du(a,p.scrollTop),p.scrollLeft!=null&&es(a,p.scrollLeft)}function zh(a,u){var p=a.display,d=zs(a.display);u.top<0&&(u.top=0);var v=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,w=k(a),b={};u.bottom-u.top>w&&(u.bottom=u.top+w);var O=a.doc.height+Xa(p),P=u.top<d,L=u.bottom>O-d;if(u.top<v)b.scrollTop=P?0:u.top;else if(u.bottom>v+w){var q=Math.min(u.top,(L?O:u.bottom)-w);q!=v&&(b.scrollTop=q)}var Z=a.options.fixedGutter?0:p.gutters.offsetWidth,ge=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-Z,ce=Oi(a)-p.gutters.offsetWidth,Se=u.right-u.left>ce;return Se&&(u.right=u.left+ce),u.left<10?b.scrollLeft=0:u.left<ge?b.scrollLeft=Math.max(0,u.left+Z-(Se?0:10)):u.right>ce+ge-3&&(b.scrollLeft=u.right+(Se?0:10)-ce),b}function Bh(a,u){u!=null&&(Sf(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+u)}function Ws(a){Sf(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function fu(a,u,p){(u!=null||p!=null)&&Sf(a),u!=null&&(a.curOp.scrollLeft=u),p!=null&&(a.curOp.scrollTop=p)}function SE(a,u){Sf(a),a.curOp.scrollToPos=u}function Sf(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var p=m0(a,u.from),d=m0(a,u.to);E0(a,p,d,u.margin)}}function E0(a,u,p,d){var v=zh(a,{left:Math.min(u.left,p.left),top:Math.min(u.top,p.top)-d,right:Math.max(u.right,p.right),bottom:Math.max(u.bottom,p.bottom)+d});fu(a,v.scrollLeft,v.scrollTop)}function du(a,u){Math.abs(a.doc.scrollTop-u)<2||(t||Wh(a,{top:u}),T0(a,u,!0),t&&Wh(a),vu(a,100))}function T0(a,u,p){u=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u)),!(a.display.scroller.scrollTop==u&&!p)&&(a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u))}function es(a,u,p,d){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?u==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-u)<2)&&!d)&&(a.doc.scrollLeft=u,M0(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}function pu(a){var u=a.display,p=u.gutters.offsetWidth,d=Math.round(a.doc.height+Xa(a.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Wn(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:p}}var ts=function(a,u,p){this.cm=p;var d=this.vert=W("div",[W("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=W("div",[W("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,a(d),a(v),ye(d,"scroll",function(){d.clientHeight&&u(d.scrollTop,"vertical")}),ye(v,"scroll",function(){v.clientWidth&&u(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&c<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ts.prototype.update=function(a){var u=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=u?d+"px":"0";var v=a.viewHeight-(u?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+v)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var w=a.viewWidth-a.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+w)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:u?d:0}},ts.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ts.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ts.prototype.zeroWidthHack=function(){var a=E&&!_?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Pe,this.disableVert=new Pe},ts.prototype.enableZeroWidthBar=function(a,u,p){a.style.pointerEvents="auto";function d(){var v=a.getBoundingClientRect(),w=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);w!=a?a.style.pointerEvents="none":u.set(1e3,d)}u.set(1e3,d)},ts.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var hu=function(){};hu.prototype.update=function(){return{bottom:0,right:0}},hu.prototype.setScrollLeft=function(){},hu.prototype.setScrollTop=function(){},hu.prototype.clear=function(){};function $s(a,u){u||(u=pu(a));var p=a.display.barWidth,d=a.display.barHeight;P0(a,u);for(var v=0;v<4&&p!=a.display.barWidth||d!=a.display.barHeight;v++)p!=a.display.barWidth&&a.options.lineWrapping&&xf(a),P0(a,pu(a)),p=a.display.barWidth,d=a.display.barHeight}function P0(a,u){var p=a.display,d=p.scrollbars.update(u);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=u.gutterWidth+"px"):p.gutterFiller.style.display=""}var k0={native:ts,null:hu};function A0(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&te(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new k0[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,a.display.scrollbarFiller),ye(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,p){p=="horizontal"?es(a,u):du(a,u)},a),a.display.scrollbars.addClass&&oe(a.display.wrapper,a.display.scrollbars.addClass)}var OE=0;function rs(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++OE,markArrays:null},ff(a.curOp)}function ns(a){var u=a.curOp;u&&ou(u,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;EE(p)})}function EE(a){for(var u=a.ops,p=0;p<u.length;p++)TE(u[p]);for(var d=0;d<u.length;d++)PE(u[d]);for(var v=0;v<u.length;v++)kE(u[v]);for(var w=0;w<u.length;w++)AE(u[w]);for(var b=0;b<u.length;b++)LE(u[b])}function TE(a){var u=a.cm,p=u.display;NE(u),a.updateMaxLine&&Zi(u),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&u.options.lineWrapping,a.update=a.mustUpdate&&new Of(u,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function PE(a){a.updatedDisplay=a.mustUpdate&&Hh(a.cm,a.update)}function kE(a){var u=a.cm,p=u.display;a.updatedDisplay&&xf(u),a.barMeasure=pu(u),p.maxLineChanged&&!u.options.lineWrapping&&(a.adjustWidthTo=me(u,p.maxLine,p.maxLine.text.length).left+3,u.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Wn(u)+u.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-Oi(u))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function AE(a){var u=a.cm;a.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<u.doc.scrollLeft&&es(u,Math.min(u.display.scroller.scrollLeft,a.maxScrollLeft),!0),u.display.maxLineChanged=!1);var p=a.focus&&a.focus==we();a.preparedSelection&&u.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=u.doc.height)&&$s(u,a.barMeasure),a.updatedDisplay&&Kh(u,a.barMeasure),a.selectionChanged&&Fh(u),u.state.focused&&a.updateInput&&u.display.input.reset(a.typing),p&&S0(a.cm)}function LE(a){var u=a.cm,p=u.display,d=u.doc;if(a.updatedDisplay&&L0(u,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&T0(u,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&es(u,a.scrollLeft,!0,!0),a.scrollToPos){var v=xE(u,Ue(d,a.scrollToPos.from),Ue(d,a.scrollToPos.to),a.scrollToPos.margin);bE(u,v)}var w=a.maybeHiddenMarkers,b=a.maybeUnhiddenMarkers;if(w)for(var O=0;O<w.length;++O)w[O].lines.length||tt(w[O],"hide");if(b)for(var P=0;P<b.length;++P)b[P].lines.length&&tt(b[P],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=u.display.scroller.scrollTop),a.changeObjs&&tt(u,"changes",u,a.changeObjs),a.update&&a.update.finish()}function $n(a,u){if(a.curOp)return u();rs(a);try{return u()}finally{ns(a)}}function Hr(a,u){return function(){if(a.curOp)return u.apply(a,arguments);rs(a);try{return u.apply(a,arguments)}finally{ns(a)}}}function fn(a){return function(){if(this.curOp)return a.apply(this,arguments);rs(this);try{return a.apply(this,arguments)}finally{ns(this)}}}function Wr(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);rs(u);try{return a.apply(this,arguments)}finally{ns(u)}}}function vu(a,u){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(u,se(ME,a))}function ME(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,d=gi(a,u.highlightFrontier),v=[];u.iter(d.line,Math.min(u.first+u.size,a.display.viewTo+500),function(w){if(d.line>=a.display.viewFrom){var b=w.styles,O=w.text.length>a.options.maxHighlightLength?Sr(u.mode,d.state):null,P=Bn(a,w,d,!0);O&&(d.state=O),w.styles=P.styles;var L=w.styleClasses,q=P.classes;q?w.styleClasses=q:L&&(w.styleClasses=null);for(var Z=!b||b.length!=w.styles.length||L!=q&&(!L||!q||L.bgClass!=q.bgClass||L.textClass!=q.textClass),ge=0;!Z&&ge<b.length;++ge)Z=b[ge]!=w.styles[ge];Z&&v.push(d.line),w.stateAfter=d.save(),d.nextLine()}else w.text.length<=a.options.maxHighlightLength&&mi(a,w.text,d),w.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return vu(a,a.options.workDelay),!0}),u.highlightFrontier=d.line,u.modeFrontier=Math.max(u.modeFrontier,d.line),v.length&&$n(a,function(){for(var w=0;w<v.length;w++)aa(a,v[w],"text")})}}var Of=function(a,u,p){var d=a.display;this.viewport=u,this.visible=Cf(d,a.doc,u),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Oi(a),this.force=p,this.dims=Rh(a),this.events=[]};Of.prototype.signal=function(a,u){Et(a,u)&&this.events.push(arguments)},Of.prototype.finish=function(){for(var a=0;a<this.events.length;a++)tt.apply(null,this.events[a])};function NE(a){var u=a.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Wn(a)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Wn(a)+"px",u.scrollbarsClipped=!0)}function DE(a){if(a.hasFocus())return null;var u=we();if(!u||!M(a.display.lineDiv,u))return null;var p={activeElt:u};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&M(a.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function RE(a){if(!(!a||!a.activeElt||a.activeElt==we())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&M(document.body,a.anchorNode)&&M(document.body,a.focusNode))){var u=window.getSelection(),p=document.createRange();p.setEnd(a.anchorNode,a.anchorOffset),p.collapse(!1),u.removeAllRanges(),u.addRange(p),u.extend(a.focusNode,a.focusOffset)}}function Hh(a,u){var p=a.display,d=a.doc;if(u.editorIsHidden)return sa(a),!1;if(!u.force&&u.visible.from>=p.viewFrom&&u.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&b0(a)==0)return!1;N0(a)&&(sa(a),u.dims=Rh(a));var v=d.first+d.size,w=Math.max(u.visible.from-a.options.viewportMargin,d.first),b=Math.min(v,u.visible.to+a.options.viewportMargin);p.viewFrom<w&&w-p.viewFrom<20&&(w=Math.max(d.first,p.viewFrom)),p.viewTo>b&&p.viewTo-b<20&&(b=Math.min(v,p.viewTo)),Nr&&(w=Po(a.doc,w),b=Cn(a.doc,b));var O=w!=p.viewFrom||b!=p.viewTo||p.lastWrapHeight!=u.wrapperHeight||p.lastWrapWidth!=u.wrapperWidth;wE(a,w,b),p.viewOffset=ko(it(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var P=b0(a);if(!O&&P==0&&!u.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var L=DE(a);return P>4&&(p.lineDiv.style.display="none"),jE(a,p.updateLineNumbers,u.dims),P>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,RE(L),U(p.cursorDiv),U(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,O&&(p.lastWrapHeight=u.wrapperHeight,p.lastWrapWidth=u.wrapperWidth,vu(a,400)),p.updateLineNumbers=null,!0}function L0(a,u){for(var p=u.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||u.oldDisplayWidth==Oi(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+Xa(a.display)-k(a),p.top)}),u.visible=Cf(a.display,a.doc,p),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break}else d&&(u.visible=Cf(a.display,a.doc,p));if(!Hh(a,u))break;xf(a);var v=pu(a);cu(a),$s(a,v),Kh(a,v),u.force=!1}u.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Wh(a,u){var p=new Of(a,u);if(Hh(a,p)){xf(a),L0(a,p);var d=pu(a);cu(a),$s(a,d),Kh(a,d),p.finish()}}function jE(a,u,p){var d=a.display,v=a.options.lineNumbers,w=d.lineDiv,b=w.firstChild;function O(Se){var Re=Se.nextSibling;return f&&E&&a.display.currentWheelTarget==Se?Se.style.display="none":Se.parentNode.removeChild(Se),Re}for(var P=d.view,L=d.viewFrom,q=0;q<P.length;q++){var Z=P[q];if(!Z.hidden)if(!Z.node||Z.node.parentNode!=w){var ge=hf(a,Z,L,p);w.insertBefore(ge,b)}else{for(;b!=Z.node;)b=O(b);var ce=v&&u!=null&&u<=L&&Z.lineNumber;Z.changes&&(Ce(Z.changes,"gutter")>-1&&(ce=!1),ai(a,Z,L,p)),ce&&(U(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(ao(a.options,L)))),b=Z.node.nextSibling}L+=Z.size}for(;b;)b=O(b)}function $h(a){var u=a.gutters.offsetWidth;a.sizer.style.marginLeft=u+"px",vr(a,"gutterChanged",a)}function Kh(a,u){a.display.sizer.style.minHeight=u.docHeight+"px",a.display.heightForcer.style.top=u.docHeight+"px",a.display.gutters.style.height=u.docHeight+a.display.barHeight+Wn(a)+"px"}function M0(a){var u=a.display,p=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!a.options.fixedGutter))){for(var d=jh(u)-u.scroller.scrollLeft+a.doc.scrollLeft,v=u.gutters.offsetWidth,w=d+"px",b=0;b<p.length;b++)if(!p[b].hidden){a.options.fixedGutter&&(p[b].gutter&&(p[b].gutter.style.left=w),p[b].gutterBackground&&(p[b].gutterBackground.style.left=w));var O=p[b].alignable;if(O)for(var P=0;P<O.length;P++)O[P].style.left=w}a.options.fixedGutter&&(u.gutters.style.left=d+v+"px")}}function N0(a){if(!a.options.lineNumbers)return!1;var u=a.doc,p=ao(a.options,u.first+u.size-1),d=a.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(W("div",[W("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),w=v.firstChild.offsetWidth,b=v.offsetWidth-w;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(w,d.lineGutter.offsetWidth-b)+1,d.lineNumWidth=d.lineNumInnerWidth+b,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",$h(a.display),!0}return!1}function Gh(a,u){for(var p=[],d=!1,v=0;v<a.length;v++){var w=a[v],b=null;if(typeof w!="string"&&(b=w.style,w=w.className),w=="CodeMirror-linenumbers")if(u)d=!0;else continue;p.push({className:w,style:b})}return u&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function D0(a){var u=a.gutters,p=a.gutterSpecs;U(u),a.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],w=v.className,b=v.style,O=u.appendChild(W("div",null,"CodeMirror-gutter "+w));b&&(O.style.cssText=b),w=="CodeMirror-linenumbers"&&(a.lineGutter=O,O.style.width=(a.lineNumWidth||1)+"px")}u.style.display=p.length?"":"none",$h(a)}function gu(a){D0(a.display),On(a),M0(a)}function IE(a,u,p,d){var v=this;this.input=p,v.scrollbarFiller=W("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=W("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=H("div",null,"CodeMirror-code"),v.selectionDiv=W("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=W("div",null,"CodeMirror-cursors"),v.measure=W("div",null,"CodeMirror-measure"),v.lineMeasure=W("div",null,"CodeMirror-measure"),v.lineSpace=H("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var w=H("div",[v.lineSpace],"CodeMirror-lines");v.mover=W("div",[w],null,"position: relative"),v.sizer=W("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=W("div",null,null,"position: absolute; height: "+le+"px; width: 1px;"),v.gutters=W("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=W("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=W("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),v.wrapper.setAttribute("translate","no"),l&&c<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!f&&!(t&&T)&&(v.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(v.wrapper):a(v.wrapper)),v.viewFrom=v.viewTo=u.first,v.reportedViewFrom=v.reportedViewTo=u.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Gh(d.gutters,d.lineNumbers),D0(v),p.init(v)}var Ef=0,po=null;l?po=-.53:t?po=15:g?po=-.7:y&&(po=-1/3);function R0(a){var u=a.wheelDeltaX,p=a.wheelDeltaY;return u==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:u,y:p}}function FE(a){var u=R0(a);return u.x*=po,u.y*=po,u}function j0(a,u){var p=R0(u),d=p.x,v=p.y,w=a.display,b=w.scroller,O=b.scrollWidth>b.clientWidth,P=b.scrollHeight>b.clientHeight;if(d&&O||v&&P){if(v&&E&&f){e:for(var L=u.target,q=w.view;L!=b;L=L.parentNode)for(var Z=0;Z<q.length;Z++)if(q[Z].node==L){a.display.currentWheelTarget=L;break e}}if(d&&!t&&!m&&po!=null){v&&P&&du(a,Math.max(0,b.scrollTop+v*po)),es(a,Math.max(0,b.scrollLeft+d*po)),(!v||v&&P)&&kt(u),w.wheelStartX=null;return}if(v&&po!=null){var ge=v*po,ce=a.doc.scrollTop,Se=ce+w.wrapper.clientHeight;ge<0?ce=Math.max(0,ce+ge-50):Se=Math.min(a.doc.height,Se+ge+50),Wh(a,{top:ce,bottom:Se})}Ef<20&&(w.wheelStartX==null?(w.wheelStartX=b.scrollLeft,w.wheelStartY=b.scrollTop,w.wheelDX=d,w.wheelDY=v,setTimeout(function(){if(w.wheelStartX!=null){var Re=b.scrollLeft-w.wheelStartX,Be=b.scrollTop-w.wheelStartY,Ze=Be&&w.wheelDY&&Be/w.wheelDY||Re&&w.wheelDX&&Re/w.wheelDX;w.wheelStartX=w.wheelStartY=null,Ze&&(po=(po*Ef+Ze)/(Ef+1),++Ef)}},200)):(w.wheelDX+=d,w.wheelDY+=v))}}var ho=function(a,u){this.ranges=a,this.primIndex=u};ho.prototype.primary=function(){return this.ranges[this.primIndex]},ho.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var p=this.ranges[u],d=a.ranges[u];if(!so(p.anchor,d.anchor)||!so(p.head,d.head))return!1}return!0},ho.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new Ht(j(this.ranges[u].anchor),j(this.ranges[u].head));return new ho(a,this.primIndex)},ho.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},ho.prototype.contains=function(a,u){u||(u=a);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(vt(u,d.from())>=0&&vt(a,d.to())<=0)return p}return-1};var Ht=function(a,u){this.anchor=a,this.head=u};Ht.prototype.from=function(){return Oe(this.anchor,this.head)},Ht.prototype.to=function(){return X(this.anchor,this.head)},Ht.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ko(a,u,p){var d=a&&a.options.selectionsMayTouch,v=u[p];u.sort(function(ge,ce){return vt(ge.from(),ce.from())}),p=Ce(u,v);for(var w=1;w<u.length;w++){var b=u[w],O=u[w-1],P=vt(O.to(),b.from());if(d&&!b.empty()?P>0:P>=0){var L=Oe(O.from(),b.from()),q=X(O.to(),b.to()),Z=O.empty()?b.from()==b.head:O.from()==O.head;w<=p&&--p,u.splice(--w,2,new Ht(Z?q:L,Z?L:q))}}return new ho(u,p)}function la(a,u){return new ho([new Ht(a,u||a)],0)}function ua(a){return a.text?je(a.from.line+a.text.length-1,ht(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function I0(a,u){if(vt(a,u.from)<0)return a;if(vt(a,u.to)<=0)return ua(u);var p=a.line+u.text.length-(u.to.line-u.from.line)-1,d=a.ch;return a.line==u.to.line&&(d+=ua(u).ch-u.to.ch),je(p,d)}function qh(a,u){for(var p=[],d=0;d<a.sel.ranges.length;d++){var v=a.sel.ranges[d];p.push(new Ht(I0(v.anchor,u),I0(v.head,u)))}return Ko(a.cm,p,a.sel.primIndex)}function F0(a,u,p){return a.line==u.line?je(p.line,a.ch-u.ch+p.ch):je(p.line+(a.line-u.line),a.ch)}function VE(a,u,p){for(var d=[],v=je(a.first,0),w=v,b=0;b<u.length;b++){var O=u[b],P=F0(O.from,v,w),L=F0(ua(O),v,w);if(v=O.to,w=L,p=="around"){var q=a.sel.ranges[b],Z=vt(q.head,q.anchor)<0;d[b]=new Ht(Z?L:P,Z?P:L)}else d[b]=new Ht(P,P)}return new ho(d,a.sel.primIndex)}function Yh(a){a.doc.mode=mt(a.options,a.doc.modeOption),mu(a)}function mu(a){a.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,vu(a,100),a.state.modeGen++,a.curOp&&On(a)}function V0(a,u){return u.from.ch==0&&u.to.ch==0&&ht(u.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Xh(a,u,p,d){function v(ot){return p?p[ot]:null}function w(ot,Qe,at){of(ot,Qe,at,d),vr(ot,"change",ot,u)}function b(ot,Qe){for(var at=[],gt=ot;gt<Qe;++gt)at.push(new Br(L[gt],v(gt),d));return at}var O=u.from,P=u.to,L=u.text,q=it(a,O.line),Z=it(a,P.line),ge=ht(L),ce=v(L.length-1),Se=P.line-O.line;if(u.full)a.insert(0,b(0,L.length)),a.remove(L.length,a.size-L.length);else if(V0(a,u)){var Re=b(0,L.length-1);w(Z,Z.text,ce),Se&&a.remove(O.line,Se),Re.length&&a.insert(O.line,Re)}else if(q==Z)if(L.length==1)w(q,q.text.slice(0,O.ch)+ge+q.text.slice(P.ch),ce);else{var Be=b(1,L.length-1);Be.push(new Br(ge+q.text.slice(P.ch),ce,d)),w(q,q.text.slice(0,O.ch)+L[0],v(0)),a.insert(O.line+1,Be)}else if(L.length==1)w(q,q.text.slice(0,O.ch)+L[0]+Z.text.slice(P.ch),v(0)),a.remove(O.line+1,Se);else{w(q,q.text.slice(0,O.ch)+L[0],v(0)),w(Z,ge+Z.text.slice(P.ch),ce);var Ze=b(1,L.length-1);Se>1&&a.remove(O.line+1,Se-1),a.insert(O.line+1,Ze)}vr(a,"change",a,u)}function ca(a,u,p){function d(v,w,b){if(v.linked)for(var O=0;O<v.linked.length;++O){var P=v.linked[O];if(P.doc!=w){var L=b&&P.sharedHist;p&&!L||(u(P.doc,L),d(P.doc,v,L))}}}d(a,null,!0)}function U0(a,u){if(u.cm)throw new Error("This document is already in use.");a.doc=u,u.cm=a,Ih(a),Yh(a),z0(a),a.options.direction=u.direction,a.options.lineWrapping||Zi(a),a.options.mode=u.modeOption,On(a)}function z0(a){(a.doc.direction=="rtl"?oe:te)(a.display.lineDiv,"CodeMirror-rtl")}function UE(a){$n(a,function(){z0(a),On(a)})}function Tf(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Jh(a,u){var p={from:j(u.from),to:ua(u),text:Ur(a,u.from,u.to)};return W0(a,p,u.from.line,u.to.line+1),ca(a,function(d){return W0(d,p,u.from.line,u.to.line+1)},!0),p}function B0(a){for(;a.length;){var u=ht(a);if(u.ranges)a.pop();else break}}function zE(a,u){if(u)return B0(a.done),ht(a.done);if(a.done.length&&!ht(a.done).ranges)return ht(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),ht(a.done)}function H0(a,u,p,d){var v=a.history;v.undone.length=0;var w=+new Date,b,O;if((v.lastOp==d||v.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&v.lastModTime>w-(a.cm?a.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(b=zE(v,v.lastOp==d)))O=ht(b.changes),vt(u.from,u.to)==0&&vt(u.from,O.to)==0?O.to=ua(u):b.changes.push(Jh(a,u));else{var P=ht(v.done);for((!P||!P.ranges)&&Pf(a.sel,v.done),b={changes:[Jh(a,u)],generation:v.generation},v.done.push(b);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=w,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=u.origin,O||tt(a,"historyAdded")}function BE(a,u,p,d){var v=u.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function HE(a,u,p,d){var v=a.history,w=d&&d.origin;p==v.lastSelOp||w&&v.lastSelOrigin==w&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==w||BE(a,w,ht(v.done),u))?v.done[v.done.length-1]=u:Pf(u,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=w,v.lastSelOp=p,d&&d.clearRedo!==!1&&B0(v.undone)}function Pf(a,u){var p=ht(u);p&&p.ranges&&p.equals(a)||u.push(a)}function W0(a,u,p,d){var v=u["spans_"+a.id],w=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,d),function(b){b.markedSpans&&((v||(v=u["spans_"+a.id]={}))[w]=b.markedSpans),++w})}function WE(a){if(!a)return null;for(var u,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?u||(u=a.slice(0,p)):u&&u.push(a[p]);return u?u.length?u:null:a}function $E(a,u){var p=u["spans_"+a.id];if(!p)return null;for(var d=[],v=0;v<u.text.length;++v)d.push(WE(p[v]));return d}function $0(a,u){var p=$E(a,u),d=_i(a,u);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var w=p[v],b=d[v];if(w&&b)e:for(var O=0;O<b.length;++O){for(var P=b[O],L=0;L<w.length;++L)if(w[L].marker==P.marker)continue e;w.push(P)}else b&&(p[v]=b)}return p}function Ks(a,u,p){for(var d=[],v=0;v<a.length;++v){var w=a[v];if(w.ranges){d.push(p?ho.prototype.deepCopy.call(w):w);continue}var b=w.changes,O=[];d.push({changes:O});for(var P=0;P<b.length;++P){var L=b[P],q=void 0;if(O.push({from:L.from,to:L.to,text:L.text}),u)for(var Z in L)(q=Z.match(/^spans_(\d+)$/))&&Ce(u,Number(q[1]))>-1&&(ht(O)[Z]=L[Z],delete L[Z])}}return d}function Zh(a,u,p,d){if(d){var v=a.anchor;if(p){var w=vt(u,v)<0;w!=vt(p,v)<0?(v=u,u=p):w!=vt(u,p)<0&&(u=p)}return new Ht(v,u)}else return new Ht(p||u,u)}function kf(a,u,p,d,v){v==null&&(v=a.cm&&(a.cm.display.shift||a.extend)),tn(a,new ho([Zh(a.sel.primary(),u,p,v)],0),d)}function K0(a,u,p){for(var d=[],v=a.cm&&(a.cm.display.shift||a.extend),w=0;w<a.sel.ranges.length;w++)d[w]=Zh(a.sel.ranges[w],u[w],null,v);var b=Ko(a.cm,d,a.sel.primIndex);tn(a,b,p)}function Qh(a,u,p,d){var v=a.sel.ranges.slice(0);v[u]=p,tn(a,Ko(a.cm,v,a.sel.primIndex),d)}function G0(a,u,p,d){tn(a,la(u,p),d)}function KE(a,u,p){var d={ranges:u.ranges,update:function(v){this.ranges=[];for(var w=0;w<v.length;w++)this.ranges[w]=new Ht(Ue(a,v[w].anchor),Ue(a,v[w].head))},origin:p&&p.origin};return tt(a,"beforeSelectionChange",a,d),a.cm&&tt(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=u.ranges?Ko(a.cm,d.ranges,d.ranges.length-1):u}function q0(a,u,p){var d=a.history.done,v=ht(d);v&&v.ranges?(d[d.length-1]=u,Af(a,u,p)):tn(a,u,p)}function tn(a,u,p){Af(a,u,p),HE(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function Af(a,u,p){(Et(a,"beforeSelectionChange")||a.cm&&Et(a.cm,"beforeSelectionChange"))&&(u=KE(a,u,p));var d=p&&p.bias||(vt(u.primary().head,a.sel.primary().head)<0?-1:1);Y0(a,J0(a,u,d,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Ws(a.cm)}function Y0(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,ut(a.cm)),vr(a,"cursorActivity",a))}function X0(a){Y0(a,J0(a,a.sel,null,!1))}function J0(a,u,p,d){for(var v,w=0;w<u.ranges.length;w++){var b=u.ranges[w],O=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[w],P=Lf(a,b.anchor,O&&O.anchor,p,d),L=Lf(a,b.head,O&&O.head,p,d);(v||P!=b.anchor||L!=b.head)&&(v||(v=u.ranges.slice(0,w)),v[w]=new Ht(P,L))}return v?Ko(a.cm,v,u.primIndex):u}function Gs(a,u,p,d,v){var w=it(a,u.line);if(w.markedSpans)for(var b=0;b<w.markedSpans.length;++b){var O=w.markedSpans[b],P=O.marker,L="selectLeft"in P?!P.selectLeft:P.inclusiveLeft,q="selectRight"in P?!P.selectRight:P.inclusiveRight;if((O.from==null||(L?O.from<=u.ch:O.from<u.ch))&&(O.to==null||(q?O.to>=u.ch:O.to>u.ch))){if(v&&(tt(P,"beforeCursorEnter"),P.explicitlyCleared))if(w.markedSpans){--b;continue}else break;if(!P.atomic)continue;if(p){var Z=P.find(d<0?1:-1),ge=void 0;if((d<0?q:L)&&(Z=Z0(a,Z,-d,Z&&Z.line==u.line?w:null)),Z&&Z.line==u.line&&(ge=vt(Z,p))&&(d<0?ge<0:ge>0))return Gs(a,Z,u,d,v)}var ce=P.find(d<0?-1:1);return(d<0?L:q)&&(ce=Z0(a,ce,d,ce.line==u.line?w:null)),ce?Gs(a,ce,u,d,v):null}}return u}function Lf(a,u,p,d,v){var w=d||1,b=Gs(a,u,p,w,v)||!v&&Gs(a,u,p,w,!0)||Gs(a,u,p,-w,v)||!v&&Gs(a,u,p,-w,!0);return b||(a.cantEdit=!0,je(a.first,0))}function Z0(a,u,p,d){return p<0&&u.ch==0?u.line>a.first?Ue(a,je(u.line-1)):null:p>0&&u.ch==(d||it(a,u.line)).text.length?u.line<a.first+a.size-1?je(u.line+1,0):null:new je(u.line,u.ch+p)}function Q0(a){a.setSelection(je(a.firstLine(),0),je(a.lastLine()),Te)}function ew(a,u,p){var d={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,w,b,O){v&&(d.from=Ue(a,v)),w&&(d.to=Ue(a,w)),b&&(d.text=b),O!==void 0&&(d.origin=O)}),tt(a,"beforeChange",a,d),a.cm&&tt(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function qs(a,u,p){if(a.cm){if(!a.cm.curOp)return Hr(a.cm,qs)(a,u,p);if(a.cm.state.suppressEdits)return}if(!((Et(a,"beforeChange")||a.cm&&Et(a.cm,"beforeChange"))&&(u=ew(a,u,!0),!u))){var d=Er&&!p&&fo(a,u.from,u.to);if(d)for(var v=d.length-1;v>=0;--v)tw(a,{from:d[v].from,to:d[v].to,text:v?[""]:u.text,origin:u.origin});else tw(a,u)}}function tw(a,u){if(!(u.text.length==1&&u.text[0]==""&&vt(u.from,u.to)==0)){var p=qh(a,u);H0(a,u,p,a.cm?a.cm.curOp.id:NaN),yu(a,u,p,_i(a,u));var d=[];ca(a,function(v,w){!w&&Ce(d,v.history)==-1&&(iw(v.history,u),d.push(v.history)),yu(v,u,null,_i(v,u))})}}function Mf(a,u,p){var d=a.cm&&a.cm.state.suppressEdits;if(!(d&&!p)){for(var v=a.history,w,b=a.sel,O=u=="undo"?v.done:v.undone,P=u=="undo"?v.undone:v.done,L=0;L<O.length&&(w=O[L],!(p?w.ranges&&!w.equals(a.sel):!w.ranges));L++);if(L!=O.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(w=O.pop(),w.ranges){if(Pf(w,P),p&&!w.equals(a.sel)){tn(a,w,{clearRedo:!1});return}b=w}else if(d){O.push(w);return}else break;var q=[];Pf(b,P),P.push({changes:q,generation:v.generation}),v.generation=w.generation||++v.maxGeneration;for(var Z=Et(a,"beforeChange")||a.cm&&Et(a.cm,"beforeChange"),ge=function(Re){var Be=w.changes[Re];if(Be.origin=u,Z&&!ew(a,Be,!1))return O.length=0,{};q.push(Jh(a,Be));var Ze=Re?qh(a,Be):ht(O);yu(a,Be,Ze,$0(a,Be)),!Re&&a.cm&&a.cm.scrollIntoView({from:Be.from,to:ua(Be)});var ot=[];ca(a,function(Qe,at){!at&&Ce(ot,Qe.history)==-1&&(iw(Qe.history,Be),ot.push(Qe.history)),yu(Qe,Be,null,$0(Qe,Be))})},ce=w.changes.length-1;ce>=0;--ce){var Se=ge(ce);if(Se)return Se.v}}}}function rw(a,u){if(u!=0&&(a.first+=u,a.sel=new ho(nr(a.sel.ranges,function(v){return new Ht(je(v.anchor.line+u,v.anchor.ch),je(v.head.line+u,v.head.ch))}),a.sel.primIndex),a.cm)){On(a.cm,a.first,a.first-u,u);for(var p=a.cm.display,d=p.viewFrom;d<p.viewTo;d++)aa(a.cm,d,"gutter")}}function yu(a,u,p,d){if(a.cm&&!a.cm.curOp)return Hr(a.cm,yu)(a,u,p,d);if(u.to.line<a.first){rw(a,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var v=u.text.length-1-(a.first-u.from.line);rw(a,v),u={from:je(a.first,0),to:je(u.to.line+v,u.to.ch),text:[ht(u.text)],origin:u.origin}}var w=a.lastLine();u.to.line>w&&(u={from:u.from,to:je(w,it(a,w).text.length),text:[u.text[0]],origin:u.origin}),u.removed=Ur(a,u.from,u.to),p||(p=qh(a,u)),a.cm?GE(a.cm,u,d):Xh(a,u,d),Af(a,p,Te),a.cantEdit&&Lf(a,je(a.firstLine(),0))&&(a.cantEdit=!1)}}function GE(a,u,p){var d=a.doc,v=a.display,w=u.from,b=u.to,O=!1,P=w.line;a.options.lineWrapping||(P=Mt(ir(it(d,w.line))),d.iter(P,b.line+1,function(ce){if(ce==v.maxLine)return O=!0,!0})),d.sel.contains(u.from,u.to)>-1&&ut(a),Xh(d,u,p,_0(a)),a.options.lineWrapping||(d.iter(P,w.line+u.text.length,function(ce){var Se=Ci(ce);Se>v.maxLineLength&&(v.maxLine=ce,v.maxLineLength=Se,v.maxLineChanged=!0,O=!1)}),O&&(a.curOp.updateMaxLine=!0)),Xi(d,w.line),vu(a,400);var L=u.text.length-(b.line-w.line)-1;u.full?On(a):w.line==b.line&&u.text.length==1&&!V0(a.doc,u)?aa(a,w.line,"text"):On(a,w.line,b.line+1,L);var q=Et(a,"changes"),Z=Et(a,"change");if(Z||q){var ge={from:w,to:b,text:u.text,removed:u.removed,origin:u.origin};Z&&vr(a,"change",a,ge),q&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(ge)}a.display.selForContextMenu=null}function Ys(a,u,p,d,v){var w;d||(d=p),vt(d,p)<0&&(w=[d,p],p=w[0],d=w[1]),typeof u=="string"&&(u=a.splitLines(u)),qs(a,{from:p,to:d,text:u,origin:v})}function nw(a,u,p,d){p<a.line?a.line+=d:u<a.line&&(a.line=u,a.ch=0)}function ow(a,u,p,d){for(var v=0;v<a.length;++v){var w=a[v],b=!0;if(w.ranges){w.copied||(w=a[v]=w.deepCopy(),w.copied=!0);for(var O=0;O<w.ranges.length;O++)nw(w.ranges[O].anchor,u,p,d),nw(w.ranges[O].head,u,p,d);continue}for(var P=0;P<w.changes.length;++P){var L=w.changes[P];if(p<L.from.line)L.from=je(L.from.line+d,L.from.ch),L.to=je(L.to.line+d,L.to.ch);else if(u<=L.to.line){b=!1;break}}b||(a.splice(0,v+1),v=0)}}function iw(a,u){var p=u.from.line,d=u.to.line,v=u.text.length-(d-p)-1;ow(a.done,p,d,v),ow(a.undone,p,d,v)}function wu(a,u,p,d){var v=u,w=u;return typeof u=="number"?w=it(a,Fe(a,u)):v=Mt(u),v==null?null:(d(w,v)&&a.cm&&aa(a.cm,v,p),w)}function _u(a){this.lines=a,this.parent=null;for(var u=0,p=0;p<a.length;++p)a[p].parent=this,u+=a[p].height;this.height=u}_u.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var p=a,d=a+u;p<d;++p){var v=this.lines[p];this.height-=v.height,js(v),vr(v,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(var d=0;d<u.length;++d)u[d].parent=this},iterN:function(a,u,p){for(var d=a+u;a<d;++a)if(p(this.lines[a]))return!0}};function bu(a){this.children=a;for(var u=0,p=0,d=0;d<a.length;++d){var v=a[d];u+=v.chunkSize(),p+=v.height,v.parent=this}this.size=u,this.height=p,this.parent=null}bu.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(a<v){var w=Math.min(u,v-a),b=d.height;if(d.removeInner(a,w),this.height-=b-d.height,v==w&&(this.children.splice(p--,1),d.parent=null),(u-=w)==0)break;a=0}else a-=v}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof _u))){var O=[];this.collapse(O),this.children=[new _u(O)],this.children[0].parent=this}},collapse:function(a){for(var u=0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,p){this.size+=u.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],w=v.chunkSize();if(a<=w){if(v.insertInner(a,u,p),v.lines&&v.lines.length>50){for(var b=v.lines.length%25+25,O=b;O<v.lines.length;){var P=new _u(v.lines.slice(O,O+=25));v.height-=P.height,this.children.splice(++d,0,P),P.parent=this}v.lines=v.lines.slice(0,b),this.maybeSpill()}break}a-=w}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var u=a.children.splice(a.children.length-5,5),p=new bu(u);if(a.parent){a.size-=p.size,a.height-=p.height;var v=Ce(a.parent.children,a);a.parent.children.splice(v+1,0,p)}else{var d=new bu(a.children);d.parent=a,a.children=[d,p],a=d}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,u,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],w=v.chunkSize();if(a<w){var b=Math.min(u,w-a);if(v.iterN(a,b,p))return!0;if((u-=b)==0)break;a=0}else a-=w}}};var xu=function(a,u,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=a,this.node=u};xu.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,p=this.line,d=Mt(p);if(!(d==null||!u)){for(var v=0;v<u.length;++v)u[v]==this&&u.splice(v--,1);u.length||(p.widgets=null);var w=oa(this);zr(p,Math.max(0,p.height-w)),a&&($n(a,function(){aw(a,p,-w),aa(a,d,"widget")}),vr(a,"lineWidgetCleared",a,this,d))}},xu.prototype.changed=function(){var a=this,u=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=oa(this)-u;v&&(Sn(this.doc,d)||zr(d,d.height+v),p&&$n(p,function(){p.curOp.forceUpdate=!0,aw(p,d,v),vr(p,"lineWidgetChanged",p,a,Mt(d))}))},Rt(xu);function aw(a,u,p){ko(u)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Bh(a,p)}function qE(a,u,p,d){var v=new xu(a,p,d),w=a.cm;return w&&v.noHScroll&&(w.display.alignWidgets=!0),wu(a,u,"widget",function(b){var O=b.widgets||(b.widgets=[]);if(v.insertAt==null?O.push(v):O.splice(Math.min(O.length,Math.max(0,v.insertAt)),0,v),v.line=b,w&&!Sn(a,b)){var P=ko(b)<a.scrollTop;zr(b,b.height+oa(v)),P&&Bh(w,v.height),w.curOp.forceUpdate=!0}return!0}),w&&vr(w,"lineWidgetAdded",w,v,typeof u=="number"?u:Mt(u)),v}var sw=0,fa=function(a,u){this.lines=[],this.type=u,this.doc=a,this.id=++sw};fa.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,u=a&&!a.curOp;if(u&&rs(a),Et(this,"clear")){var p=this.find();p&&vr(this,"clear",p.from,p.to)}for(var d=null,v=null,w=0;w<this.lines.length;++w){var b=this.lines[w],O=un(b.markedSpans,this);a&&!this.collapsed?aa(a,Mt(b),"text"):a&&(O.to!=null&&(v=Mt(b)),O.from!=null&&(d=Mt(b))),b.markedSpans=Dr(b.markedSpans,O),O.from==null&&this.collapsed&&!Sn(this.doc,b)&&a&&zr(b,zs(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var P=0;P<this.lines.length;++P){var L=ir(this.lines[P]),q=Ci(L);q>a.display.maxLineLength&&(a.display.maxLine=L,a.display.maxLineLength=q,a.display.maxLineChanged=!0)}d!=null&&a&&this.collapsed&&On(a,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&X0(a.doc)),a&&vr(a,"markerCleared",a,this,d,v),u&&ns(a),this.parent&&this.parent.clear()}},fa.prototype.find=function(a,u){a==null&&this.type=="bookmark"&&(a=1);for(var p,d,v=0;v<this.lines.length;++v){var w=this.lines[v],b=un(w.markedSpans,this);if(b.from!=null&&(p=je(u?w:Mt(w),b.from),a==-1))return p;if(b.to!=null&&(d=je(u?w:Mt(w),b.to),a==1))return d}return p&&{from:p,to:d}},fa.prototype.changed=function(){var a=this,u=this.find(-1,!0),p=this,d=this.doc.cm;!u||!d||$n(d,function(){var v=u.line,w=Mt(u.line),b=he(d,w);if(b&&(lu(b),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!Sn(p.doc,v)&&p.height!=null){var O=p.height;p.height=null;var P=oa(p)-O;P&&zr(v,v.height+P)}vr(d,"markerChanged",d,a)})},fa.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Ce(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},fa.prototype.detachLine=function(a){if(this.lines.splice(Ce(this.lines,a),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},Rt(fa);function Xs(a,u,p,d,v){if(d&&d.shared)return YE(a,u,p,d,v);if(a.cm&&!a.cm.curOp)return Hr(a.cm,Xs)(a,u,p,d,v);var w=new fa(a,v),b=vt(u,p);if(d&&Ee(d,w,!1),b>0||b==0&&w.clearWhenEmpty!==!1)return w;if(w.replacedWith&&(w.collapsed=!0,w.widgetNode=H("span",[w.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||w.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(w.widgetNode.insertLeft=!0)),w.collapsed){if(wt(a,u.line,u,p,w)||u.line!=p.line&&wt(a,p.line,u,p,w))throw new Error("Inserting collapsed marker partially overlapping an existing one");lo()}w.addToHistory&&H0(a,{from:u,to:p,origin:"markText"},a.sel,NaN);var O=u.line,P=a.cm,L;if(a.iter(O,p.line+1,function(Z){P&&w.collapsed&&!P.options.lineWrapping&&ir(Z)==P.display.maxLine&&(L=!0),w.collapsed&&O!=u.line&&zr(Z,0),Rs(Z,new Bo(w,O==u.line?u.ch:null,O==p.line?p.ch:null),a.cm&&a.cm.curOp),++O}),w.collapsed&&a.iter(u.line,p.line+1,function(Z){Sn(a,Z)&&zr(Z,0)}),w.clearOnEnter&&ye(w,"beforeCursorEnter",function(){return w.clear()}),w.readOnly&&(qa(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),w.collapsed&&(w.id=++sw,w.atomic=!0),P){if(L&&(P.curOp.updateMaxLine=!0),w.collapsed)On(P,u.line,p.line+1);else if(w.className||w.startStyle||w.endStyle||w.css||w.attributes||w.title)for(var q=u.line;q<=p.line;q++)aa(P,q,"text");w.atomic&&X0(P.doc),vr(P,"markerAdded",P,w)}return w}var Cu=function(a,u){this.markers=a,this.primary=u;for(var p=0;p<a.length;++p)a[p].parent=this};Cu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();vr(this,"clear")}},Cu.prototype.find=function(a,u){return this.primary.find(a,u)},Rt(Cu);function YE(a,u,p,d,v){d=Ee(d),d.shared=!1;var w=[Xs(a,u,p,d,v)],b=w[0],O=d.widgetNode;return ca(a,function(P){O&&(d.widgetNode=O.cloneNode(!0)),w.push(Xs(P,Ue(P,u),Ue(P,p),d,v));for(var L=0;L<P.linked.length;++L)if(P.linked[L].isParent)return;b=ht(w)}),new Cu(w,b)}function lw(a){return a.findMarks(je(a.first,0),a.clipPos(je(a.lastLine())),function(u){return u.parent})}function XE(a,u){for(var p=0;p<u.length;p++){var d=u[p],v=d.find(),w=a.clipPos(v.from),b=a.clipPos(v.to);if(vt(w,b)){var O=Xs(a,w,b,d.primary,d.primary.type);d.markers.push(O),O.parent=d}}}function JE(a){for(var u=function(d){var v=a[d],w=[v.primary.doc];ca(v.primary.doc,function(P){return w.push(P)});for(var b=0;b<v.markers.length;b++){var O=v.markers[b];Ce(w,O.doc)==-1&&(O.parent=null,v.markers.splice(b--,1))}},p=0;p<a.length;p++)u(p)}var ZE=0,En=function(a,u,p,d,v){if(!(this instanceof En))return new En(a,u,p,d,v);p==null&&(p=0),bu.call(this,[new _u([new Br("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var w=je(p,0);this.sel=la(w),this.history=new Tf(null),this.id=++ZE,this.modeOption=u,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Xh(this,{from:w,to:w,text:a}),tn(this,la(w),Te)};En.prototype=A(bu.prototype,{constructor:En,iter:function(a,u,p){p?this.iterN(a-this.first,u-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,u){for(var p=0,d=0;d<u.length;++d)p+=u[d].height;this.insertInner(a-this.first,u,p)},remove:function(a,u){this.removeInner(a-this.first,u)},getValue:function(a){var u=or(this,this.first,this.first+this.size);return a===!1?u:u.join(a||this.lineSeparator())},setValue:Wr(function(a){var u=je(this.first,0),p=this.first+this.size-1;qs(this,{from:u,to:je(p,it(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&fu(this.cm,0,0),tn(this,la(u),Te)}),replaceRange:function(a,u,p,d){u=Ue(this,u),p=p?Ue(this,p):u,Ys(this,a,u,p,d)},getRange:function(a,u,p){var d=Ur(this,Ue(this,a),Ue(this,u));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(a){var u=this.getLineHandle(a);return u&&u.text},getLineHandle:function(a){if(zn(this,a))return it(this,a)},getLineNumber:function(a){return Mt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=it(this,a)),ir(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ue(this,a)},getCursor:function(a){var u=this.sel.primary(),p;return a==null||a=="head"?p=u.head:a=="anchor"?p=u.anchor:a=="end"||a=="to"||a===!1?p=u.to():p=u.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Wr(function(a,u,p){G0(this,Ue(this,typeof a=="number"?je(a,u||0):a),null,p)}),setSelection:Wr(function(a,u,p){G0(this,Ue(this,a),Ue(this,u||a),p)}),extendSelection:Wr(function(a,u,p){kf(this,Ue(this,a),u&&Ue(this,u),p)}),extendSelections:Wr(function(a,u){K0(this,At(this,a),u)}),extendSelectionsBy:Wr(function(a,u){var p=nr(this.sel.ranges,a);K0(this,At(this,p),u)}),setSelections:Wr(function(a,u,p){if(a.length){for(var d=[],v=0;v<a.length;v++)d[v]=new Ht(Ue(this,a[v].anchor),Ue(this,a[v].head||a[v].anchor));u==null&&(u=Math.min(a.length-1,this.sel.primIndex)),tn(this,Ko(this.cm,d,u),p)}}),addSelection:Wr(function(a,u,p){var d=this.sel.ranges.slice(0);d.push(new Ht(Ue(this,a),Ue(this,u||a))),tn(this,Ko(this.cm,d,d.length-1),p)}),getSelection:function(a){for(var u=this.sel.ranges,p,d=0;d<u.length;d++){var v=Ur(this,u[d].from(),u[d].to());p=p?p.concat(v):v}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=Ur(this,p[d].from(),p[d].to());a!==!1&&(v=v.join(a||this.lineSeparator())),u[d]=v}return u},replaceSelection:function(a,u,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=a;this.replaceSelections(d,u,p||"+input")},replaceSelections:Wr(function(a,u,p){for(var d=[],v=this.sel,w=0;w<v.ranges.length;w++){var b=v.ranges[w];d[w]={from:b.from(),to:b.to(),text:this.splitLines(a[w]),origin:p}}for(var O=u&&u!="end"&&VE(this,d,u),P=d.length-1;P>=0;P--)qs(this,d[P]);O?q0(this,O):this.cm&&Ws(this.cm)}),undo:Wr(function(){Mf(this,"undo")}),redo:Wr(function(){Mf(this,"redo")}),undoSelection:Wr(function(){Mf(this,"undo",!0)}),redoSelection:Wr(function(){Mf(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,p=0,d=0;d<a.done.length;d++)a.done[d].ranges||++u;for(var v=0;v<a.undone.length;v++)a.undone[v].ranges||++p;return{undo:u,redo:p}},clearHistory:function(){var a=this;this.history=new Tf(this.history),ca(this,function(u){return u.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ks(this.history.done),undone:Ks(this.history.undone)}},setHistory:function(a){var u=this.history=new Tf(this.history);u.done=Ks(a.done.slice(0),null,!0),u.undone=Ks(a.undone.slice(0),null,!0)},setGutterMarker:Wr(function(a,u,p){return wu(this,a,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[u]=p,!p&&_e(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Wr(function(a){var u=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&wu(u,p,"gutter",function(){return p.gutterMarkers[a]=null,_e(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var u;if(typeof a=="number"){if(!zn(this,a)||(u=a,a=it(this,a),!a))return null}else if(u=Mt(a),u==null)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Wr(function(a,u,p){return wu(this,a,u=="gutter"?"gutter":"class",function(d){var v=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if($(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Wr(function(a,u,p){return wu(this,a,u=="gutter"?"gutter":"class",function(d){var v=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",w=d[v];if(w)if(p==null)d[v]=null;else{var b=w.match($(p));if(!b)return!1;var O=b.index+b[0].length;d[v]=w.slice(0,b.index)+(!b.index||O==w.length?"":" ")+w.slice(O)||null}else return!1;return!0})}),addLineWidget:Wr(function(a,u,p){return qE(this,a,u,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,p){return Xs(this,Ue(this,a),Ue(this,u),p,p&&p.type||"range")},setBookmark:function(a,u){var p={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return a=Ue(this,a),Xs(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Ue(this,a);var u=[],p=it(this,a.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=a.ch)&&(v.to==null||v.to>=a.ch)&&u.push(v.marker.parent||v.marker)}return u},findMarks:function(a,u,p){a=Ue(this,a),u=Ue(this,u);var d=[],v=a.line;return this.iter(a.line,u.line+1,function(w){var b=w.markedSpans;if(b)for(var O=0;O<b.length;O++){var P=b[O];!(P.to!=null&&v==a.line&&a.ch>=P.to||P.from==null&&v!=a.line||P.from!=null&&v==u.line&&P.from>=u.ch)&&(!p||p(P.marker))&&d.push(P.marker.parent||P.marker)}++v}),d},getAllMarks:function(){var a=[];return this.iter(function(u){var p=u.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&a.push(p[d].marker)}),a},posFromIndex:function(a){var u,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var w=v.text.length+d;if(w>a)return u=a,!0;a-=w,++p}),Ue(this,je(p,u))},indexFromPos:function(a){a=Ue(this,a);var u=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(d){u+=d.text.length+p}),u},copy:function(a){var u=new En(or(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,a&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(a){a||(a={});var u=this.first,p=this.first+this.size;a.from!=null&&a.from>u&&(u=a.from),a.to!=null&&a.to<p&&(p=a.to);var d=new En(or(this,u,p),a.mode||this.modeOption,u,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],XE(d,lw(this)),d},unlinkDoc:function(a){if(a instanceof ar&&(a=a.doc),this.linked)for(var u=0;u<this.linked.length;++u){var p=this.linked[u];if(p.doc==a){this.linked.splice(u,1),a.unlinkDoc(this),JE(lw(this));break}}if(a.history==this.history){var d=[a.id];ca(a,function(v){return d.push(v.id)},!0),a.history=new Tf(null),a.history.done=Ks(this.history.done,d),a.history.undone=Ks(this.history.undone,d)}},iterLinkedDocs:function(a){ca(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):_r(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Wr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(u){return u.order=null}),this.cm&&UE(this.cm))})}),En.prototype.eachLine=En.prototype.iter;var uw=0;function QE(a){var u=this;if(cw(u),!(qe(u,a)||Ao(u.display,a))){kt(a),l&&(uw=+new Date);var p=Za(u,a,!0),d=a.dataTransfer.files;if(!(!p||u.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,w=Array(v),b=0,O=function(){++b==v&&Hr(u,function(){p=Ue(u.doc,p);var ce={from:p,to:p,text:u.doc.splitLines(w.filter(function(Se){return Se!=null}).join(u.doc.lineSeparator())),origin:"paste"};qs(u.doc,ce),q0(u.doc,la(Ue(u.doc,p),Ue(u.doc,ua(ce))))})()},P=function(ce,Se){if(u.options.allowDropFileTypes&&Ce(u.options.allowDropFileTypes,ce.type)==-1){O();return}var Re=new FileReader;Re.onerror=function(){return O()},Re.onload=function(){var Be=Re.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Be)){O();return}w[Se]=Be,O()},Re.readAsText(ce)},L=0;L<d.length;L++)P(d[L],L);else{if(u.state.draggingText&&u.doc.sel.contains(p)>-1){u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);return}try{var q=a.dataTransfer.getData("Text");if(q){var Z;if(u.state.draggingText&&!u.state.draggingText.copy&&(Z=u.listSelections()),Af(u.doc,la(p,p)),Z)for(var ge=0;ge<Z.length;++ge)Ys(u.doc,"",Z[ge].anchor,Z[ge].head,"drag");u.replaceSelection(q,"around","paste"),u.display.input.focus()}}catch{}}}}function eT(a,u){if(l&&(!a.state.draggingText||+new Date-uw<100)){V(u);return}if(!(qe(a,u)||Ao(a.display,u))&&(u.dataTransfer.setData("Text",a.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!y)){var p=W("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),u.dataTransfer.setDragImage(p,0,0),m&&p.parentNode.removeChild(p)}}function tT(a,u){var p=Za(a,u);if(p){var d=document.createDocumentFragment();C0(a,p,d),a.display.dragCursor||(a.display.dragCursor=W("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),R(a.display.dragCursor,d)}}function cw(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function fw(a){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<u.length;d++){var v=u[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var w=0;w<p.length;w++)a(p[w])})}}var dw=!1;function rT(){dw||(nT(),dw=!0)}function nT(){var a;ye(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,fw(oT)},100))}),ye(window,"blur",function(){return fw(Hs)})}function oT(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,a.setSize()}for(var da={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Su=0;Su<10;Su++)da[Su+48]=da[Su+96]=String(Su);for(var Nf=65;Nf<=90;Nf++)da[Nf]=String.fromCharCode(Nf);for(var Ou=1;Ou<=12;Ou++)da[Ou+111]=da[Ou+63235]="F"+Ou;var Ei={};Ei.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ei.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ei.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ei.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ei.default=E?Ei.macDefault:Ei.pcDefault;function iT(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var p,d,v,w,b=0;b<u.length-1;b++){var O=u[b];if(/^(cmd|meta|m)$/i.test(O))w=!0;else if(/^a(lt)?$/i.test(O))p=!0;else if(/^(c|ctrl|control)$/i.test(O))d=!0;else if(/^s(hift)?$/i.test(O))v=!0;else throw new Error("Unrecognized modifier name: "+O)}return p&&(a="Alt-"+a),d&&(a="Ctrl-"+a),w&&(a="Cmd-"+a),v&&(a="Shift-"+a),a}function aT(a){var u={};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete a[p];continue}for(var v=nr(p.split(" "),iT),w=0;w<v.length;w++){var b=void 0,O=void 0;w==v.length-1?(O=v.join(" "),b=d):(O=v.slice(0,w+1).join(" "),b="...");var P=u[O];if(!P)u[O]=b;else if(P!=b)throw new Error("Inconsistent bindings for "+O)}delete a[p]}for(var L in u)a[L]=u[L];return a}function Js(a,u,p,d){u=Df(u);var v=u.call?u.call(a,d):u[a];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Js(a,u.fallthrough,p,d);for(var w=0;w<u.fallthrough.length;w++){var b=Js(a,u.fallthrough[w],p,d);if(b)return b}}}function pw(a){var u=typeof a=="string"?a:da[a.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function hw(a,u,p){var d=a;return u.altKey&&d!="Alt"&&(a="Alt-"+a),(ue?u.metaKey:u.ctrlKey)&&d!="Ctrl"&&(a="Ctrl-"+a),(ue?u.ctrlKey:u.metaKey)&&d!="Mod"&&(a="Cmd-"+a),!p&&u.shiftKey&&d!="Shift"&&(a="Shift-"+a),a}function vw(a,u){if(m&&a.keyCode==34&&a.char)return!1;var p=da[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),hw(p,a,u))}function Df(a){return typeof a=="string"?Ei[a]:a}function Zs(a,u){for(var p=a.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var w=u(p[v]);d.length&&vt(w.from,ht(d).to)<=0;){var b=d.pop();if(vt(b.from,w.from)<0){w.from=b.from;break}}d.push(w)}$n(a,function(){for(var O=d.length-1;O>=0;O--)Ys(a.doc,"",d[O].from,d[O].to,"+delete");Ws(a)})}function ev(a,u,p){var d=fe(a.text,u+p,p);return d<0||d>a.text.length?null:d}function tv(a,u,p){var d=ev(a,u.ch,p);return d==null?null:new je(u.line,d,p<0?"after":"before")}function rv(a,u,p,d,v){if(a){u.doc.direction=="rtl"&&(v=-v);var w=I(p,u.doc.direction);if(w){var b=v<0?ht(w):w[0],O=v<0==(b.level==1),P=O?"after":"before",L;if(b.level>0||u.doc.direction=="rtl"){var q=Le(u,p);L=v<0?p.text.length-1:0;var Z=$e(u,q,L).top;L=st(function(ge){return $e(u,q,ge).top==Z},v<0==(b.level==1)?b.from:b.to-1,L),P=="before"&&(L=ev(p,L,1))}else L=v<0?b.to:b.from;return new je(d,L,P)}}return new je(d,v<0?p.text.length:0,v<0?"before":"after")}function sT(a,u,p,d){var v=I(u,a.doc.direction);if(!v)return tv(u,p,d);p.ch>=u.text.length?(p.ch=u.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var w=B(v,p.ch,p.sticky),b=v[w];if(a.doc.direction=="ltr"&&b.level%2==0&&(d>0?b.to>p.ch:b.from<p.ch))return tv(u,p,d);var O=function(Ze,ot){return ev(u,Ze instanceof je?Ze.ch:Ze,ot)},P,L=function(Ze){return a.options.lineWrapping?(P=P||Le(a,u),w0(a,u,P,Ze)):{begin:0,end:u.text.length}},q=L(p.sticky=="before"?O(p,-1):p.ch);if(a.doc.direction=="rtl"||b.level==1){var Z=b.level==1==d<0,ge=O(p,Z?1:-1);if(ge!=null&&(Z?ge<=b.to&&ge<=q.end:ge>=b.from&&ge>=q.begin)){var ce=Z?"before":"after";return new je(p.line,ge,ce)}}var Se=function(Ze,ot,Qe){for(var at=function(Xt,$r){return $r?new je(p.line,O(Xt,1),"before"):new je(p.line,Xt,"after")};Ze>=0&&Ze<v.length;Ze+=ot){var gt=v[Ze],pt=ot>0==(gt.level!=1),Tt=pt?Qe.begin:O(Qe.end,-1);if(gt.from<=Tt&&Tt<gt.to||(Tt=pt?gt.from:O(gt.to,-1),Qe.begin<=Tt&&Tt<Qe.end))return at(Tt,pt)}},Re=Se(w+d,d,q);if(Re)return Re;var Be=d>0?q.end:O(q.begin,-1);return Be!=null&&!(d>0&&Be==u.text.length)&&(Re=Se(d>0?0:v.length-1,d,L(Be)),Re)?Re:null}var Eu={selectAll:Q0,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Te)},killLine:function(a){return Zs(a,function(u){if(u.empty()){var p=it(a.doc,u.head.line).text.length;return u.head.ch==p&&u.head.line<a.lastLine()?{from:u.head,to:je(u.head.line+1,0)}:{from:u.head,to:je(u.head.line,p)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(a){return Zs(a,function(u){return{from:je(u.from().line,0),to:Ue(a.doc,je(u.to().line+1,0))}})},delLineLeft:function(a){return Zs(a,function(u){return{from:je(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return Zs(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return{from:d,to:u.from()}})},delWrappedLineRight:function(a){return Zs(a,function(u){var p=a.charCoords(u.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:u.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(je(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(je(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(u){return gw(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return mw(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){return lT(a,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},Je)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},Je)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var p=a.cursorCoords(u.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return d.ch<a.getLine(d.line).search(/\S/)?mw(a,u.head):d},Je)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var u=[],p=a.listSelections(),d=a.options.tabSize,v=0;v<p.length;v++){var w=p[v].from(),b=ze(a.getLine(w.line),w.ch,d);u.push(Dt(d-b%d))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return $n(a,function(){for(var u=a.listSelections(),p=[],d=0;d<u.length;d++)if(u[d].empty()){var v=u[d].head,w=it(a.doc,v.line).text;if(w){if(v.ch==w.length&&(v=new je(v.line,v.ch-1)),v.ch>0)v=new je(v.line,v.ch+1),a.replaceRange(w.charAt(v.ch-1)+w.charAt(v.ch-2),je(v.line,v.ch-2),v,"+transpose");else if(v.line>a.doc.first){var b=it(a.doc,v.line-1).text;b&&(v=new je(v.line,1),a.replaceRange(w.charAt(0)+a.doc.lineSeparator()+b.charAt(b.length-1),je(v.line-1,b.length-1),v,"+transpose"))}}p.push(new Ht(v,v))}a.setSelections(p)})},newlineAndIndent:function(a){return $n(a,function(){for(var u=a.listSelections(),p=u.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),u[p].anchor,u[p].head,"+input");u=a.listSelections();for(var d=0;d<u.length;d++)a.indentLine(u[d].from().line,null,!0);Ws(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function gw(a,u){var p=it(a.doc,u),d=ir(p);return d!=p&&(u=Mt(d)),rv(!0,a,d,u,1)}function lT(a,u){var p=it(a.doc,u),d=Tr(p);return d!=p&&(u=Mt(d)),rv(!0,a,p,u,-1)}function mw(a,u){var p=gw(a,u.line),d=it(a.doc,p.line),v=I(d,a.doc.direction);if(!v||v[0].level==0){var w=Math.max(p.ch,d.text.search(/\S/)),b=u.line==p.line&&u.ch<=w&&u.ch;return je(p.line,b?0:w,p.sticky)}return p}function Rf(a,u,p){if(typeof u=="string"&&(u=Eu[u],!u))return!1;a.display.input.ensurePolled();var d=a.display.shift,v=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),v=u(a)!=be}finally{a.display.shift=d,a.state.suppressEdits=!1}return v}function uT(a,u,p){for(var d=0;d<a.state.keyMaps.length;d++){var v=Js(u,a.state.keyMaps[d],p,a);if(v)return v}return a.options.extraKeys&&Js(u,a.options.extraKeys,p,a)||Js(u,a.options.keyMap,p,a)}var cT=new Pe;function Tu(a,u,p,d){var v=a.state.keySeq;if(v){if(pw(u))return"handled";if(/\'$/.test(u)?a.state.keySeq=null:cT.set(50,function(){a.state.keySeq==v&&(a.state.keySeq=null,a.display.input.reset())}),yw(a,v+" "+u,p,d))return!0}return yw(a,u,p,d)}function yw(a,u,p,d){var v=uT(a,u,d);return v=="multi"&&(a.state.keySeq=u),v=="handled"&&vr(a,"keyHandled",a,u,p),(v=="handled"||v=="multi")&&(kt(p),Fh(a)),!!v}function ww(a,u){var p=vw(u,!0);return p?u.shiftKey&&!a.state.keySeq?Tu(a,"Shift-"+p,u,function(d){return Rf(a,d,!0)})||Tu(a,p,u,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return Rf(a,d)}):Tu(a,p,u,function(d){return Rf(a,d)}):!1}function fT(a,u,p){return Tu(a,"'"+p+"'",u,function(d){return Rf(a,d,!0)})}var nv=null;function _w(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&(u.curOp.focus=we(),!qe(u,a))){l&&c<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;u.display.shift=p==16||a.shiftKey;var d=ww(u,a);m&&(nv=d?p:null,!d&&p==88&&!io&&(E?a.metaKey:a.ctrlKey)&&u.replaceSelection("",null,"cut")),t&&!E&&!d&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&dT(u)}}function dT(a){var u=a.display.lineDiv;oe(u,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(te(u,"CodeMirror-crosshair"),rt(document,"keyup",p),rt(document,"mouseover",p))}ye(document,"keyup",p),ye(document,"mouseover",p)}function bw(a){a.keyCode==16&&(this.doc.sel.shift=!1),qe(this,a)}function xw(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&!(Ao(u.display,a)||qe(u,a)||a.ctrlKey&&!a.altKey||E&&a.metaKey)){var p=a.keyCode,d=a.charCode;if(m&&p==nv){nv=null,kt(a);return}if(!(m&&(!a.which||a.which<10)&&ww(u,a))){var v=String.fromCharCode(d??p);v!="\b"&&(fT(u,a,v)||u.display.input.onKeyPress(a))}}}var pT=400,ov=function(a,u,p){this.time=a,this.pos=u,this.button=p};ov.prototype.compare=function(a,u,p){return this.time+pT>a&&vt(u,this.pos)==0&&p==this.button};var Pu,ku;function hT(a,u){var p=+new Date;return ku&&ku.compare(p,a,u)?(Pu=ku=null,"triple"):Pu&&Pu.compare(p,a,u)?(ku=new ov(p,a,u),Pu=null,"double"):(Pu=new ov(p,a,u),ku=null,"single")}function Cw(a){var u=this,p=u.display;if(!(qe(u,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,Ao(p,a)){f||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!iv(u,a)){var d=Za(u,a),v=pe(a),w=d?hT(d,v):"single";window.focus(),v==1&&u.state.selectingText&&u.state.selectingText(a),!(d&&vT(u,v,d,w,a))&&(v==1?d?mT(u,d,w,a):ee(a)==p.scroller&&kt(a):v==2?(d&&kf(u.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(Q?u.display.input.onContextMenu(a):Vh(u)))}}}function vT(a,u,p,d,v){var w="Click";return d=="double"?w="Double"+w:d=="triple"&&(w="Triple"+w),w=(u==1?"Left":u==2?"Middle":"Right")+w,Tu(a,hw(w,v),v,function(b){if(typeof b=="string"&&(b=Eu[b]),!b)return!1;var O=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),O=b(a,p)!=be}finally{a.state.suppressEdits=!1}return O})}function gT(a,u,p){var d=a.getOption("configureMouse"),v=d?d(a,u,p):{};if(v.unit==null){var w=N?p.shiftKey&&p.metaKey:p.altKey;v.unit=w?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(v.extend==null||a.doc.extend)&&(v.extend=a.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=E?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(E?p.altKey:p.ctrlKey)),v}function mT(a,u,p,d){l?setTimeout(se(S0,a),0):a.curOp.focus=we();var v=gT(a,p,d),w=a.doc.sel,b;a.options.dragDrop&&Me&&!a.isReadOnly()&&p=="single"&&(b=w.contains(u))>-1&&(vt((b=w.ranges[b]).from(),u)<0||u.xRel>0)&&(vt(b.to(),u)>0||u.xRel<0)?yT(a,d,u,v):wT(a,d,u,v)}function yT(a,u,p,d){var v=a.display,w=!1,b=Hr(a,function(L){f&&(v.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Vh(a)),rt(v.wrapper.ownerDocument,"mouseup",b),rt(v.wrapper.ownerDocument,"mousemove",O),rt(v.scroller,"dragstart",P),rt(v.scroller,"drop",b),w||(kt(L),d.addNew||kf(a.doc,p,null,null,d.extend),f&&!y||l&&c==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),O=function(L){w=w||Math.abs(u.clientX-L.clientX)+Math.abs(u.clientY-L.clientY)>=10},P=function(){return w=!0};f&&(v.scroller.draggable=!0),a.state.draggingText=b,b.copy=!d.moveOnDrag,ye(v.wrapper.ownerDocument,"mouseup",b),ye(v.wrapper.ownerDocument,"mousemove",O),ye(v.scroller,"dragstart",P),ye(v.scroller,"drop",b),a.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function Sw(a,u,p){if(p=="char")return new Ht(u,u);if(p=="word")return a.findWordAt(u);if(p=="line")return new Ht(je(u.line,0),Ue(a.doc,je(u.line+1,0)));var d=p(a,u);return new Ht(d.from,d.to)}function wT(a,u,p,d){l&&Vh(a);var v=a.display,w=a.doc;kt(u);var b,O,P=w.sel,L=P.ranges;if(d.addNew&&!d.extend?(O=w.sel.contains(p),O>-1?b=L[O]:b=new Ht(p,p)):(b=w.sel.primary(),O=w.sel.primIndex),d.unit=="rectangle")d.addNew||(b=new Ht(p,p)),p=Za(a,u,!0,!0),O=-1;else{var q=Sw(a,p,d.unit);d.extend?b=Zh(b,q.anchor,q.head,d.extend):b=q}d.addNew?O==-1?(O=L.length,tn(w,Ko(a,L.concat([b]),O),{scroll:!1,origin:"*mouse"})):L.length>1&&L[O].empty()&&d.unit=="char"&&!d.extend?(tn(w,Ko(a,L.slice(0,O).concat(L.slice(O+1)),0),{scroll:!1,origin:"*mouse"}),P=w.sel):Qh(w,O,b,We):(O=0,tn(w,new ho([b],0),We),P=w.sel);var Z=p;function ge(Qe){if(vt(Z,Qe)!=0)if(Z=Qe,d.unit=="rectangle"){for(var at=[],gt=a.options.tabSize,pt=ze(it(w,p.line).text,p.ch,gt),Tt=ze(it(w,Qe.line).text,Qe.ch,gt),Xt=Math.min(pt,Tt),$r=Math.max(pt,Tt),dr=Math.min(p.line,Qe.line),Kn=Math.min(a.lastLine(),Math.max(p.line,Qe.line));dr<=Kn;dr++){var Tn=it(w,dr).text,Pr=He(Tn,Xt,gt);Xt==$r?at.push(new Ht(je(dr,Pr),je(dr,Pr))):Tn.length>Pr&&at.push(new Ht(je(dr,Pr),je(dr,He(Tn,$r,gt))))}at.length||at.push(new Ht(p,p)),tn(w,Ko(a,P.ranges.slice(0,O).concat(at),O),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Qe)}else{var Pn=b,Xr=Sw(a,Qe,d.unit),jr=Pn.anchor,kr;vt(Xr.anchor,jr)>0?(kr=Xr.head,jr=Oe(Pn.from(),Xr.anchor)):(kr=Xr.anchor,jr=X(Pn.to(),Xr.head));var gr=P.ranges.slice(0);gr[O]=_T(a,new Ht(Ue(w,jr),kr)),tn(w,Ko(a,gr,O),We)}}var ce=v.wrapper.getBoundingClientRect(),Se=0;function Re(Qe){var at=++Se,gt=Za(a,Qe,!0,d.unit=="rectangle");if(gt)if(vt(gt,Z)!=0){a.curOp.focus=we(),ge(gt);var pt=Cf(v,w);(gt.line>=pt.to||gt.line<pt.from)&&setTimeout(Hr(a,function(){Se==at&&Re(Qe)}),150)}else{var Tt=Qe.clientY<ce.top?-20:Qe.clientY>ce.bottom?20:0;Tt&&setTimeout(Hr(a,function(){Se==at&&(v.scroller.scrollTop+=Tt,Re(Qe))}),50)}}function Be(Qe){a.state.selectingText=!1,Se=1/0,Qe&&(kt(Qe),v.input.focus()),rt(v.wrapper.ownerDocument,"mousemove",Ze),rt(v.wrapper.ownerDocument,"mouseup",ot),w.history.lastSelOrigin=null}var Ze=Hr(a,function(Qe){Qe.buttons===0||!pe(Qe)?Be(Qe):Re(Qe)}),ot=Hr(a,Be);a.state.selectingText=ot,ye(v.wrapper.ownerDocument,"mousemove",Ze),ye(v.wrapper.ownerDocument,"mouseup",ot)}function _T(a,u){var p=u.anchor,d=u.head,v=it(a.doc,p.line);if(vt(p,d)==0&&p.sticky==d.sticky)return u;var w=I(v);if(!w)return u;var b=B(w,p.ch,p.sticky),O=w[b];if(O.from!=p.ch&&O.to!=p.ch)return u;var P=b+(O.from==p.ch==(O.level!=1)?0:1);if(P==0||P==w.length)return u;var L;if(d.line!=p.line)L=(d.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var q=B(w,d.ch,d.sticky),Z=q-b||(d.ch-p.ch)*(O.level==1?-1:1);q==P-1||q==P?L=Z<0:L=Z>0}var ge=w[P+(L?-1:0)],ce=L==(ge.level==1),Se=ce?ge.from:ge.to,Re=ce?"after":"before";return p.ch==Se&&p.sticky==Re?u:new Ht(new je(p.line,Se,Re),d)}function Ow(a,u,p,d){var v,w;if(u.touches)v=u.touches[0].clientX,w=u.touches[0].clientY;else try{v=u.clientX,w=u.clientY}catch{return!1}if(v>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&kt(u);var b=a.display,O=b.lineDiv.getBoundingClientRect();if(w>O.bottom||!Et(a,p))return Mr(u);w-=O.top-b.viewOffset;for(var P=0;P<a.display.gutterSpecs.length;++P){var L=b.gutters.childNodes[P];if(L&&L.getBoundingClientRect().right>=v){var q=qt(a.doc,w),Z=a.display.gutterSpecs[P];return tt(a,p,a,q,Z.className,u),Mr(u)}}}function iv(a,u){return Ow(a,u,"gutterClick",!0)}function Ew(a,u){Ao(a.display,u)||bT(a,u)||qe(a,u,"contextmenu")||Q||a.display.input.onContextMenu(u)}function bT(a,u){return Et(a,"gutterContextMenu")?Ow(a,u,"gutterContextMenu",!1):!1}function Tw(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),uu(a)}var Qs={toString:function(){return"CodeMirror.Init"}},Pw={},jf={};function xT(a){var u=a.optionHandlers;function p(d,v,w,b){a.defaults[d]=v,w&&(u[d]=b?function(O,P,L){L!=Qs&&w(O,P,L)}:w)}a.defineOption=p,a.Init=Qs,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,Yh(d)},!0),p("indentUnit",2,Yh,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){mu(d),uu(d),On(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var w=[],b=d.doc.first;d.doc.iter(function(P){for(var L=0;;){var q=P.text.indexOf(v,L);if(q==-1)break;L=q+v.length,w.push(je(b,q))}b++});for(var O=w.length-1;O>=0;O--)Ys(d.doc,v,w[O],je(w[O].line,w[O].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(d,v,w){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),w!=Qs&&d.refresh()}),p("specialCharPlaceholder",sf,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",T?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!K),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){Tw(d),gu(d)},!0),p("keyMap","default",function(d,v,w){var b=Df(v),O=w!=Qs&&Df(w);O&&O.detach&&O.detach(d,b),b.attach&&b.attach(d,O||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,ST,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=Gh(v,d.options.lineNumbers),gu(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?jh(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return $s(d)},!0),p("scrollbarStyle","native",function(d){A0(d),$s(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=Gh(d.options.gutters,v),gu(d)},!0),p("firstLineNumber",1,gu,!0),p("lineNumberFormatter",function(d){return d},gu,!0),p("showCursorWhenSelecting",!1,cu,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(Hs(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,CT),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,cu,!0),p("singleCursorHeightPerLine",!0,cu,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,mu,!0),p("addModeClass",!1,mu,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,mu,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function CT(a,u,p){var d=p&&p!=Qs;if(!u!=!d){var v=a.display.dragFunctions,w=u?ye:rt;w(a.display.scroller,"dragstart",v.start),w(a.display.scroller,"dragenter",v.enter),w(a.display.scroller,"dragover",v.over),w(a.display.scroller,"dragleave",v.leave),w(a.display.scroller,"drop",v.drop)}}function ST(a){a.options.lineWrapping?(oe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(te(a.display.wrapper,"CodeMirror-wrap"),Zi(a)),Ih(a),On(a),uu(a),setTimeout(function(){return $s(a)},100)}function ar(a,u){var p=this;if(!(this instanceof ar))return new ar(a,u);this.options=u=u?Ee(u):{},Ee(Pw,u,!1);var d=u.value;typeof d=="string"?d=new En(d,u.mode,null,u.lineSeparator,u.direction):u.mode&&(d.modeOption=u.mode),this.doc=d;var v=new ar.inputStyles[u.inputStyle](this),w=this.display=new IE(a,d,v,u);w.wrapper.CodeMirror=this,Tw(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),A0(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Pe,keySeq:null,specialChars:null},u.autofocus&&!T&&w.input.focus(),l&&c<11&&setTimeout(function(){return p.display.input.reset(!0)},20),OT(this),rT(),rs(this),this.curOp.forceUpdate=!0,U0(this,d),u.autofocus&&!T||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Uh(p)},20):Hs(this);for(var b in jf)jf.hasOwnProperty(b)&&jf[b](this,u[b],Qs);N0(this),u.finishInit&&u.finishInit(this);for(var O=0;O<av.length;++O)av[O](this);ns(this),f&&u.lineWrapping&&getComputedStyle(w.lineDiv).textRendering=="optimizelegibility"&&(w.lineDiv.style.textRendering="auto")}ar.defaults=Pw,ar.optionHandlers=jf;function OT(a){var u=a.display;ye(u.scroller,"mousedown",Hr(a,Cw)),l&&c<11?ye(u.scroller,"dblclick",Hr(a,function(P){if(!qe(a,P)){var L=Za(a,P);if(!(!L||iv(a,P)||Ao(a.display,P))){kt(P);var q=a.findWordAt(L);kf(a.doc,q.anchor,q.head)}}})):ye(u.scroller,"dblclick",function(P){return qe(a,P)||kt(P)}),ye(u.scroller,"contextmenu",function(P){return Ew(a,P)}),ye(u.input.getField(),"contextmenu",function(P){u.scroller.contains(P.target)||Ew(a,P)});var p,d={end:0};function v(){u.activeTouch&&(p=setTimeout(function(){return u.activeTouch=null},1e3),d=u.activeTouch,d.end=+new Date)}function w(P){if(P.touches.length!=1)return!1;var L=P.touches[0];return L.radiusX<=1&&L.radiusY<=1}function b(P,L){if(L.left==null)return!0;var q=L.left-P.left,Z=L.top-P.top;return q*q+Z*Z>20*20}ye(u.scroller,"touchstart",function(P){if(!qe(a,P)&&!w(P)&&!iv(a,P)){u.input.ensurePolled(),clearTimeout(p);var L=+new Date;u.activeTouch={start:L,moved:!1,prev:L-d.end<=300?d:null},P.touches.length==1&&(u.activeTouch.left=P.touches[0].pageX,u.activeTouch.top=P.touches[0].pageY)}}),ye(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),ye(u.scroller,"touchend",function(P){var L=u.activeTouch;if(L&&!Ao(u,P)&&L.left!=null&&!L.moved&&new Date-L.start<300){var q=a.coordsChar(u.activeTouch,"page"),Z;!L.prev||b(L,L.prev)?Z=new Ht(q,q):!L.prev.prev||b(L,L.prev.prev)?Z=a.findWordAt(q):Z=new Ht(je(q.line,0),Ue(a.doc,je(q.line+1,0))),a.setSelection(Z.anchor,Z.head),a.focus(),kt(P)}v()}),ye(u.scroller,"touchcancel",v),ye(u.scroller,"scroll",function(){u.scroller.clientHeight&&(du(a,u.scroller.scrollTop),es(a,u.scroller.scrollLeft,!0),tt(a,"scroll",a))}),ye(u.scroller,"mousewheel",function(P){return j0(a,P)}),ye(u.scroller,"DOMMouseScroll",function(P){return j0(a,P)}),ye(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(P){qe(a,P)||V(P)},over:function(P){qe(a,P)||(tT(a,P),V(P))},start:function(P){return eT(a,P)},drop:Hr(a,QE),leave:function(P){qe(a,P)||cw(a)}};var O=u.input.getField();ye(O,"keyup",function(P){return bw.call(a,P)}),ye(O,"keydown",Hr(a,_w)),ye(O,"keypress",Hr(a,xw)),ye(O,"focus",function(P){return Uh(a,P)}),ye(O,"blur",function(P){return Hs(a,P)})}var av=[];ar.defineInitHook=function(a){return av.push(a)};function Au(a,u,p,d){var v=a.doc,w;p==null&&(p="add"),p=="smart"&&(v.mode.indent?w=gi(a,u).state:p="prev");var b=a.options.tabSize,O=it(v,u),P=ze(O.text,null,b);O.stateAfter&&(O.stateAfter=null);var L=O.text.match(/^\s*/)[0],q;if(!d&&!/\S/.test(O.text))q=0,p="not";else if(p=="smart"&&(q=v.mode.indent(w,O.text.slice(L.length),O.text),q==be||q>150)){if(!d)return;p="prev"}p=="prev"?u>v.first?q=ze(it(v,u-1).text,null,b):q=0:p=="add"?q=P+a.options.indentUnit:p=="subtract"?q=P-a.options.indentUnit:typeof p=="number"&&(q=P+p),q=Math.max(0,q);var Z="",ge=0;if(a.options.indentWithTabs)for(var ce=Math.floor(q/b);ce;--ce)ge+=b,Z+="	";if(ge<q&&(Z+=Dt(q-ge)),Z!=L)return Ys(v,Z,je(u,0),je(u,L.length),"+input"),O.stateAfter=null,!0;for(var Se=0;Se<v.sel.ranges.length;Se++){var Re=v.sel.ranges[Se];if(Re.head.line==u&&Re.head.ch<L.length){var Be=je(u,L.length);Qh(v,Se,new Ht(Be,Be));break}}}var Go=null;function If(a){Go=a}function sv(a,u,p,d,v){var w=a.doc;a.display.shift=!1,d||(d=w.sel);var b=+new Date-200,O=v=="paste"||a.state.pasteIncoming>b,P=_r(u),L=null;if(O&&d.ranges.length>1)if(Go&&Go.text.join(`
`)==u){if(d.ranges.length%Go.text.length==0){L=[];for(var q=0;q<Go.text.length;q++)L.push(w.splitLines(Go.text[q]))}}else P.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(L=nr(P,function(Ze){return[Ze]}));for(var Z=a.curOp.updateInput,ge=d.ranges.length-1;ge>=0;ge--){var ce=d.ranges[ge],Se=ce.from(),Re=ce.to();ce.empty()&&(p&&p>0?Se=je(Se.line,Se.ch-p):a.state.overwrite&&!O?Re=je(Re.line,Math.min(it(w,Re.line).text.length,Re.ch+ht(P).length)):O&&Go&&Go.lineWise&&Go.text.join(`
`)==P.join(`
`)&&(Se=Re=je(Se.line,0)));var Be={from:Se,to:Re,text:L?L[ge%L.length]:P,origin:v||(O?"paste":a.state.cutIncoming>b?"cut":"+input")};qs(a.doc,Be),vr(a,"inputRead",a,Be)}u&&!O&&Aw(a,u),Ws(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Z),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function kw(a,u){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&$n(u,function(){return sv(u,p,0,null,"paste")}),!0}function Aw(a,u){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var w=a.getModeAt(v.head),b=!1;if(w.electricChars){for(var O=0;O<w.electricChars.length;O++)if(u.indexOf(w.electricChars.charAt(O))>-1){b=Au(a,v.head.line,"smart");break}}else w.electricInput&&w.electricInput.test(it(a.doc,v.head.line).text.slice(0,v.head.ch))&&(b=Au(a,v.head.line,"smart"));b&&vr(a,"electricInput",a,v.head.line)}}}function Lw(a){for(var u=[],p=[],d=0;d<a.doc.sel.ranges.length;d++){var v=a.doc.sel.ranges[d].head.line,w={anchor:je(v,0),head:je(v+1,0)};p.push(w),u.push(a.getRange(w.anchor,w.head))}return{text:u,ranges:p}}function Mw(a,u,p,d){a.setAttribute("autocorrect",p?"":"off"),a.setAttribute("autocapitalize",d?"":"off"),a.setAttribute("spellcheck",!!u)}function Nw(){var a=W("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),u=W("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?a.style.width="1000px":a.setAttribute("wrap","off"),C&&(a.style.border="1px solid black"),Mw(a),u}function ET(a){var u=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(d,v){var w=this.options,b=w[d];w[d]==v&&d!="mode"||(w[d]=v,u.hasOwnProperty(d)&&Hr(this,u[d])(this,v,b),tt(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](Df(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,w=0;w<v.length;++w)if(v[w]==d||v[w].name==d)return v.splice(w,1),!0},addOverlay:fn(function(d,v){var w=d.token?d:a.getMode(this.options,d);if(w.startState)throw new Error("Overlays may not be stateful.");Kt(this.state.overlays,{mode:w,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(b){return b.priority}),this.state.modeGen++,On(this)}),removeOverlay:fn(function(d){for(var v=this.state.overlays,w=0;w<v.length;++w){var b=v[w].modeSpec;if(b==d||typeof d=="string"&&b.name==d){v.splice(w,1),this.state.modeGen++,On(this);return}}}),indentLine:fn(function(d,v,w){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),zn(this.doc,d)&&Au(this,d,v,w)}),indentSelection:fn(function(d){for(var v=this.doc.sel.ranges,w=-1,b=0;b<v.length;b++){var O=v[b];if(O.empty())O.head.line>w&&(Au(this,O.head.line,d,!0),w=O.head.line,b==this.doc.sel.primIndex&&Ws(this));else{var P=O.from(),L=O.to(),q=Math.max(w,P.line);w=Math.min(this.lastLine(),L.line-(L.ch?0:1))+1;for(var Z=q;Z<w;++Z)Au(this,Z,d);var ge=this.doc.sel.ranges;P.ch==0&&v.length==ge.length&&ge[b].from().ch>0&&Qh(this.doc,b,new Ht(P,ge[b].to()),Te)}}}),getTokenAt:function(d,v){return Yi(this,d,v)},getLineTokens:function(d,v){return Yi(this,je(d),v,!0)},getTokenTypeAt:function(d){d=Ue(this.doc,d);var v=Gi(this,it(this.doc,d.line)),w=0,b=(v.length-1)/2,O=d.ch,P;if(O==0)P=v[2];else for(;;){var L=w+b>>1;if((L?v[L*2-1]:0)>=O)b=L;else if(v[L*2+1]<O)w=L+1;else{P=v[L*2+2];break}}var q=P?P.indexOf("overlay "):-1;return q<0?P:q==0?null:P.slice(0,q-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?a.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var w=[];if(!p.hasOwnProperty(v))return w;var b=p[v],O=this.getModeAt(d);if(typeof O[v]=="string")b[O[v]]&&w.push(b[O[v]]);else if(O[v])for(var P=0;P<O[v].length;P++){var L=b[O[v][P]];L&&w.push(L)}else O.helperType&&b[O.helperType]?w.push(b[O.helperType]):b[O.name]&&w.push(b[O.name]);for(var q=0;q<b._global.length;q++){var Z=b._global[q];Z.pred(O,this)&&Ce(w,Z.val)==-1&&w.push(Z.val)}return w},getStateAfter:function(d,v){var w=this.doc;return d=Fe(w,d??w.first+w.size-1),gi(this,d+1,v).state},cursorCoords:function(d,v){var w,b=this.doc.sel.primary();return d==null?w=b.head:typeof d=="object"?w=Ue(this.doc,d):w=d?b.from():b.to(),$o(this,w,v||"page")},charCoords:function(d,v){return wf(this,Ue(this.doc,d),v||"page")},coordsChar:function(d,v){return d=g0(this,d,v||"page"),Nh(this,d.left,d.top)},lineAtHeight:function(d,v){return d=g0(this,{top:d,left:0},v||"page").top,qt(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,w){var b=!1,O;if(typeof d=="number"){var P=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>P&&(d=P,b=!0),O=it(this.doc,d)}else O=d;return yf(this,O,{top:0,left:0},v||"page",w||b).top+(b?this.doc.height-ko(O):0)},defaultTextHeight:function(){return zs(this.display)},defaultCharWidth:function(){return Bs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,w,b,O){var P=this.display;d=$o(this,Ue(this.doc,d));var L=d.bottom,q=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),P.sizer.appendChild(v),b=="over")L=d.top;else if(b=="above"||b=="near"){var Z=Math.max(P.wrapper.clientHeight,this.doc.height),ge=Math.max(P.sizer.clientWidth,P.lineSpace.clientWidth);(b=="above"||d.bottom+v.offsetHeight>Z)&&d.top>v.offsetHeight?L=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=Z&&(L=d.bottom),q+v.offsetWidth>ge&&(q=ge-v.offsetWidth)}v.style.top=L+"px",v.style.left=v.style.right="",O=="right"?(q=P.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(O=="left"?q=0:O=="middle"&&(q=(P.sizer.clientWidth-v.offsetWidth)/2),v.style.left=q+"px"),w&&CE(this,{left:q,top:L,right:q+v.offsetWidth,bottom:L+v.offsetHeight})},triggerOnKeyDown:fn(_w),triggerOnKeyPress:fn(xw),triggerOnKeyUp:bw,triggerOnMouseDown:fn(Cw),execCommand:function(d){if(Eu.hasOwnProperty(d))return Eu[d].call(null,this)},triggerElectric:fn(function(d){Aw(this,d)}),findPosH:function(d,v,w,b){var O=1;v<0&&(O=-1,v=-v);for(var P=Ue(this.doc,d),L=0;L<v&&(P=lv(this.doc,P,O,w,b),!P.hitSide);++L);return P},moveH:fn(function(d,v){var w=this;this.extendSelectionsBy(function(b){return w.display.shift||w.doc.extend||b.empty()?lv(w.doc,b.head,d,v,w.options.rtlMoveVisually):d<0?b.from():b.to()},Je)}),deleteH:fn(function(d,v){var w=this.doc.sel,b=this.doc;w.somethingSelected()?b.replaceSelection("",null,"+delete"):Zs(this,function(O){var P=lv(b,O.head,d,v,!1);return d<0?{from:P,to:O.head}:{from:O.head,to:P}})}),findPosV:function(d,v,w,b){var O=1,P=b;v<0&&(O=-1,v=-v);for(var L=Ue(this.doc,d),q=0;q<v;++q){var Z=$o(this,L,"div");if(P==null?P=Z.left:Z.left=P,L=Dw(this,Z,O,w),L.hitSide)break}return L},moveV:fn(function(d,v){var w=this,b=this.doc,O=[],P=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(q){if(P)return d<0?q.from():q.to();var Z=$o(w,q.head,"div");q.goalColumn!=null&&(Z.left=q.goalColumn),O.push(Z.left);var ge=Dw(w,Z,d,v);return v=="page"&&q==b.sel.primary()&&Bh(w,wf(w,ge,"div").top-Z.top),ge},Je),O.length)for(var L=0;L<b.sel.ranges.length;L++)b.sel.ranges[L].goalColumn=O[L]}),findWordAt:function(d){var v=this.doc,w=it(v,d.line).text,b=d.ch,O=d.ch;if(w){var P=this.getHelper(d,"wordChars");(d.sticky=="before"||O==w.length)&&b?--b:++O;for(var L=w.charAt(b),q=de(L,P)?function(Z){return de(Z,P)}:/\s/.test(L)?function(Z){return/\s/.test(Z)}:function(Z){return!/\s/.test(Z)&&!de(Z)};b>0&&q(w.charAt(b-1));)--b;for(;O<w.length&&q(w.charAt(O));)++O}return new Ht(je(d.line,b),je(d.line,O))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?oe(this.display.cursorDiv,"CodeMirror-overwrite"):te(this.display.cursorDiv,"CodeMirror-overwrite"),tt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==we()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:fn(function(d,v){fu(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Wn(this)-this.display.barHeight,width:d.scrollWidth-Wn(this)-this.display.barWidth,clientHeight:k(this),clientWidth:Oi(this)}},scrollIntoView:fn(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:je(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?SE(this,d):E0(this,d.from,d.to,d.margin)}),setSize:fn(function(d,v){var w=this,b=function(P){return typeof P=="number"||/^\d+$/.test(String(P))?P+"px":P};d!=null&&(this.display.wrapper.style.width=b(d)),v!=null&&(this.display.wrapper.style.height=b(v)),this.options.lineWrapping&&p0(this);var O=this.display.viewFrom;this.doc.iter(O,this.display.viewTo,function(P){if(P.widgets){for(var L=0;L<P.widgets.length;L++)if(P.widgets[L].noHScroll){aa(w,O,"widget");break}}++O}),this.curOp.forceUpdate=!0,tt(this,"refresh",this)}),operation:function(d){return $n(this,d)},startOperation:function(){return rs(this)},endOperation:function(){return ns(this)},refresh:fn(function(){var d=this.display.cachedTextHeight;On(this),this.curOp.forceUpdate=!0,uu(this),fu(this,this.doc.scrollLeft,this.doc.scrollTop),$h(this.display),(d==null||Math.abs(d-zs(this.display))>.5||this.options.lineWrapping)&&Ih(this),tt(this,"refresh",this)}),swapDoc:fn(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),U0(this,d),uu(this),this.display.input.reset(),fu(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,vr(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rt(a),a.registerHelper=function(d,v,w){p.hasOwnProperty(d)||(p[d]=a[d]={_global:[]}),p[d][v]=w},a.registerGlobalHelper=function(d,v,w,b){a.registerHelper(d,v,b),p[d]._global.push({pred:w,val:b})}}function lv(a,u,p,d,v){var w=u,b=p,O=it(a,u.line),P=v&&a.direction=="rtl"?-p:p;function L(){var ot=u.line+P;return ot<a.first||ot>=a.first+a.size?!1:(u=new je(ot,u.ch,u.sticky),O=it(a,ot))}function q(ot){var Qe;if(d=="codepoint"){var at=O.text.charCodeAt(u.ch+(p>0?0:-1));if(isNaN(at))Qe=null;else{var gt=p>0?at>=55296&&at<56320:at>=56320&&at<57343;Qe=new je(u.line,Math.max(0,Math.min(O.text.length,u.ch+p*(gt?2:1))),-p)}}else v?Qe=sT(a.cm,O,u,p):Qe=tv(O,u,p);if(Qe==null)if(!ot&&L())u=rv(v,a.cm,O,u.line,P);else return!1;else u=Qe;return!0}if(d=="char"||d=="codepoint")q();else if(d=="column")q(!0);else if(d=="word"||d=="group")for(var Z=null,ge=d=="group",ce=a.cm&&a.cm.getHelper(u,"wordChars"),Se=!0;!(p<0&&!q(!Se));Se=!1){var Re=O.text.charAt(u.ch)||`
`,Be=de(Re,ce)?"w":ge&&Re==`
`?"n":!ge||/\s/.test(Re)?null:"p";if(ge&&!Se&&!Be&&(Be="s"),Z&&Z!=Be){p<0&&(p=1,q(),u.sticky="after");break}if(Be&&(Z=Be),p>0&&!q(!Se))break}var Ze=Lf(a,u,w,b,!0);return so(w,Ze)&&(Ze.hitSide=!0),Ze}function Dw(a,u,p,d){var v=a.doc,w=u.left,b;if(d=="page"){var O=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),P=Math.max(O-.5*zs(a.display),3);b=(p>0?u.bottom:u.top)+p*P}else d=="line"&&(b=p>0?u.bottom+3:u.top-3);for(var L;L=Nh(a,w,b),!!L.outside;){if(p<0?b<=0:b>=v.height){L.hitSide=!0;break}b+=p*5}return L}var Gt=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Gt.prototype.init=function(a){var u=this,p=this,d=p.cm,v=p.div=a.lineDiv;v.contentEditable=!0,Mw(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function w(O){for(var P=O.target;P;P=P.parentNode){if(P==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(P.className))break}return!1}ye(v,"paste",function(O){!w(O)||qe(d,O)||kw(O,d)||c<=11&&setTimeout(Hr(d,function(){return u.updateFromDOM()}),20)}),ye(v,"compositionstart",function(O){u.composing={data:O.data,done:!1}}),ye(v,"compositionupdate",function(O){u.composing||(u.composing={data:O.data,done:!1})}),ye(v,"compositionend",function(O){u.composing&&(O.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),ye(v,"touchstart",function(){return p.forceCompositionEnd()}),ye(v,"input",function(){u.composing||u.readFromDOMSoon()});function b(O){if(!(!w(O)||qe(d,O))){if(d.somethingSelected())If({lineWise:!1,text:d.getSelections()}),O.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var P=Lw(d);If({lineWise:!0,text:P.text}),O.type=="cut"&&d.operation(function(){d.setSelections(P.ranges,0,Te),d.replaceSelection("",null,"cut")})}else return;if(O.clipboardData){O.clipboardData.clearData();var L=Go.text.join(`
`);if(O.clipboardData.setData("Text",L),O.clipboardData.getData("Text")==L){O.preventDefault();return}}var q=Nw(),Z=q.firstChild;d.display.lineSpace.insertBefore(q,d.display.lineSpace.firstChild),Z.value=Go.text.join(`
`);var ge=we();De(Z),setTimeout(function(){d.display.lineSpace.removeChild(q),ge.focus(),ge==v&&p.showPrimarySelection()},50)}}ye(v,"copy",b),ye(v,"cut",b)},Gt.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Gt.prototype.prepareSelection=function(){var a=x0(this.cm,!1);return a.focus=we()==this.div,a},Gt.prototype.showSelection=function(a,u){!a||!this.cm.display.view.length||((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Gt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Gt.prototype.showPrimarySelection=function(){var a=this.getSelection(),u=this.cm,p=u.doc.sel.primary(),d=p.from(),v=p.to();if(u.display.viewTo==u.display.viewFrom||d.line>=u.display.viewTo||v.line<u.display.viewFrom){a.removeAllRanges();return}var w=Ff(u,a.anchorNode,a.anchorOffset),b=Ff(u,a.focusNode,a.focusOffset);if(!(w&&!w.bad&&b&&!b.bad&&vt(Oe(w,b),d)==0&&vt(X(w,b),v)==0)){var O=u.display.view,P=d.line>=u.display.viewFrom&&Rw(u,d)||{node:O[0].measure.map[2],offset:0},L=v.line<u.display.viewTo&&Rw(u,v);if(!L){var q=O[O.length-1].measure,Z=q.maps?q.maps[q.maps.length-1]:q.map;L={node:Z[Z.length-1],offset:Z[Z.length-2]-Z[Z.length-3]}}if(!P||!L){a.removeAllRanges();return}var ge=a.rangeCount&&a.getRangeAt(0),ce;try{ce=ie(P.node,P.offset,L.offset,L.node)}catch{}ce&&(!t&&u.state.focused?(a.collapse(P.node,P.offset),ce.collapsed||(a.removeAllRanges(),a.addRange(ce))):(a.removeAllRanges(),a.addRange(ce)),ge&&a.anchorNode==null?a.addRange(ge):t&&this.startGracePeriod()),this.rememberSelection()}},Gt.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Gt.prototype.showMultipleSelections=function(a){R(this.cm.display.cursorDiv,a.cursors),R(this.cm.display.selectionDiv,a.selection)},Gt.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Gt.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var u=a.getRangeAt(0).commonAncestorContainer;return M(this.div,u)},Gt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||we()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Gt.prototype.blur=function(){this.div.blur()},Gt.prototype.getField=function(){return this.div},Gt.prototype.supportsTouch=function(){return!0},Gt.prototype.receivedFocus=function(){var a=this,u=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):$n(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function p(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Gt.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Gt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),u=this.cm;if(S&&g&&this.cm.display.gutterSpecs.length&&TT(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=Ff(u,a.anchorNode,a.anchorOffset),d=Ff(u,a.focusNode,a.focusOffset);p&&d&&$n(u,function(){tn(u.doc,la(p,d),Te),(p.bad||d.bad)&&(u.curOp.selectionChanged=!0)})}}},Gt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>a.firstLine()&&(d=je(d.line-1,it(a.doc,d.line-1).length)),v.ch==it(a.doc,v.line).text.length&&v.line<a.lastLine()&&(v=je(v.line+1,0)),d.line<u.viewFrom||v.line>u.viewTo-1)return!1;var w,b,O;d.line==u.viewFrom||(w=Qa(a,d.line))==0?(b=Mt(u.view[0].line),O=u.view[0].node):(b=Mt(u.view[w].line),O=u.view[w-1].node.nextSibling);var P=Qa(a,v.line),L,q;if(P==u.view.length-1?(L=u.viewTo-1,q=u.lineDiv.lastChild):(L=Mt(u.view[P+1].line)-1,q=u.view[P+1].node.previousSibling),!O)return!1;for(var Z=a.doc.splitLines(PT(a,O,q,b,L)),ge=Ur(a.doc,je(b,0),je(L,it(a.doc,L).text.length));Z.length>1&&ge.length>1;)if(ht(Z)==ht(ge))Z.pop(),ge.pop(),L--;else if(Z[0]==ge[0])Z.shift(),ge.shift(),b++;else break;for(var ce=0,Se=0,Re=Z[0],Be=ge[0],Ze=Math.min(Re.length,Be.length);ce<Ze&&Re.charCodeAt(ce)==Be.charCodeAt(ce);)++ce;for(var ot=ht(Z),Qe=ht(ge),at=Math.min(ot.length-(Z.length==1?ce:0),Qe.length-(ge.length==1?ce:0));Se<at&&ot.charCodeAt(ot.length-Se-1)==Qe.charCodeAt(Qe.length-Se-1);)++Se;if(Z.length==1&&ge.length==1&&b==d.line)for(;ce&&ce>d.ch&&ot.charCodeAt(ot.length-Se-1)==Qe.charCodeAt(Qe.length-Se-1);)ce--,Se++;Z[Z.length-1]=ot.slice(0,ot.length-Se).replace(/^\u200b+/,""),Z[0]=Z[0].slice(ce).replace(/\u200b+$/,"");var gt=je(b,ce),pt=je(L,ge.length?ht(ge).length-Se:0);if(Z.length>1||Z[0]||vt(gt,pt))return Ys(a.doc,Z,gt,pt,"+input"),!0},Gt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Gt.prototype.reset=function(){this.forceCompositionEnd()},Gt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Gt.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Gt.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&$n(this.cm,function(){return On(a.cm)})},Gt.prototype.setUneditable=function(a){a.contentEditable="false"},Gt.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Hr(this.cm,sv)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Gt.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Gt.prototype.onContextMenu=function(){},Gt.prototype.resetPosition=function(){},Gt.prototype.needsContentAttribute=!0;function Rw(a,u){var p=he(a,u.line);if(!p||p.hidden)return null;var d=it(a.doc,u.line),v=J(p,d,u.line),w=I(d,a.doc.direction),b="left";if(w){var O=B(w,u.ch);b=O%2?"right":"left"}var P=Ct(v.map,u.ch,b);return P.offset=P.collapse=="right"?P.end:P.start,P}function TT(a){for(var u=a;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function el(a,u){return u&&(a.bad=!0),a}function PT(a,u,p,d,v){var w="",b=!1,O=a.doc.lineSeparator(),P=!1;function L(ce){return function(Se){return Se.id==ce}}function q(){b&&(w+=O,P&&(w+=O),b=P=!1)}function Z(ce){ce&&(q(),w+=ce)}function ge(ce){if(ce.nodeType==1){var Se=ce.getAttribute("cm-text");if(Se){Z(Se);return}var Re=ce.getAttribute("cm-marker"),Be;if(Re){var Ze=a.findMarks(je(d,0),je(v+1,0),L(+Re));Ze.length&&(Be=Ze[0].find(0))&&Z(Ur(a.doc,Be.from,Be.to).join(O));return}if(ce.getAttribute("contenteditable")=="false")return;var ot=/^(pre|div|p|li|table|br)$/i.test(ce.nodeName);if(!/^br$/i.test(ce.nodeName)&&ce.textContent.length==0)return;ot&&q();for(var Qe=0;Qe<ce.childNodes.length;Qe++)ge(ce.childNodes[Qe]);/^(pre|p)$/i.test(ce.nodeName)&&(P=!0),ot&&(b=!0)}else ce.nodeType==3&&Z(ce.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ge(u),u!=p;)u=u.nextSibling,P=!1;return w}function Ff(a,u,p){var d;if(u==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[p],!d)return el(a.clipPos(je(a.display.viewTo-1)),!0);u=null,p=0}else for(d=u;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var v=0;v<a.display.view.length;v++){var w=a.display.view[v];if(w.node==d)return kT(w,u,p)}}function kT(a,u,p){var d=a.text.firstChild,v=!1;if(!u||!M(d,u))return el(je(Mt(a.line),0),!0);if(u==d&&(v=!0,u=d.childNodes[p],p=0,!u)){var w=a.rest?ht(a.rest):a.line;return el(je(Mt(w),w.text.length),v)}var b=u.nodeType==3?u:null,O=u;for(!b&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(b=u.firstChild,p&&(p=b.nodeValue.length));O.parentNode!=d;)O=O.parentNode;var P=a.measure,L=P.maps;function q(Be,Ze,ot){for(var Qe=-1;Qe<(L?L.length:0);Qe++)for(var at=Qe<0?P.map:L[Qe],gt=0;gt<at.length;gt+=3){var pt=at[gt+2];if(pt==Be||pt==Ze){var Tt=Mt(Qe<0?a.line:a.rest[Qe]),Xt=at[gt]+ot;return(ot<0||pt!=Be)&&(Xt=at[gt+(ot?1:0)]),je(Tt,Xt)}}}var Z=q(b,O,p);if(Z)return el(Z,v);for(var ge=O.nextSibling,ce=b?b.nodeValue.length-p:0;ge;ge=ge.nextSibling){if(Z=q(ge,ge.firstChild,0),Z)return el(je(Z.line,Z.ch-ce),v);ce+=ge.textContent.length}for(var Se=O.previousSibling,Re=p;Se;Se=Se.previousSibling){if(Z=q(Se,Se.firstChild,-1),Z)return el(je(Z.line,Z.ch+Re),v);Re+=Se.textContent.length}}var xr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Pe,this.hasSelection=!1,this.composing=null};xr.prototype.init=function(a){var u=this,p=this,d=this.cm;this.createField(a);var v=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),C&&(v.style.width="0px"),ye(v,"input",function(){l&&c>=9&&u.hasSelection&&(u.hasSelection=null),p.poll()}),ye(v,"paste",function(b){qe(d,b)||kw(b,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function w(b){if(!qe(d,b)){if(d.somethingSelected())If({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var O=Lw(d);If({lineWise:!0,text:O.text}),b.type=="cut"?d.setSelections(O.ranges,null,Te):(p.prevInput="",v.value=O.text.join(`
`),De(v))}else return;b.type=="cut"&&(d.state.cutIncoming=+new Date)}}ye(v,"cut",w),ye(v,"copy",w),ye(a.scroller,"paste",function(b){if(!(Ao(a,b)||qe(d,b))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var O=new Event("paste");O.clipboardData=b.clipboardData,v.dispatchEvent(O)}}),ye(a.lineSpace,"selectstart",function(b){Ao(a,b)||kt(b)}),ye(v,"compositionstart",function(){var b=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:b,range:d.markText(b,d.getCursor("to"),{className:"CodeMirror-composing"})}}),ye(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},xr.prototype.createField=function(a){this.wrapper=Nw(),this.textarea=this.wrapper.firstChild},xr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},xr.prototype.prepareSelection=function(){var a=this.cm,u=a.display,p=a.doc,d=x0(a);if(a.options.moveInputWithCursor){var v=$o(a,p.sel.primary().head,"div"),w=u.wrapper.getBoundingClientRect(),b=u.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,v.top+b.top-w.top)),d.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,v.left+b.left-w.left))}return d},xr.prototype.showSelection=function(a){var u=this.cm,p=u.display;R(p.cursorDiv,a.cursors),R(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},xr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var u=this.cm;if(u.somethingSelected()){this.prevInput="";var p=u.getSelection();this.textarea.value=p,u.state.focused&&De(this.textarea),l&&c>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",l&&c>=9&&(this.hasSelection=null))}},xr.prototype.getField=function(){return this.textarea},xr.prototype.supportsTouch=function(){return!1},xr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!T||we()!=this.textarea))try{this.textarea.focus()}catch{}},xr.prototype.blur=function(){this.textarea.blur()},xr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},xr.prototype.receivedFocus=function(){this.slowPoll()},xr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},xr.prototype.fastPoll=function(){var a=!1,u=this;u.pollingFast=!0;function p(){var d=u.poll();!d&&!a?(a=!0,u.polling.set(60,p)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,p)},xr.prototype.poll=function(){var a=this,u=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||!u.state.focused||Qt(p)&&!d&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var v=p.value;if(v==d&&!u.somethingSelected())return!1;if(l&&c>=9&&this.hasSelection===v||E&&/[\uf700-\uf7ff]/.test(v))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var w=v.charCodeAt(0);if(w==8203&&!d&&(d=""),w==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,O=Math.min(d.length,v.length);b<O&&d.charCodeAt(b)==v.charCodeAt(b);)++b;return $n(u,function(){sv(u,v.slice(b),d.length-b,null,a.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=v,a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},xr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},xr.prototype.onKeyPress=function(){l&&c>=9&&(this.hasSelection=null),this.fastPoll()},xr.prototype.onContextMenu=function(a){var u=this,p=u.cm,d=p.display,v=u.textarea;u.contextMenuPending&&u.contextMenuPending();var w=Za(p,a),b=d.scroller.scrollTop;if(!w||m)return;var O=p.options.resetSelectionOnContextMenu;O&&p.doc.sel.contains(w)==-1&&Hr(p,tn)(p.doc,la(w),Te);var P=v.style.cssText,L=u.wrapper.style.cssText,q=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-q.top-5)+"px; left: "+(a.clientX-q.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Z;f&&(Z=window.scrollY),d.input.focus(),f&&window.scrollTo(null,Z),d.input.reset(),p.somethingSelected()||(v.value=u.prevInput=" "),u.contextMenuPending=ce,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function ge(){if(v.selectionStart!=null){var Re=p.somethingSelected(),Be=""+(Re?v.value:"");v.value="",v.value=Be,u.prevInput=Re?"":"",v.selectionStart=1,v.selectionEnd=Be.length,d.selForContextMenu=p.doc.sel}}function ce(){if(u.contextMenuPending==ce&&(u.contextMenuPending=!1,u.wrapper.style.cssText=L,v.style.cssText=P,l&&c<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=b),v.selectionStart!=null)){(!l||l&&c<9)&&ge();var Re=0,Be=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&u.prevInput==""?Hr(p,Q0)(p):Re++<10?d.detectingSelectAll=setTimeout(Be,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(Be,200)}}if(l&&c>=9&&ge(),Q){V(a);var Se=function(){rt(window,"mouseup",Se),setTimeout(ce,20)};ye(window,"mouseup",Se)}else setTimeout(ce,50)},xr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},xr.prototype.setUneditable=function(){},xr.prototype.needsContentAttribute=!1;function AT(a,u){if(u=u?Ee(u):{},u.value=a.value,!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex),!u.placeholder&&a.placeholder&&(u.placeholder=a.placeholder),u.autofocus==null){var p=we();u.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function d(){a.value=O.getValue()}var v;if(a.form&&(ye(a.form,"submit",d),!u.leaveSubmitMethodAlone)){var w=a.form;v=w.submit;try{var b=w.submit=function(){d(),w.submit=v,w.submit(),w.submit=b}}catch{}}u.finishInit=function(P){P.save=d,P.getTextArea=function(){return a},P.toTextArea=function(){P.toTextArea=isNaN,d(),a.parentNode.removeChild(P.getWrapperElement()),a.style.display="",a.form&&(rt(a.form,"submit",d),!u.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=v))}},a.style.display="none";var O=ar(function(P){return a.parentNode.insertBefore(P,a.nextSibling)},u);return O}function LT(a){a.off=rt,a.on=ye,a.wheelEventPixels=FE,a.Doc=En,a.splitLines=_r,a.countColumn=ze,a.findColumn=He,a.isWordChar=Y,a.Pass=be,a.signal=tt,a.Line=Br,a.changeEnd=ua,a.scrollbarModel=k0,a.Pos=je,a.cmpPos=vt,a.modes=Vn,a.mimeModes=Vt,a.resolveMode=Qr,a.getMode=mt,a.modeExtensions=Un,a.extendMode=xn,a.copyState=Sr,a.startState=ln,a.innerMode=Or,a.commands=Eu,a.keyMap=Ei,a.keyName=vw,a.isModifierKey=pw,a.lookupKey=Js,a.normalizeKeyMap=aT,a.StringStream=Ut,a.SharedTextMarker=Cu,a.TextMarker=fa,a.LineWidget=xu,a.e_preventDefault=kt,a.e_stopPropagation=fr,a.e_stop=V,a.addClass=oe,a.contains=M,a.rmClass=te,a.keyNames=da}xT(ar),ET(ar);var MT="iter insert remove copy getEditor constructor".split(" ");for(var Vf in En.prototype)En.prototype.hasOwnProperty(Vf)&&Ce(MT,Vf)<0&&(ar.prototype[Vf]=function(a){return function(){return a.apply(this.doc,arguments)}}(En.prototype[Vf]));return Rt(En),ar.inputStyles={textarea:xr,contenteditable:Gt},ar.defineMode=function(a){!ar.defaults.mode&&a!="null"&&(ar.defaults.mode=a),br.apply(this,arguments)},ar.defineMIME=jt,ar.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),ar.defineMIME("text/plain","null"),ar.defineExtension=function(a,u){ar.prototype[a]=u},ar.defineDocExtension=function(a,u){En.prototype[a]=u},ar.fromTextArea=AT,LT(ar),ar.version="5.63.0",ar})},656:(n,r,e)=>{(function(t){t(e(237))})(function(t){t.defineMode("css",function(U,R){var W=R.inline;R.propertyKeywords||(R=t.resolveMode("text/css"));var H=U.indentUnit,ie=R.tokenHooks,M=R.documentTypes||{},we=R.mediaTypes||{},oe=R.mediaFeatures||{},xe=R.mediaValueKeywords||{},De=R.propertyKeywords||{},se=R.nonStandardPropertyKeywords||{},Ee=R.fontProperties||{},ze=R.counterDescriptors||{},Pe=R.colorKeywords||{},Ce=R.valueKeywords||{},le=R.allowNested,be=R.lineComment,Te=R.supportsAtComponent===!0,We=U.highlightNonStandardPropertyKeywords!==!1,Je,He;function nt(G,ve){return Je=ve,G}function Dt(G,ve){var fe=G.next();if(ie[fe]){var st=ie[fe](G,ve);if(st!==!1)return st}if(fe=="@")return G.eatWhile(/[\w\\\-]/),nt("def",G.current());if(fe=="="||(fe=="~"||fe=="|")&&G.eat("="))return nt(null,"compare");if(fe=='"'||fe=="'")return ve.tokenize=ht(fe),ve.tokenize(G,ve);if(fe=="#")return G.eatWhile(/[\w\\\-]/),nt("atom","hash");if(fe=="!")return G.match(/^\s*\w*/),nt("keyword","important");if(/\d/.test(fe)||fe=="."&&G.eat(/\d/))return G.eatWhile(/[\w.%]/),nt("number","unit");if(fe==="-"){if(/[\d.]/.test(G.peek()))return G.eatWhile(/[\w.%]/),nt("number","unit");if(G.match(/^-[\w\\\-]*/))return G.eatWhile(/[\w\\\-]/),G.match(/^\s*:/,!1)?nt("variable-2","variable-definition"):nt("variable-2","variable");if(G.match(/^\w+-/))return nt("meta","meta")}else return/[,+>*\/]/.test(fe)?nt(null,"select-op"):fe=="."&&G.match(/^-?[_a-z][_a-z0-9-]*/i)?nt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(fe)?nt(null,fe):G.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(G.current())&&(ve.tokenize=nr),nt("variable callee","variable")):/[\w\\\-]/.test(fe)?(G.eatWhile(/[\w\\\-]/),nt("property","word")):nt(null,null)}function ht(G){return function(ve,fe){for(var st=!1,xt;(xt=ve.next())!=null;){if(xt==G&&!st){G==")"&&ve.backUp(1);break}st=!st&&xt=="\\"}return(xt==G||!st&&G!=")")&&(fe.tokenize=null),nt("string","string")}}function nr(G,ve){return G.next(),G.match(/^\s*[\"\')]/,!1)?ve.tokenize=null:ve.tokenize=ht(")"),nt(null,"(")}function Kt(G,ve,fe){this.type=G,this.indent=ve,this.prev=fe}function _t(G,ve,fe,st){return G.context=new Kt(fe,ve.indentation()+(st===!1?0:H),G.context),fe}function A(G){return G.context.prev&&(G.context=G.context.prev),G.context.type}function z(G,ve,fe){return _e[fe.context.type](G,ve,fe)}function Y(G,ve,fe,st){for(var xt=st||1;xt>0;xt--)fe.context=fe.context.prev;return z(G,ve,fe)}function de(G){var ve=G.current().toLowerCase();Ce.hasOwnProperty(ve)?He="atom":Pe.hasOwnProperty(ve)?He="keyword":He="variable"}var _e={};return _e.top=function(G,ve,fe){if(G=="{")return _t(fe,ve,"block");if(G=="}"&&fe.context.prev)return A(fe);if(Te&&/@component/i.test(G))return _t(fe,ve,"atComponentBlock");if(/^@(-moz-)?document$/i.test(G))return _t(fe,ve,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(G))return _t(fe,ve,"atBlock");if(/^@(font-face|counter-style)/i.test(G))return fe.stateArg=G,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(G))return"keyframes";if(G&&G.charAt(0)=="@")return _t(fe,ve,"at");if(G=="hash")He="builtin";else if(G=="word")He="tag";else{if(G=="variable-definition")return"maybeprop";if(G=="interpolation")return _t(fe,ve,"interpolation");if(G==":")return"pseudo";if(le&&G=="(")return _t(fe,ve,"parens")}return fe.context.type},_e.block=function(G,ve,fe){if(G=="word"){var st=ve.current().toLowerCase();return De.hasOwnProperty(st)?(He="property","maybeprop"):se.hasOwnProperty(st)?(He=We?"string-2":"property","maybeprop"):le?(He=ve.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(He+=" error","maybeprop")}else return G=="meta"?"block":!le&&(G=="hash"||G=="qualifier")?(He="error","block"):_e.top(G,ve,fe)},_e.maybeprop=function(G,ve,fe){return G==":"?_t(fe,ve,"prop"):z(G,ve,fe)},_e.prop=function(G,ve,fe){if(G==";")return A(fe);if(G=="{"&&le)return _t(fe,ve,"propBlock");if(G=="}"||G=="{")return Y(G,ve,fe);if(G=="(")return _t(fe,ve,"parens");if(G=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(ve.current()))He+=" error";else if(G=="word")de(ve);else if(G=="interpolation")return _t(fe,ve,"interpolation");return"prop"},_e.propBlock=function(G,ve,fe){return G=="}"?A(fe):G=="word"?(He="property","maybeprop"):fe.context.type},_e.parens=function(G,ve,fe){return G=="{"||G=="}"?Y(G,ve,fe):G==")"?A(fe):G=="("?_t(fe,ve,"parens"):G=="interpolation"?_t(fe,ve,"interpolation"):(G=="word"&&de(ve),"parens")},_e.pseudo=function(G,ve,fe){return G=="meta"?"pseudo":G=="word"?(He="variable-3",fe.context.type):z(G,ve,fe)},_e.documentTypes=function(G,ve,fe){return G=="word"&&M.hasOwnProperty(ve.current())?(He="tag",fe.context.type):_e.atBlock(G,ve,fe)},_e.atBlock=function(G,ve,fe){if(G=="(")return _t(fe,ve,"atBlock_parens");if(G=="}"||G==";")return Y(G,ve,fe);if(G=="{")return A(fe)&&_t(fe,ve,le?"block":"top");if(G=="interpolation")return _t(fe,ve,"interpolation");if(G=="word"){var st=ve.current().toLowerCase();st=="only"||st=="not"||st=="and"||st=="or"?He="keyword":we.hasOwnProperty(st)?He="attribute":oe.hasOwnProperty(st)?He="property":xe.hasOwnProperty(st)?He="keyword":De.hasOwnProperty(st)?He="property":se.hasOwnProperty(st)?He=We?"string-2":"property":Ce.hasOwnProperty(st)?He="atom":Pe.hasOwnProperty(st)?He="keyword":He="error"}return fe.context.type},_e.atComponentBlock=function(G,ve,fe){return G=="}"?Y(G,ve,fe):G=="{"?A(fe)&&_t(fe,ve,le?"block":"top",!1):(G=="word"&&(He="error"),fe.context.type)},_e.atBlock_parens=function(G,ve,fe){return G==")"?A(fe):G=="{"||G=="}"?Y(G,ve,fe,2):_e.atBlock(G,ve,fe)},_e.restricted_atBlock_before=function(G,ve,fe){return G=="{"?_t(fe,ve,"restricted_atBlock"):G=="word"&&fe.stateArg=="@counter-style"?(He="variable","restricted_atBlock_before"):z(G,ve,fe)},_e.restricted_atBlock=function(G,ve,fe){return G=="}"?(fe.stateArg=null,A(fe)):G=="word"?(fe.stateArg=="@font-face"&&!Ee.hasOwnProperty(ve.current().toLowerCase())||fe.stateArg=="@counter-style"&&!ze.hasOwnProperty(ve.current().toLowerCase())?He="error":He="property","maybeprop"):"restricted_atBlock"},_e.keyframes=function(G,ve,fe){return G=="word"?(He="variable","keyframes"):G=="{"?_t(fe,ve,"top"):z(G,ve,fe)},_e.at=function(G,ve,fe){return G==";"?A(fe):G=="{"||G=="}"?Y(G,ve,fe):(G=="word"?He="tag":G=="hash"&&(He="builtin"),"at")},_e.interpolation=function(G,ve,fe){return G=="}"?A(fe):G=="{"||G==";"?Y(G,ve,fe):(G=="word"?He="variable":G!="variable"&&G!="("&&G!=")"&&(He="error"),"interpolation")},{startState:function(G){return{tokenize:null,state:W?"block":"top",stateArg:null,context:new Kt(W?"block":"top",G||0,null)}},token:function(G,ve){if(!ve.tokenize&&G.eatSpace())return null;var fe=(ve.tokenize||Dt)(G,ve);return fe&&typeof fe=="object"&&(Je=fe[1],fe=fe[0]),He=fe,Je!="comment"&&(ve.state=_e[ve.state](Je,G,ve)),He},indent:function(G,ve){var fe=G.context,st=ve&&ve.charAt(0),xt=fe.indent;return fe.type=="prop"&&(st=="}"||st==")")&&(fe=fe.prev),fe.prev&&(st=="}"&&(fe.type=="block"||fe.type=="top"||fe.type=="interpolation"||fe.type=="restricted_atBlock")?(fe=fe.prev,xt=fe.indent):(st==")"&&(fe.type=="parens"||fe.type=="atBlock_parens")||st=="{"&&(fe.type=="at"||fe.type=="atBlock"))&&(xt=Math.max(0,fe.indent-H))),xt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:be,fold:"brace"}});function o(U){for(var R={},W=0;W<U.length;++W)R[U[W].toLowerCase()]=!0;return R}var i=["domain","regexp","url","url-prefix"],s=o(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=o(l),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=o(f),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=o(g),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],_=o(y),x=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],C=o(x),S=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],T=o(S),E=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],N=o(E),K=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],re=o(K),ue=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Q=o(ue),$=i.concat(l).concat(f).concat(g).concat(y).concat(x).concat(K).concat(ue);t.registerHelper("hintWords","css",$);function te(U,R){for(var W=!1,H;(H=U.next())!=null;){if(W&&H=="/"){R.tokenize=null;break}W=H=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:_,nonStandardPropertyKeywords:C,fontProperties:T,counterDescriptors:N,colorKeywords:re,valueKeywords:Q,tokenHooks:{"/":function(U,R){return U.eat("*")?(R.tokenize=te,te(U,R)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:_,nonStandardPropertyKeywords:C,colorKeywords:re,valueKeywords:Q,fontProperties:T,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,R){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(R.tokenize=te,te(U,R)):["operator","operator"]},":":function(U){return U.match(/^\s*\{/,!1)?[null,null]:!1},$:function(U){return U.match(/^[\w-]+/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(U){return U.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:_,nonStandardPropertyKeywords:C,colorKeywords:re,valueKeywords:Q,fontProperties:T,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,R){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(R.tokenize=te,te(U,R)):["operator","operator"]},"@":function(U){return U.eat("{")?[null,"interpolation"]:U.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(U.eatWhile(/[\w\\\-]/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:c,mediaFeatures:h,propertyKeywords:_,nonStandardPropertyKeywords:C,fontProperties:T,counterDescriptors:N,colorKeywords:re,valueKeywords:Q,supportsAtComponent:!0,tokenHooks:{"/":function(U,R){return U.eat("*")?(R.tokenize=te,te(U,R)):!1}},name:"css",helperType:"gss"})})},520:(n,r,e)=>{(function(t){t(e(237),e(576),e(792),e(656))})(function(t){var o={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,y,_){var x=m.current(),C=x.search(y);return C>-1?m.backUp(x.length-C):x.match(/<\/?$/)&&(m.backUp(x.length),m.match(y,!1)||m.match(x)),_}var s={};function l(m){var y=s[m];return y||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function c(m,y){var _=m.match(l(y));return _?/^\s*(.*?)\s*$/.exec(_[2])[1]:""}function f(m,y){return new RegExp((y?"^":"")+"</s*"+m+"s*>","i")}function h(m,y){for(var _ in m)for(var x=y[_]||(y[_]=[]),C=m[_],S=C.length-1;S>=0;S--)x.unshift(C[S])}function g(m,y){for(var _=0;_<m.length;_++){var x=m[_];if(!x[0]||x[1].test(c(y,x[0])))return x[2]}}t.defineMode("htmlmixed",function(m,y){var _=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:y.multilineTagIndentFactor,multilineTagIndentPastTag:y.multilineTagIndentPastTag,allowMissingTagName:y.allowMissingTagName}),x={},C=y&&y.tags,S=y&&y.scriptTypes;if(h(o,x),C&&h(C,x),S)for(var T=S.length-1;T>=0;T--)x.script.unshift(["type",S[T].matches,S[T].mode]);function E(N,K){var re=_.token(N,K.htmlState),ue=/\btag\b/.test(re),Q;if(ue&&!/[<>\s\/]/.test(N.current())&&(Q=K.htmlState.tagName&&K.htmlState.tagName.toLowerCase())&&x.hasOwnProperty(Q))K.inTag=Q+" ";else if(K.inTag&&ue&&/>$/.test(N.current())){var $=/^([\S]+) (.*)/.exec(K.inTag);K.inTag=null;var te=N.current()==">"&&g(x[$[1]],$[2]),U=t.getMode(m,te),R=f($[1],!0),W=f($[1],!1);K.token=function(H,ie){return H.match(R,!1)?(ie.token=E,ie.localState=ie.localMode=null,null):i(H,W,ie.localMode.token(H,ie.localState))},K.localMode=U,K.localState=t.startState(U,_.indent(K.htmlState,"",""))}else K.inTag&&(K.inTag+=N.current(),N.eol()&&(K.inTag+=" "));return re}return{startState:function(){var N=t.startState(_);return{token:E,inTag:null,localMode:null,localState:null,htmlState:N}},copyState:function(N){var K;return N.localState&&(K=t.copyState(N.localMode,N.localState)),{token:N.token,inTag:N.inTag,localMode:N.localMode,localState:K,htmlState:t.copyState(_,N.htmlState)}},token:function(N,K){return K.token(N,K)},indent:function(N,K,re){return!N.localMode||/^\s*<\//.test(K)?_.indent(N.htmlState,K,re):N.localMode.indent?N.localMode.indent(N.localState,K,re):t.Pass},innerMode:function(N){return{state:N.localState||N.htmlState,mode:N.localMode||_}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},792:(n,r,e)=>{(function(t){t(e(237))})(function(t){t.defineMode("javascript",function(o,i){var s=o.indentUnit,l=i.statementIndent,c=i.jsonld,f=i.json||c,h=i.trackScope!==!1,g=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function j(tr){return{type:tr,style:"keyword"}}var X=j("keyword a"),Oe=j("keyword b"),Fe=j("keyword c"),Ue=j("keyword d"),Ot=j("operator"),At={type:"atom",style:"atom"};return{if:j("if"),while:X,with:X,else:Oe,do:Oe,try:Oe,finally:Oe,return:Ue,break:Ue,continue:Ue,new:j("new"),delete:Fe,void:Fe,throw:Fe,debugger:j("debugger"),var:j("var"),const:j("var"),let:j("var"),function:j("function"),catch:j("catch"),for:j("for"),switch:j("switch"),case:j("case"),default:j("default"),in:Ot,typeof:Ot,instanceof:Ot,true:At,false:At,null:At,undefined:At,NaN:At,Infinity:At,this:j("this"),class:j("class"),super:j("atom"),yield:Fe,export:j("export"),import:j("import"),extends:Fe,await:Fe}}(),_=/[+\-*&%=<>!?|~^@]/,x=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function C(j){for(var X=!1,Oe,Fe=!1;(Oe=j.next())!=null;){if(!X){if(Oe=="/"&&!Fe)return;Oe=="["?Fe=!0:Fe&&Oe=="]"&&(Fe=!1)}X=!X&&Oe=="\\"}}var S,T;function E(j,X,Oe){return S=j,T=Oe,X}function N(j,X){var Oe=j.next();if(Oe=='"'||Oe=="'")return X.tokenize=K(Oe),X.tokenize(j,X);if(Oe=="."&&j.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return E("number","number");if(Oe=="."&&j.match(".."))return E("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Oe))return E(Oe);if(Oe=="="&&j.eat(">"))return E("=>","operator");if(Oe=="0"&&j.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return E("number","number");if(/\d/.test(Oe))return j.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),E("number","number");if(Oe=="/")return j.eat("*")?(X.tokenize=re,re(j,X)):j.eat("/")?(j.skipToEnd(),E("comment","comment")):so(j,X,1)?(C(j),j.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),E("regexp","string-2")):(j.eat("="),E("operator","operator",j.current()));if(Oe=="`")return X.tokenize=ue,ue(j,X);if(Oe=="#"&&j.peek()=="!")return j.skipToEnd(),E("meta","meta");if(Oe=="#"&&j.eatWhile(m))return E("variable","property");if(Oe=="<"&&j.match("!--")||Oe=="-"&&j.match("->")&&!/\S/.test(j.string.slice(0,j.start)))return j.skipToEnd(),E("comment","comment");if(_.test(Oe))return(Oe!=">"||!X.lexical||X.lexical.type!=">")&&(j.eat("=")?(Oe=="!"||Oe=="=")&&j.eat("="):/[<>*+\-|&?]/.test(Oe)&&(j.eat(Oe),Oe==">"&&j.eat(Oe))),Oe=="?"&&j.eat(".")?E("."):E("operator","operator",j.current());if(m.test(Oe)){j.eatWhile(m);var Fe=j.current();if(X.lastType!="."){if(y.propertyIsEnumerable(Fe)){var Ue=y[Fe];return E(Ue.type,Ue.style,Fe)}if(Fe=="async"&&j.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return E("async","keyword",Fe)}return E("variable","variable",Fe)}}function K(j){return function(X,Oe){var Fe=!1,Ue;if(c&&X.peek()=="@"&&X.match(x))return Oe.tokenize=N,E("jsonld-keyword","meta");for(;(Ue=X.next())!=null&&!(Ue==j&&!Fe);)Fe=!Fe&&Ue=="\\";return Fe||(Oe.tokenize=N),E("string","string")}}function re(j,X){for(var Oe=!1,Fe;Fe=j.next();){if(Fe=="/"&&Oe){X.tokenize=N;break}Oe=Fe=="*"}return E("comment","comment")}function ue(j,X){for(var Oe=!1,Fe;(Fe=j.next())!=null;){if(!Oe&&(Fe=="`"||Fe=="$"&&j.eat("{"))){X.tokenize=N;break}Oe=!Oe&&Fe=="\\"}return E("quasi","string-2",j.current())}var Q="([{}])";function $(j,X){X.fatArrowAt&&(X.fatArrowAt=null);var Oe=j.string.indexOf("=>",j.start);if(!(Oe<0)){if(g){var Fe=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(j.string.slice(j.start,Oe));Fe&&(Oe=Fe.index)}for(var Ue=0,Ot=!1,At=Oe-1;At>=0;--At){var tr=j.string.charAt(At),Bt=Q.indexOf(tr);if(Bt>=0&&Bt<3){if(!Ue){++At;break}if(--Ue==0){tr=="("&&(Ot=!0);break}}else if(Bt>=3&&Bt<6)++Ue;else if(m.test(tr))Ot=!0;else if(/["'\/`]/.test(tr))for(;;--At){if(At==0)return;var Bn=j.string.charAt(At-1);if(Bn==tr&&j.string.charAt(At-2)!="\\"){At--;break}}else if(Ot&&!Ue){++At;break}}Ot&&!Ue&&(X.fatArrowAt=At)}}var te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function U(j,X,Oe,Fe,Ue,Ot){this.indented=j,this.column=X,this.type=Oe,this.prev=Ue,this.info=Ot,Fe!=null&&(this.align=Fe)}function R(j,X){if(!h)return!1;for(var Oe=j.localVars;Oe;Oe=Oe.next)if(Oe.name==X)return!0;for(var Fe=j.context;Fe;Fe=Fe.prev)for(var Oe=Fe.vars;Oe;Oe=Oe.next)if(Oe.name==X)return!0}function W(j,X,Oe,Fe,Ue){var Ot=j.cc;for(H.state=j,H.stream=Ue,H.marked=null,H.cc=Ot,H.style=X,j.lexical.hasOwnProperty("align")||(j.lexical.align=!0);;){var At=Ot.length?Ot.pop():f?nt:Je;if(At(Oe,Fe)){for(;Ot.length&&Ot[Ot.length-1].lex;)Ot.pop()();return H.marked?H.marked:Oe=="variable"&&R(j,Fe)?"variable-2":X}}}var H={state:null,column:null,marked:null,cc:null};function ie(){for(var j=arguments.length-1;j>=0;j--)H.cc.push(arguments[j])}function M(){return ie.apply(null,arguments),!0}function we(j,X){for(var Oe=X;Oe;Oe=Oe.next)if(Oe.name==j)return!0;return!1}function oe(j){var X=H.state;if(H.marked="def",!!h){if(X.context){if(X.lexical.info=="var"&&X.context&&X.context.block){var Oe=xe(j,X.context);if(Oe!=null){X.context=Oe;return}}else if(!we(j,X.localVars)){X.localVars=new Ee(j,X.localVars);return}}i.globalVars&&!we(j,X.globalVars)&&(X.globalVars=new Ee(j,X.globalVars))}}function xe(j,X){if(X)if(X.block){var Oe=xe(j,X.prev);return Oe?Oe==X.prev?X:new se(Oe,X.vars,!0):null}else return we(j,X.vars)?X:new se(X.prev,new Ee(j,X.vars),!1);else return null}function De(j){return j=="public"||j=="private"||j=="protected"||j=="abstract"||j=="readonly"}function se(j,X,Oe){this.prev=j,this.vars=X,this.block=Oe}function Ee(j,X){this.name=j,this.next=X}var ze=new Ee("this",new Ee("arguments",null));function Pe(){H.state.context=new se(H.state.context,H.state.localVars,!1),H.state.localVars=ze}function Ce(){H.state.context=new se(H.state.context,H.state.localVars,!0),H.state.localVars=null}function le(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}le.lex=!0;function be(j,X){var Oe=function(){var Fe=H.state,Ue=Fe.indented;if(Fe.lexical.type=="stat")Ue=Fe.lexical.indented;else for(var Ot=Fe.lexical;Ot&&Ot.type==")"&&Ot.align;Ot=Ot.prev)Ue=Ot.indented;Fe.lexical=new U(Ue,H.stream.column(),j,null,Fe.lexical,X)};return Oe.lex=!0,Oe}function Te(){var j=H.state;j.lexical.prev&&(j.lexical.type==")"&&(j.indented=j.lexical.indented),j.lexical=j.lexical.prev)}Te.lex=!0;function We(j){function X(Oe){return Oe==j?M():j==";"||Oe=="}"||Oe==")"||Oe=="]"?ie():M(X)}return X}function Je(j,X){return j=="var"?M(be("vardef",X),dt,We(";"),Te):j=="keyword a"?M(be("form"),ht,Je,Te):j=="keyword b"?M(be("form"),Je,Te):j=="keyword d"?H.stream.match(/^\s*$/,!1)?M():M(be("stat"),Kt,We(";"),Te):j=="debugger"?M(We(";")):j=="{"?M(be("}"),Ce,ye,Te,le):j==";"?M():j=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==Te&&H.state.cc.pop()(),M(be("form"),ht,Je,Te,er)):j=="function"?M(br):j=="for"?M(be("form"),Ce,sn,Je,le,Te):j=="class"||g&&X=="interface"?(H.marked="keyword",M(be("form",j=="class"?j:X),xn,Te)):j=="variable"?g&&X=="declare"?(H.marked="keyword",M(Je)):g&&(X=="module"||X=="enum"||X=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",X=="enum"?M(ao):X=="type"?M(Qr,We("operator"),ut,We(";")):M(be("form"),bt,We("{"),be("}"),ye,Te,Te)):g&&X=="namespace"?(H.marked="keyword",M(be("form"),nt,Je,Te)):g&&X=="abstract"?(H.marked="keyword",M(Je)):M(be("stat"),st):j=="switch"?M(be("form"),ht,We("{"),be("}","switch"),Ce,ye,Te,Te,le):j=="case"?M(nt,We(":")):j=="default"?M(We(":")):j=="catch"?M(be("form"),Pe,He,Je,Te,le):j=="export"?M(be("stat"),Ut,Te):j=="import"?M(be("stat"),Ur,Te):j=="async"?M(Je):X=="@"?M(nt,Je):ie(be("stat"),nt,We(";"),Te)}function He(j){if(j=="(")return M(mt,We(")"))}function nt(j,X){return nr(j,X,!1)}function Dt(j,X){return nr(j,X,!0)}function ht(j){return j!="("?ie():M(be(")"),Kt,We(")"),Te)}function nr(j,X,Oe){if(H.state.fatArrowAt==H.stream.start){var Fe=Oe?_e:de;if(j=="(")return M(Pe,be(")"),I(mt,")"),Te,We("=>"),Fe,le);if(j=="variable")return ie(Pe,bt,We("=>"),Fe,le)}var Ue=Oe?A:_t;return te.hasOwnProperty(j)?M(Ue):j=="function"?M(br,Ue):j=="class"||g&&X=="interface"?(H.marked="keyword",M(be("form"),Un,Te)):j=="keyword c"||j=="async"?M(Oe?Dt:nt):j=="("?M(be(")"),Kt,We(")"),Te,Ue):j=="operator"||j=="spread"?M(Oe?Dt:nt):j=="["?M(be("]"),zn,Te,Ue):j=="{"?Ae(yt,"}",null,Ue):j=="quasi"?ie(z,Ue):j=="new"?M(G(Oe)):M()}function Kt(j){return j.match(/[;\}\)\],]/)?ie():ie(nt)}function _t(j,X){return j==","?M(Kt):A(j,X,!1)}function A(j,X,Oe){var Fe=Oe==!1?_t:A,Ue=Oe==!1?nt:Dt;if(j=="=>")return M(Pe,Oe?_e:de,le);if(j=="operator")return/\+\+|--/.test(X)||g&&X=="!"?M(Fe):g&&X=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(be(">"),I(ut,">"),Te,Fe):X=="?"?M(nt,We(":"),Ue):M(Ue);if(j=="quasi")return ie(z,Fe);if(j!=";"){if(j=="(")return Ae(Dt,")","call",Fe);if(j==".")return M(xt,Fe);if(j=="[")return M(be("]"),Kt,We("]"),Te,Fe);if(g&&X=="as")return H.marked="keyword",M(ut,Fe);if(j=="regexp")return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),M(Ue)}}function z(j,X){return j!="quasi"?ie():X.slice(X.length-2)!="${"?M(z):M(Kt,Y)}function Y(j){if(j=="}")return H.marked="string-2",H.state.tokenize=ue,M(z)}function de(j){return $(H.stream,H.state),ie(j=="{"?Je:nt)}function _e(j){return $(H.stream,H.state),ie(j=="{"?Je:Dt)}function G(j){return function(X){return X=="."?M(j?fe:ve):X=="variable"&&g?M(pe,j?A:_t):ie(j?Dt:nt)}}function ve(j,X){if(X=="target")return H.marked="keyword",M(_t)}function fe(j,X){if(X=="target")return H.marked="keyword",M(A)}function st(j){return j==":"?M(Te,Je):ie(_t,We(";"),Te)}function xt(j){if(j=="variable")return H.marked="property",M()}function yt(j,X){if(j=="async")return H.marked="property",M(yt);if(j=="variable"||H.style=="keyword"){if(H.marked="property",X=="get"||X=="set")return M(B);var Oe;return g&&H.state.fatArrowAt==H.stream.start&&(Oe=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+Oe[0].length),M(ae)}else{if(j=="number"||j=="string")return H.marked=c?"property":H.style+" property",M(ae);if(j=="jsonld-keyword")return M(ae);if(g&&De(X))return H.marked="keyword",M(yt);if(j=="[")return M(nt,Ie,We("]"),ae);if(j=="spread")return M(Dt,ae);if(X=="*")return H.marked="keyword",M(yt);if(j==":")return ie(ae)}}function B(j){return j!="variable"?ie(ae):(H.marked="property",M(br))}function ae(j){if(j==":")return M(Dt);if(j=="(")return ie(br)}function I(j,X,Oe){function Fe(Ue,Ot){if(Oe?Oe.indexOf(Ue)>-1:Ue==","){var At=H.state.lexical;return At.info=="call"&&(At.pos=(At.pos||0)+1),M(function(tr,Bt){return tr==X||Bt==X?ie():ie(j)},Fe)}return Ue==X||Ot==X?M():Oe&&Oe.indexOf(";")>-1?ie(j):M(We(X))}return function(Ue,Ot){return Ue==X||Ot==X?M():ie(j,Fe)}}function Ae(j,X,Oe){for(var Fe=3;Fe<arguments.length;Fe++)H.cc.push(arguments[Fe]);return M(be(X,Oe),I(j,X),Te)}function ye(j){return j=="}"?M():ie(Je,ye)}function Ie(j,X){if(g){if(j==":")return M(ut);if(X=="?")return M(Ie)}}function rt(j,X){if(g&&(j==":"||X=="in"))return M(ut)}function tt(j){if(g&&j==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?M(nt,qe,ut):M(ut)}function qe(j,X){if(X=="is")return H.marked="keyword",M()}function ut(j,X){if(X=="keyof"||X=="typeof"||X=="infer"||X=="readonly")return H.marked="keyword",M(X=="typeof"?Dt:ut);if(j=="variable"||X=="void")return H.marked="type",M(ee);if(X=="|"||X=="&")return M(ut);if(j=="string"||j=="number"||j=="atom")return M(ee);if(j=="[")return M(be("]"),I(ut,"]",","),Te,ee);if(j=="{")return M(be("}"),Rt,Te,ee);if(j=="(")return M(I(V,")"),Et,ee);if(j=="<")return M(I(ut,">"),ut);if(j=="quasi")return ie(fr,ee)}function Et(j){if(j=="=>")return M(ut)}function Rt(j){return j.match(/[\}\)\]]/)?M():j==","||j==";"?M(Rt):ie(kt,Rt)}function kt(j,X){if(j=="variable"||H.style=="keyword")return H.marked="property",M(kt);if(X=="?"||j=="number"||j=="string")return M(kt);if(j==":")return M(ut);if(j=="[")return M(We("variable"),rt,We("]"),kt);if(j=="(")return ie(jt,kt);if(!j.match(/[;\}\)\],]/))return M()}function fr(j,X){return j!="quasi"?ie():X.slice(X.length-2)!="${"?M(fr):M(ut,Mr)}function Mr(j){if(j=="}")return H.marked="string-2",H.state.tokenize=ue,M(fr)}function V(j,X){return j=="variable"&&H.stream.match(/^\s*[?:]/,!1)||X=="?"?M(V):j==":"?M(ut):j=="spread"?M(V):ie(ut)}function ee(j,X){if(X=="<")return M(be(">"),I(ut,">"),Te,ee);if(X=="|"||j=="."||X=="&")return M(ut);if(j=="[")return M(ut,We("]"),ee);if(X=="extends"||X=="implements")return H.marked="keyword",M(ut);if(X=="?")return M(ut,We(":"),ut)}function pe(j,X){if(X=="<")return M(be(">"),I(ut,">"),Te,ee)}function Me(){return ie(ut,Ge)}function Ge(j,X){if(X=="=")return M(ut)}function dt(j,X){return X=="enum"?(H.marked="keyword",M(ao)):ie(bt,Ie,Qt,io)}function bt(j,X){if(g&&De(X))return H.marked="keyword",M(bt);if(j=="variable")return oe(X),M();if(j=="spread")return M(bt);if(j=="[")return Ae(_r,"]");if(j=="{")return Ae(Zt,"}")}function Zt(j,X){return j=="variable"&&!H.stream.match(/^\s*:/,!1)?(oe(X),M(Qt)):(j=="variable"&&(H.marked="property"),j=="spread"?M(bt):j=="}"?ie():j=="["?M(nt,We("]"),We(":"),Zt):M(We(":"),bt,Qt))}function _r(){return ie(bt,Qt)}function Qt(j,X){if(X=="=")return M(Dt)}function io(j){if(j==",")return M(dt)}function er(j,X){if(j=="keyword b"&&X=="else")return M(be("form","else"),Je,Te)}function sn(j,X){if(X=="await")return M(sn);if(j=="(")return M(be(")"),Vn,Te)}function Vn(j){return j=="var"?M(dt,Vt):j=="variable"?M(Vt):ie(Vt)}function Vt(j,X){return j==")"?M():j==";"?M(Vt):X=="in"||X=="of"?(H.marked="keyword",M(nt,Vt)):ie(nt,Vt)}function br(j,X){if(X=="*")return H.marked="keyword",M(br);if(j=="variable")return oe(X),M(br);if(j=="(")return M(Pe,be(")"),I(mt,")"),Te,tt,Je,le);if(g&&X=="<")return M(be(">"),I(Me,">"),Te,br)}function jt(j,X){if(X=="*")return H.marked="keyword",M(jt);if(j=="variable")return oe(X),M(jt);if(j=="(")return M(Pe,be(")"),I(mt,")"),Te,tt,le);if(g&&X=="<")return M(be(">"),I(Me,">"),Te,jt)}function Qr(j,X){if(j=="keyword"||j=="variable")return H.marked="type",M(Qr);if(X=="<")return M(be(">"),I(Me,">"),Te)}function mt(j,X){return X=="@"&&M(nt,mt),j=="spread"?M(mt):g&&De(X)?(H.marked="keyword",M(mt)):g&&j=="this"?M(Ie,Qt):ie(bt,Ie,Qt)}function Un(j,X){return j=="variable"?xn(j,X):Sr(j,X)}function xn(j,X){if(j=="variable")return oe(X),M(Sr)}function Sr(j,X){if(X=="<")return M(be(">"),I(Me,">"),Te,Sr);if(X=="extends"||X=="implements"||g&&j==",")return X=="implements"&&(H.marked="keyword"),M(g?ut:nt,Sr);if(j=="{")return M(be("}"),Or,Te)}function Or(j,X){if(j=="async"||j=="variable"&&(X=="static"||X=="get"||X=="set"||g&&De(X))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return H.marked="keyword",M(Or);if(j=="variable"||H.style=="keyword")return H.marked="property",M(ln,Or);if(j=="number"||j=="string")return M(ln,Or);if(j=="[")return M(nt,Ie,We("]"),ln,Or);if(X=="*")return H.marked="keyword",M(Or);if(g&&j=="(")return ie(jt,Or);if(j==";"||j==",")return M(Or);if(j=="}")return M();if(X=="@")return M(nt,Or)}function ln(j,X){if(X=="!"||X=="?")return M(ln);if(j==":")return M(ut,Qt);if(X=="=")return M(Dt);var Oe=H.state.lexical.prev,Fe=Oe&&Oe.info=="interface";return ie(Fe?jt:br)}function Ut(j,X){return X=="*"?(H.marked="keyword",M(qt,We(";"))):X=="default"?(H.marked="keyword",M(nt,We(";"))):j=="{"?M(I(it,"}"),qt,We(";")):ie(Je)}function it(j,X){if(X=="as")return H.marked="keyword",M(We("variable"));if(j=="variable")return ie(Dt,it)}function Ur(j){return j=="string"?M():j=="("?ie(nt):j=="."?ie(_t):ie(or,zr,qt)}function or(j,X){return j=="{"?Ae(or,"}"):(j=="variable"&&oe(X),X=="*"&&(H.marked="keyword"),M(Mt))}function zr(j){if(j==",")return M(or,zr)}function Mt(j,X){if(X=="as")return H.marked="keyword",M(or)}function qt(j,X){if(X=="from")return H.marked="keyword",M(nt)}function zn(j){return j=="]"?M():ie(I(Dt,"]"))}function ao(){return ie(be("form"),bt,We("{"),be("}"),I(je,"}"),Te,Te)}function je(){return ie(bt,Qt)}function vt(j,X){return j.lastType=="operator"||j.lastType==","||_.test(X.charAt(0))||/[,.]/.test(X.charAt(0))}function so(j,X,Oe){return X.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(X.lastType)||X.lastType=="quasi"&&/\{\s*$/.test(j.string.slice(0,j.pos-(Oe||0)))}return{startState:function(j){var X={tokenize:N,lastType:"sof",cc:[],lexical:new U((j||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new se(null,null,!1),indented:j||0};return i.globalVars&&typeof i.globalVars=="object"&&(X.globalVars=i.globalVars),X},token:function(j,X){if(j.sol()&&(X.lexical.hasOwnProperty("align")||(X.lexical.align=!1),X.indented=j.indentation(),$(j,X)),X.tokenize!=re&&j.eatSpace())return null;var Oe=X.tokenize(j,X);return S=="comment"?Oe:(X.lastType=S=="operator"&&(T=="++"||T=="--")?"incdec":S,W(X,Oe,S,T,j))},indent:function(j,X){if(j.tokenize==re||j.tokenize==ue)return t.Pass;if(j.tokenize!=N)return 0;var Oe=X&&X.charAt(0),Fe=j.lexical,Ue;if(!/^\s*else\b/.test(X))for(var Ot=j.cc.length-1;Ot>=0;--Ot){var At=j.cc[Ot];if(At==Te)Fe=Fe.prev;else if(At!=er&&At!=le)break}for(;(Fe.type=="stat"||Fe.type=="form")&&(Oe=="}"||(Ue=j.cc[j.cc.length-1])&&(Ue==_t||Ue==A)&&!/^[,\.=+\-*:?[\(]/.test(X));)Fe=Fe.prev;l&&Fe.type==")"&&Fe.prev.type=="stat"&&(Fe=Fe.prev);var tr=Fe.type,Bt=Oe==tr;return tr=="vardef"?Fe.indented+(j.lastType=="operator"||j.lastType==","?Fe.info.length+1:0):tr=="form"&&Oe=="{"?Fe.indented:tr=="form"?Fe.indented+s:tr=="stat"?Fe.indented+(vt(j,X)?l||s:0):Fe.info=="switch"&&!Bt&&i.doubleIndentSwitch!=!1?Fe.indented+(/^(?:case|default)\b/.test(X)?s:2*s):Fe.align?Fe.column+(Bt?0:1):Fe.indented+(Bt?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:c,jsonMode:f,expressionAllowed:so,skipExpression:function(j){W(j,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},576:(n,r,e)=>{(function(t){t(e(237))})(function(t){var o={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,l){var c=s.indentUnit,f={},h=l.htmlMode?o:i;for(var g in h)f[g]=h[g];for(var g in l)f[g]=l[g];var m,y;function _(M,we){function oe(se){return we.tokenize=se,se(M,we)}var xe=M.next();if(xe=="<")return M.eat("!")?M.eat("[")?M.match("CDATA[")?oe(S("atom","]]>")):null:M.match("--")?oe(S("comment","-->")):M.match("DOCTYPE",!0,!0)?(M.eatWhile(/[\w\._\-]/),oe(T(1))):null:M.eat("?")?(M.eatWhile(/[\w\._\-]/),we.tokenize=S("meta","?>"),"meta"):(m=M.eat("/")?"closeTag":"openTag",we.tokenize=x,"tag bracket");if(xe=="&"){var De;return M.eat("#")?M.eat("x")?De=M.eatWhile(/[a-fA-F\d]/)&&M.eat(";"):De=M.eatWhile(/[\d]/)&&M.eat(";"):De=M.eatWhile(/[\w\.\-:]/)&&M.eat(";"),De?"atom":"error"}else return M.eatWhile(/[^&<]/),null}_.isInText=!0;function x(M,we){var oe=M.next();if(oe==">"||oe=="/"&&M.eat(">"))return we.tokenize=_,m=oe==">"?"endTag":"selfcloseTag","tag bracket";if(oe=="=")return m="equals",null;if(oe=="<"){we.tokenize=_,we.state=ue,we.tagName=we.tagStart=null;var xe=we.tokenize(M,we);return xe?xe+" tag error":"tag error"}else return/[\'\"]/.test(oe)?(we.tokenize=C(oe),we.stringStartCol=M.column(),we.tokenize(M,we)):(M.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function C(M){var we=function(oe,xe){for(;!oe.eol();)if(oe.next()==M){xe.tokenize=x;break}return"string"};return we.isInAttribute=!0,we}function S(M,we){return function(oe,xe){for(;!oe.eol();){if(oe.match(we)){xe.tokenize=_;break}oe.next()}return M}}function T(M){return function(we,oe){for(var xe;(xe=we.next())!=null;){if(xe=="<")return oe.tokenize=T(M+1),oe.tokenize(we,oe);if(xe==">")if(M==1){oe.tokenize=_;break}else return oe.tokenize=T(M-1),oe.tokenize(we,oe)}return"meta"}}function E(M){return M&&M.toLowerCase()}function N(M,we,oe){this.prev=M.context,this.tagName=we||"",this.indent=M.indented,this.startOfLine=oe,(f.doNotIndent.hasOwnProperty(we)||M.context&&M.context.noIndent)&&(this.noIndent=!0)}function K(M){M.context&&(M.context=M.context.prev)}function re(M,we){for(var oe;;){if(!M.context||(oe=M.context.tagName,!f.contextGrabbers.hasOwnProperty(E(oe))||!f.contextGrabbers[E(oe)].hasOwnProperty(E(we))))return;K(M)}}function ue(M,we,oe){return M=="openTag"?(oe.tagStart=we.column(),Q):M=="closeTag"?$:ue}function Q(M,we,oe){return M=="word"?(oe.tagName=we.current(),y="tag",R):f.allowMissingTagName&&M=="endTag"?(y="tag bracket",R(M,we,oe)):(y="error",Q)}function $(M,we,oe){if(M=="word"){var xe=we.current();return oe.context&&oe.context.tagName!=xe&&f.implicitlyClosed.hasOwnProperty(E(oe.context.tagName))&&K(oe),oe.context&&oe.context.tagName==xe||f.matchClosing===!1?(y="tag",te):(y="tag error",U)}else return f.allowMissingTagName&&M=="endTag"?(y="tag bracket",te(M,we,oe)):(y="error",U)}function te(M,we,oe){return M!="endTag"?(y="error",te):(K(oe),ue)}function U(M,we,oe){return y="error",te(M,we,oe)}function R(M,we,oe){if(M=="word")return y="attribute",W;if(M=="endTag"||M=="selfcloseTag"){var xe=oe.tagName,De=oe.tagStart;return oe.tagName=oe.tagStart=null,M=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(E(xe))?re(oe,xe):(re(oe,xe),oe.context=new N(oe,xe,De==oe.indented)),ue}return y="error",R}function W(M,we,oe){return M=="equals"?H:(f.allowMissing||(y="error"),R(M,we,oe))}function H(M,we,oe){return M=="string"?ie:M=="word"&&f.allowUnquoted?(y="string",R):(y="error",R(M,we,oe))}function ie(M,we,oe){return M=="string"?ie:R(M,we,oe)}return{startState:function(M){var we={tokenize:_,state:ue,indented:M||0,tagName:null,tagStart:null,context:null};return M!=null&&(we.baseIndent=M),we},token:function(M,we){if(!we.tagName&&M.sol()&&(we.indented=M.indentation()),M.eatSpace())return null;m=null;var oe=we.tokenize(M,we);return(oe||m)&&oe!="comment"&&(y=null,we.state=we.state(m||oe,M,we),y&&(oe=y=="error"?oe+" error":y)),oe},indent:function(M,we,oe){var xe=M.context;if(M.tokenize.isInAttribute)return M.tagStart==M.indented?M.stringStartCol+1:M.indented+c;if(xe&&xe.noIndent)return t.Pass;if(M.tokenize!=x&&M.tokenize!=_)return oe?oe.match(/^(\s*)/)[0].length:0;if(M.tagName)return f.multilineTagIndentPastTag!==!1?M.tagStart+M.tagName.length+2:M.tagStart+c*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(we))return 0;var De=we&&/^<(\/)?([\w_:\.-]*)/.exec(we);if(De&&De[1])for(;xe;)if(xe.tagName==De[2]){xe=xe.prev;break}else if(f.implicitlyClosed.hasOwnProperty(E(xe.tagName)))xe=xe.prev;else break;else if(De)for(;xe;){var se=f.contextGrabbers[E(xe.tagName)];if(se&&se.hasOwnProperty(E(De[2])))xe=xe.prev;else break}for(;xe&&xe.prev&&!xe.startOfLine;)xe=xe.prev;return xe?xe.indent+c:M.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(M){M.state==H&&(M.state=R)},xmlCurrentTag:function(M){return M.tagName?{name:M.tagName,close:M.type=="closeTag"}:null},xmlCurrentContext:function(M){for(var we=[],oe=M.context;oe;oe=oe.prev)we.push(oe.tagName);return we.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},578:(n,r,e)=>{e.d(r,{A:()=>s});var t=e(268),o=function(){var l=function(c,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},l(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),i=function(l){o(c,l);function c(f,h,g){var m=l.call(this,h,g)||this;return m._module=f,m}return Object.defineProperty(c.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),c}(t.Kx);const s=i},683:(n,r,e)=>{e.d(r,{A:()=>l,F:()=>i});var t=e(578),o=function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),i;(function(c){c.Select="select",c.Hover="hover",c.Spacing="spacing",c.Target="target",c.Resize="resize"})(i||(i={}));var s=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(f.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"component",{get:function(){var h,g=this.get("component");return g||((h=this.get("componentView"))===null||h===void 0?void 0:h.model)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"componentView",{get:function(){var h,g=this.get("componentView");return g||((h=this.get("component"))===null||h===void 0?void 0:h.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"el",{get:function(){var h;return(h=this.componentView)===null||h===void 0?void 0:h.el},enumerable:!1,configurable:!0}),f.prototype.getBoxRect=function(h){var g=this,m=g.el,y=g.em,_=y.Canvas.getCanvasView(),x=this.get("boxRect");return x||(m&&_?_.getElBoxRect(m,h):{x:0,y:0,width:0,height:0})},f.prototype.getStyle=function(h){h===void 0&&(h={});var g=h.boxRect||this.getBoxRect(h),m=g.width,y=g.height,_=g.x,x=g.y;return{width:"".concat(m,"px"),height:"".concat(y,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(_,"px ").concat(x,"px")}},f.prototype.isType=function(h){return this.type===h},f}(t.A);const l=s},242:(n,r,e)=>{e.d(r,{A:()=>o});var t;(function(i){i.run="command:run",i._run="run",i.runCommand="command:run:",i._runCommand="run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i._abort="abort:",i.stop="command:stop",i._stop="stop",i.stopCommand="command:stop:",i._stopCommand="stop:",i.stopBeforeCommand="command:stop:before:"})(t||(t={}));const o=t},404:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o){o.Components.clear(),o.Css.clear()}}},228:(n,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),o=e(14),i=e(926);const s={run:function(l){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=l,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(l){this.toggleMove(),this.disableDragger()},onKeyUp:function(l){(0,i.Ch)(l)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(l){this.toggleDragger(1,l)},disableDragger:function(l){this.toggleDragger(0,l)},toggleDragger:function(l,c){var f=this,h=f.canvasModel,g=f.em,m=this.dragger,y=l?"add":"remove";this.getCanvas().classList[y]("".concat(this.ppfx,"is__grabbing")),m||(m=new o.A({getPosition:function(){return{x:h.get("x"),y:h.get("y")}},setPosition:function(_){var x=_.x,C=_.y;h.set({x,y:C})},onStart:function(_,x){g.trigger("canvas:move:start",x)},onDrag:function(_,x){g.trigger("canvas:move",x)},onEnd:function(_,x){g.trigger("canvas:move:end",x)}}),this.dragger=m),l?m.start(c):m.stop()},toggleMove:function(l){var c=this.ppfx,f=l?"add":"remove",h=l?"on":"off",g={on:i.on,off:i.AU},m=this.getCanvas(),y=["".concat(c,"is__grab")];!l&&y.push("".concat(c,"is__grabbing")),y.forEach(function(_){return m.classList[f](_)}),g[h](document,"keyup",this.onKeyUp),g[h](m,"mousedown",this.enableDragger),g[h](document,"mouseup",this.disableDragger)}}},570:(n,r,e)=>{e.r(r),e.d(r,{default:()=>c,defineCommand:()=>s});var t=e(268),o=e(242),i=function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(m[_]=y[_])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();function s(f){return f}var l=function(f){i(h,f);function h(g){var m=f.call(this,0)||this;m.config=g||{},m.em=m.config.em||{};var y=m.config.stylePrefix;return m.pfx=y,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(y,"hover"),m.badgeClass="".concat(y,"badge"),m.plhClass="".concat(y,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(g){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(g){var m=g.getBoundingClientRect();return{top:m.top+g.ownerDocument.body.scrollTop,left:m.left+g.ownerDocument.body.scrollLeft}},h.prototype.init=function(g){},h.prototype.callRun=function(g,m){m===void 0&&(m={});var y=this.id;if(g.trigger("".concat(o.A.runBeforeCommand).concat(y),{options:m}),g.trigger("".concat(o.A._runCommand).concat(y,":before"),m),m.abort){g.trigger("".concat(o.A.abort).concat(y),{options:m}),g.trigger("".concat(o.A._abort).concat(y),m);return}var _=m.sender||g,x=this.run(g,_,m),C={id:y,result:x,options:m};return g.trigger("".concat(o.A.runCommand).concat(y),C),g.trigger(o.A.run,C),g.trigger("".concat(o.A._runCommand).concat(y),x,m),g.trigger(o.A._run,y,x,m),x},h.prototype.callStop=function(g,m){m===void 0&&(m={});var y=this.id,_=m.sender||g;g.trigger("".concat(o.A.stopBeforeCommand).concat(y),{options:m}),g.trigger("".concat(o.A._stopCommand).concat(y,":before"),m);var x=this.stop(g,_,m),C={id:y,result:x,options:m};return g.trigger("".concat(o.A.stopCommand).concat(y),C),g.trigger(o.A.stop,C),g.trigger("".concat(o.A._stopCommand).concat(y),x,m),g.trigger(o.A._stop,y,x,m),x},h.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},h.prototype.run=function(g,m,y){},h.prototype.stop=function(g,m,y){},h}(t.Kx);const c=l},377:(n,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),o=function(l,c,f){if(f||arguments.length===2)for(var h=0,g=c.length,m;h<g;h++)(m||!(h in c))&&(m||(m=Array.prototype.slice.call(c,0,h)),m[h]=c[h]);return l.concat(m||Array.prototype.slice.call(c))},i={run:function(l,c,f){var h=this;f===void 0&&(f={});var g=[],m=f.component||l.getSelectedAll();return m=(0,t.isArray)(m)?o([],m,!0):[m],m.filter(Boolean).forEach(function(y){var _,x;if(!y.get("removable"))return h.em.logWarning("The element is not removable",{component:y});g.push(y);var C=((x=(_=y.delegate)===null||_===void 0?void 0:_.remove)===null||x===void 0?void 0:x.call(_,y))||y;C.remove()}),l.selectRemove(g),g}};const s=i},728:(n,r,e)=>{e.r(r),e.d(r,{default:()=>l});var t=e(523),o=e(14),i=function(){return i=Object.assign||function(c){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},i.apply(this,arguments)},s="dmode";const l={run:function(c,f,h){var g=this;h===void 0&&(h={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=h.target,y=h.event,_=h.mode,x=h.dragger,C=x===void 0?{}:x,S=m.getEl(),T=i({doc:S.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return g.guidesStatic},guidesTarget:function(){return g.guidesTarget}},C);this.setupGuides(),this.opts=h,this.editor=c,this.em=c.getModel(),this.target=m,this.isTran=_=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var E=this.dragger;return E?E.setOptions(T):(E=new o.A(T),this.dragger=E),y&&E.start(y),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),E},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(c){var f=c.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var c=this,f=this.guidesEl;if(!f){var h=this,g=h.editor,m=h.em,y=h.opts,_=g.getConfig().stylePrefix,x=document.createElement("div"),C=document.createElement("div"),S='<div class="'.concat(_,"guide-info__line ").concat(_,`danger-bg">
        <div class="`).concat(_,"guide-info__content ").concat(_,`danger-color"></div>
      </div>`);f=document.createElement("div"),f.className="".concat(_,"guides"),x.className="".concat(_,"guide-info ").concat(_,"guide-info__x"),C.className="".concat(_,"guide-info ").concat(_,"guide-info__y"),x.innerHTML=S,C.innerHTML=S,f.appendChild(x),f.appendChild(C),g.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=x,this.elGuideInfoY=C,this.elGuideInfoContentX=x.querySelector(".".concat(_,"guide-info__content")),this.elGuideInfoContentY=C.querySelector(".".concat(_,"guide-info__content")),m.on("canvas:update frame:scroll",(0,t.debounce)(function(){var T;c.updateGuides(),y.debug&&((T=c.guides)===null||T===void 0||T.forEach(function(E){return c.renderGuide(E)}))},200))}return f},getGuidesStatic:function(){var c=this,f=[],h=this.target.getEl(),g=h.parentNode,m=g===void 0?{}:g;return(0,t.each)(m.children,function(y){return f=f.concat(h!==y?c.getElementGuides(y):[])}),f.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var f=this,h,g;(c||this.guides).forEach(function(m){var y=m.origin,_=h===y?g:f.getElementPos(y);h=y,g=_,(0,t.each)(f.getGuidePosUpdate(m,_),function(x,C){return m[C]=x}),m.originRect=_})},getGuidePosUpdate:function(c,f){var h={},g=f.top,m=f.height,y=f.left,_=f.width;switch(c.type){case"t":h.y=g;break;case"b":h.y=g+m;break;case"l":h.x=y;break;case"r":h.x=y+_;break;case"x":h.x=y+_/2;break;case"y":h.y=g+m/2;break}return h},renderGuide:function(c){c===void 0&&(c={});var f=c.guide||document.createElement("div"),h="px",g=c.active?2:1,m=f.children[0];return f.style="position: absolute; background-color: ".concat(c.active?"green":"red",";"),f.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(m)),c.y?(f.style.width="100%",f.style.height="".concat(g).concat(h),f.style.top="".concat(c.y).concat(h),f.style.left=0):(f.style.width="".concat(g).concat(h),f.style.height="100%",f.style.left="".concat(c.x).concat(h),f.style.top="0".concat(h)),!c.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var f=this,h=this.opts,g=this.getElementPos(c),m=g.top,y=g.height,_=g.left,x=g.width,C=[{type:"t",y:m},{type:"b",y:m+y},{type:"l",x:_},{type:"r",x:_+x},{type:"x",x:_+x/2},{type:"y",y:m+y/2}].map(function(S){return i(i({},S),{origin:c,originRect:g,guide:h.debug&&f.renderGuide(S)})});return C.forEach(function(S){var T;return(T=f.guides)===null||T===void 0?void 0:T.push(S)}),C},getTranslate:function(c,f){f===void 0&&(f="x");var h=0;return(c||"").split(" ").forEach(function(g){var m=g.trim(),y="translate".concat(f.toUpperCase(),"(");m.indexOf(y)===0&&(h=parseFloat(m.replace(y,"")))}),h},setTranslate:function(c,f,h){var g="translate".concat(f.toUpperCase(),"("),m="".concat(g).concat(h,")"),y=(c||"").split(" ").map(function(_){var x=_.trim();return x.indexOf(g)===0&&(_=m),_}).join(" ");return y.indexOf(g)<0&&(y+=" ".concat(m)),y},getPosition:function(){var c=this,f=c.target,h=c.isTran,g=f.getStyle(),m=g.left,y=g.top,_=g.transform,x=0,C=0;return h?(x=this.getTranslate(_),C=this.getTranslate(_,"y")):(x=parseFloat(m||0),C=parseFloat(y||0)),{x,y:C}},setPosition:function(c){var f=c.x,h=c.y,g=c.end,m=c.position,y=c.width,_=c.height,x=this,C=x.target,S=x.isTran,T=x.em,E="px",N=!g,K="".concat(parseInt(f,10)).concat(E),re="".concat(parseInt(h,10)).concat(E),ue={};if(S){var Q=C.getStyle().transform||"";Q=this.setTranslate(Q,"x",K),Q=this.setTranslate(Q,"y",re),ue={transform:Q,__p:N},C.addStyle(ue,{avoidStore:!g})}else{var $={position:m,width:y,height:_},te={left:K,top:re,__p:N};(0,t.keys)($).forEach(function(U){var R=$[U];R&&(te[U]=R)}),ue=te,C.addStyle(ue,{avoidStore:!g})}T==null||T.Styles.__emitCmpStyleUpdate(ue,{components:T.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var f=this,h=f.target,g=f.editor,m=f.isTran,y=f.opts,_=y.center,x=y.onStart,C=g.Canvas,S=h.getStyle(),T="absolute",E=[T,"relative"];if(x&&x(this._getDragData()),!m&&S.position!==T){var N=C.offset(h.getEl()),K=N.left,re=N.top,ue=N.width,Q=N.height,$=h.parent(),te=void 0;do{var U=$.getStyle();te=E.indexOf(U.position)>=0?$:null,$=$.parent()}while($&&!te);if(_){var R=C.getMouseRelativeCanvas(c),W=R.x,H=R.y;K=W,re=H}else if(te){var ie=C.offset(te.getEl());K=K-ie.left,re=re-ie.top}this.setPosition({x:K,y:re,width:"".concat(ue,"px"),height:"".concat(Q,"px"),position:T})}},onDrag:function(){var c=this,f=this,h=f.guidesTarget,g=f.opts,m=g.onDrag;this.updateGuides(h),g.debug&&h.forEach(function(y){return c.renderGuide(y)}),g.guidesInfo&&this.renderGuideInfo(h.filter(function(y){return y.active})),m&&m(this._getDragData())},onEnd:function(c,f,h){h===void 0&&(h={});var g=this,m=g.editor,y=g.opts,_=g.id,x=y.onEnd;x&&x(c,h,i(i({event:c},h),this._getDragData())),m.stopCommand(_),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(f){var h=c["elGuideInfo".concat(f)];h&&(h.style.display="none")})},renderGuideInfo:function(c){var f=this;c===void 0&&(c=[]);var h=this.guidesStatic;this.hideGuidesInfo(),c.forEach(function(g){var m=g.origin,y=g.x,_=f.getElementPos(m),x=(0,t.isUndefined)(y)?"y":"x",C=x==="y",S=_[C?"left":"top"],T=_.rect[C?"left":"top"],E=C?S+_.width:S+_.height,N=C?T+_.rect.width:T+_.rect.height,K=f["elGuideInfo".concat(x.toUpperCase())],re=f["elGuideInfoContent".concat(x.toUpperCase())],ue=K.style,Q=h==null?void 0:h.filter(function(Ce){return Ce.type===g.type}).map(function(Ce){var le=Ce.originRect,be=le.left,Te=le.width,We=le.top,Je=le.height,He=C?be:We,nt=C?be+Te:We+Je;return{gap:nt<S?S-nt:He-E,guide:Ce}}).filter(function(Ce){return Ce.gap>0}).sort(function(Ce,le){return Ce.gap-le.gap}).map(function(Ce){return Ce.guide})[0];if(Q){var $=Q.originRect,te=$.left,U=$.width,R=$.top,W=$.height,H=$.rect,ie=C?te<_.left:R<_.top,M=C?te:R,we=C?H.left:H.top,oe=C?te+U:R+W,xe=C?H.left+H.width:H.top+H.height,De=C?g.y:g.x,se=ie?oe:E,Ee="".concat(De,"px"),ze=ie?S-oe:M-E,Pe=ie?T-xe:we-N;ue.display="",ue[C?"top":"left"]=Ee,ue[C?"left":"top"]="".concat(se,"px"),ue[C?"width":"height"]="".concat(ze,"px"),re.innerHTML="".concat(Math.round(Pe),"px"),f.em.trigger("".concat(s,":active"),i(i({},f.getEventOpts()),{guide:g,guidesStatic:h,matched:Q,posFirst:De,posSecond:se,size:ze,sizeRaw:Pe,elGuideInfo:K,elGuideInfoCnt:re}))}})},toggleDrag:function(c){var f=this,h=f.ppfx,g=f.editor,m=c?"add":"remove",y=["".concat(h,"is__grabbing")],_=g.Canvas,x=_.getBody();y.forEach(function(C){return x.classList[m](C)}),_[c?"startAutoscroll":"stopAutoscroll"]()}}},462:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(s){var l=s.components(),c=l&&l.filter(function(f){return f.get("selectable")})[0];c&&i.push(c)}),i.length&&o.select(i)}}}},658:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o,i,s){if(s===void 0&&(s={}),!(!o.Canvas.hasFocus()&&!s.force)){var l=[];o.getSelectedAll().forEach(function(c){for(var f=c.parent();f&&!f.get("selectable");)f=f.parent();f&&l.push(f)}),l.length&&o.select(l)}}}},619:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(s){var l=s.parent();if(l){var c=l.components().length,f=0,h=0,g;do f++,h=s.index()+f,g=h<=c?l.getChildAt(h):null;while(g&&!g.get("selectable"));i.push(g||s)}}),i.length&&o.select(i)}}}},935:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(s){var l=s.parent();if(l){var c=0,f=0,h;do c++,f=s.index()-c,h=f>=0?l.getChildAt(f):null;while(h&&!h.get("selectable"));i.push(h||s)}}),i.length&&o.select(i)}}}},536:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(523);const o={run:function(i,s,l){l===void 0&&(l={});var c=l.target,f=[];if(!c.get("styles"))return f;var h=c.get("type"),g=i.Pages.getAllWrappers(),m=(0,t.flatten)(g.map(function(_){return _.findType(h)})).length;if(!m){var y=i.CssComposer.getAll();f=y.filter(function(_){return _.get("group")==="cmp:".concat(h)}),y.remove(f)}return f}}},957:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=function(i,s,l){if(l||arguments.length===2)for(var c=0,f=s.length,h;c<f;c++)(h||!(c in s))&&(h||(h=Array.prototype.slice.call(s,0,c)),h[c]=s[c]);return i.concat(h||Array.prototype.slice.call(s))};const o={run:function(i){var s=i.getModel(),l=t([],i.getSelectedAll(),!0).map(function(c){var f,h;return((h=(f=c.delegate)===null||f===void 0?void 0:f.copy)===null||h===void 0?void 0:h.call(f,c))||c}).filter(Boolean);l.length&&s.set("clipboard",l)}}},413:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(926);const o={run:function(i,s,l){var c=this;l===void 0&&(l={}),s&&s.set&&s.set("active",0);var f=i.getConfig(),h=i.Modal,g=f.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),y=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=y.model;var _=(0,t.a_)("div",{class:"".concat(g,"export-dl")});_.appendChild(m.el),_.appendChild(y.el),this.editors=_}h.open({title:f.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(c.id))}),this.htmlEditor.setContent(i.getHtml(l.optsHtml)),this.cssEditor.setContent(i.getCss(l.optsCss))},stop:function(i){var s=i.Modal;s&&s.close()},buildEditor:function(i,s,l){var c=this.em.CodeManager,f=c.createViewer({label:l,codeName:i,theme:s}),h=new c.EditorView({model:f,config:c.getConfig()}).render().el;return{model:f,el:h}}}},516:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(523);const o={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var s="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(s="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(s="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),s},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,s,l){l===void 0&&(l={}),this.sender=s;var c=l.target,f=(0,t.isElement)(c)?c:document.querySelector(c),h=this.enable(f||i.getContainer());this.fsChanged=this.fsChanged.bind(this,h),document.addEventListener(h+"fullscreenchange",this.fsChanged)},stop:function(i,s){s&&s.set&&s.set("active",!1),this.disable()}}},13:(n,r,e)=>{e.r(r),e.d(r,{default:()=>c});var t=e(523),o=e(694),i=e(926),s=e(194),l=e(582);const c=(0,t.extend)({},l.default,s.default,{init:function(f){s.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.enable.apply(this,f),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","move"),g.on("mousedown",this.initSorter),g.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var h=(0,o.default)(f.target).data("model"),g=h.get("draggable");g&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=g,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var h=f.get("draggable");if(h){this.cacheEl=null;var g=f.view.el;this.startSelectPosition(g,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var h=f[f.length-1],g=this.em.getCurrentFrame(),m=h.getEl(g==null?void 0:g.model),y=m.ownerDocument;this.startSelectPosition(m,y,{onStart:this.onStart}),this.sorter.draggable=h.get("draggable"),this.sorter.toMove=f,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,h){},rollback:function(f,h){var g=f.which||f.keyCode;(g==27||h)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,o.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,o.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.stop.apply(this,f),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","").unbind().removeClass(this.noSelClass)}})},204:(n,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),o=e(926);const i={open:function(s){var l=this,c=this,f=c.editor,h=c.title,g=c.config,m=c.am,y=g.custom;if((0,t.isFunction)(y.open))return y.open(m.__customData());var _=f.Modal;_.open({title:h,content:s}).onceClose(function(){return f.stopCommand(l.id)})},close:function(){var s=this.config.custom;if((0,t.isFunction)(s.close))return s.close(this.am.__customData());var l=this.editor.Modal;l&&l.close()},run:function(s,l,c){c===void 0&&(c={});var f=s.AssetManager,h=f.getConfig(),g=c.types,m=g===void 0?[]:g,y=c.accept,_=c.select;if(this.title=c.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=h,this.am=f,f.setTarget(c.target),f.onClick(c.onClick),f.onDblClick(c.onDblClick),f.onSelect(c.onSelect),f.__behaviour({select:_,types:m,options:c}),h.custom)this.rendered=this.rendered||(0,o.a_)("div"),this.rendered.className="".concat(h.stylePrefix,"custom-wrp"),f.__behaviour({container:this.rendered}),f.__trgCustom();else{if(!this.rendered||m){var x=f.getAll().filter(function(S){return S});m&&m.length&&(x=x.filter(function(S){return m.indexOf(S.get("type"))!==-1})),f.render(x),this.rendered=f.getContainer()}if(y){var C=this.rendered.querySelector("input#".concat(h.stylePrefix,"uploadFile"));C&&C.setAttribute("accept",y)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},195:(n,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),o=e(926);const i={open:function(){var s=this,l=s.container,c=s.editor,f=s.bm,h=s.config,g=h.custom,m=h.appendTo;if((0,t.isFunction)(g.open))return g.open(f.__customData());if(this.firstRender&&!m){var y="views-container",_=c.Panels,x=_.getPanel(y)||_.addPanel({id:y});x.set("appendContent",l).trigger("change:appendContent"),g||l.appendChild(f.render())}l&&(l.style.display="block")},close:function(){var s=this,l=s.container,c=s.config,f=c.custom;if((0,t.isFunction)(f.close))return f.close(this.bm.__customData());l&&(l.style.display="none")},run:function(s){var l=s.Blocks;this.config=l.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,o.a_)("div"),this.editor=s,this.bm=l;var c=this.container;l.__behaviour({container:c}),this.config.custom&&l.__trgCustom(),this.open()},stop:function(){this.close()}}},671:(n,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(o){var i=o.LayerManager,s=o.Panels,l=i.getConfig();if(!l.appendTo){if(!this.layers){var c="views-container",f=document.createElement("div"),h=s.getPanel(c)||s.addPanel({id:c});l.custom?i.__trgCustom({container:f}):f.appendChild(i.render()),h.set("appendContent",f).trigger("change:appendContent"),this.layers=f}this.layers.style.display="block"}},stop:function(){var o=this.layers;o&&(o.style.display="none")}}},49:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(694);const o={run:function(i,s){if(this.sender=s,!this.$cnt){var l=i.getConfig(),c=i.Panels,f=i.DeviceManager,h=i.SelectorManager,g=i.StyleManager,m="change:appendContent",y=(0,t.default)("<div></div>"),_=(0,t.default)("<div></div>"),x=(0,t.default)("<div></div>"),C=(0,t.default)("<div></div>");if(this.$cnt=y,this.$cntInner=_,_.append(x),_.append(C),y.append(_),f&&l.showDevices){var S=c.addPanel({id:"devices-c"}),T=f.render();S.set("appendContent",T).trigger(m)}var E=h.getConfig();E.custom?h.__trgCustom({container:x.get(0)}):E.appendTo||x.append(h.render([])),this.sm=g;var N=g.getConfig(),K=N.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(K,'header">').concat(i.t("styleManager.empty"),"</div>")),y.append(this.$header),N.custom?g.__trgCustom({container:C.get(0)}):N.appendTo||C.append(g.render());var re="views-container",ue=c.getPanel(re)||c.addPanel({id:re});ue.set("appendContent",y).trigger(m);var Q=i.getModel();this.listenTo(Q,g.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,s=i.sender,l=i.sm,c=i.$cntInner,f=i.$header;s&&s.get&&!s.get("active")||!l||(l.getSelected()?(c==null||c.show(),f==null||f.hide()):(c==null||c.hide(),f==null||f.show()))},stop:function(){var i,s;(i=this.$cntInner)===null||i===void 0||i.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},590:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(694);const o={run:function(i,s){this.sender=s;var l=i.getModel(),c=i.Config,f=c.stylePrefix,h=i.TraitManager,g=h.getConfig(),m;if(!g.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(g.stylePrefix,'header">').concat(l.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),g.custom?h.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(f,'traits-label">').concat(l.t("traitManager.label"),"</div>")),this.$cn2.append(h.render()));var y=i.Panels;y.getPanel("views-container")?m=y.getPanel("views-container"):m=y.addPanel({id:"views-container"}),m==null||m.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},483:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(523);const o={run:function(s,l,c){c===void 0&&(c={});var f=s.getModel(),h=f.get("clipboard"),g=s.getSelected();h!=null&&h.length&&g&&(s.getSelectedAll().forEach(function(m){var y,_,x,C=((_=(y=m.delegate)===null||y===void 0?void 0:y.copy)===null||_===void 0?void 0:_.call(y,m))||m,S=C.collection,T;if(S){var E=C.index()+1,N={at:E,action:c.action||"paste-component"};(0,t.contains)(h,C)&&C.get("copyable")?T=S.add(C.clone(),N):T=i(s,h,C.parent(),N)}else{var K=(x=f.Pages.getSelected())===null||x===void 0?void 0:x.getMainComponent(),N={at:(K==null?void 0:K.components().length)||0,action:c.action||"paste-component"};T=i(s,h,K,N)}T=(0,t.isArray)(T)?T:[T],T.forEach(function(re){return s.trigger("component:paste",re)})}),g.emitUpdate())}};function i(s,l,c,f){var h=l.filter(function(m){return m.get("copyable")}),g=h.filter(function(m){return s.Components.canMove(c,m).result});return c.components().add(g.map(function(m){return m.clone()}),f)}},857:(n,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(523),o=function(l,c,f){if(f||arguments.length===2)for(var h=0,g=c.length,m;h<g;h++)(m||!(h in c))&&(m||(m=Array.prototype.slice.call(c,0,h)),m[h]=c[h]);return l.concat(m||Array.prototype.slice.call(c))},i="core:component-outline";const s={getPanels:function(l){return this.panels||(this.panels=l.Panels.getPanels()),this.panels},preventDrag:function(l){l.abort=1},tglEffects:function(l){var c=this.em,f=l?"on":"off";if(c){var h=c.Canvas,g=h.getBody(),m=h.getToolbarEl();m&&(m.style.display=l?"none":"");var y=g.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(y,function(_){return _.style.pointerEvents=l?"all":""}),c[f]("run:tlb-move:before",this.preventDrag)}},run:function(l,c){var f=this;this.sender=c,this.selected=o([],l.getSelectedAll(),!0),l.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=l.Commands.isActive(i)),this.shouldRunSwVisibility&&l.stopCommand(i),l.getModel().stopDefault();var h=this.getPanels(l),g=l.Canvas.getElement(),m=l.getEl(),y=l.Config.stylePrefix;if(!this.helper){var _=document.createElement("span");_.className="".concat(y,"off-prv fa fa-eye-slash"),m.appendChild(_),_.onclick=function(){return f.stopCommand()},this.helper=_}this.helper.style.display="inline-block",h.forEach(function(C){return C.set("visible",!1)});var x=g.style;x.width="100%",x.height="100%",x.top="0",x.left="0",x.padding="0",x.margin="0",l.refresh(),this.tglEffects(1)},stop:function(l){var c=this,f=c.sender,h=f===void 0?{}:f,g=c.selected;h.set&&h.set("active",0);var m=this.getPanels(l);this.shouldRunSwVisibility&&(l.runCommand(i),this.shouldRunSwVisibility=!1),l.getModel().runDefault(),m.forEach(function(_){return _.set("visible",!0)});var y=l.Canvas.getElement();y.setAttribute("style",""),g&&l.select(g),delete this.selected,this.helper&&(this.helper.style.display="none"),l.refresh(),this.tglEffects()}}},869:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=function(){return t=Object.assign||function(i){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(i[f]=s[f])}return i},t.apply(this,arguments)};const o={run:function(i,s,l){var c=l||{},f=i.Canvas,h=f.getCanvasView(),g=t({appendTo:f.getResizerEl(),prefix:i.getConfig().stylePrefix,posFetcher:h.getElementPos.bind(h),mousePosFetcher:f.getMouseRelativePos.bind(f)},c.options||{}),m=this.canvasResizer;return(!m||c.forceNew)&&(this.canvasResizer=new i.Utils.Resizer(g),m=this.canvasResizer),m.setOptions(g,!0),m.blur(),m.focus(c.el),m},stop:function(){var i;(i=this.canvasResizer)===null||i===void 0||i.blur()}}},194:(n,r,e)=>{e.r(r),e.d(r,{default:()=>te});var t=e(523),o=e(268),i=function(){var U=function(R,W){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ie){H.__proto__=ie}||function(H,ie){for(var M in ie)Object.prototype.hasOwnProperty.call(ie,M)&&(H[M]=ie[M])},U(R,W)};return function(R,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");U(R,W);function H(){this.constructor=R}R.prototype=W===null?Object.create(W):(H.prototype=W.prototype,new H)}}(),s=function(U){i(R,U);function R(){return U!==null&&U.apply(this,arguments)||this}return R.prototype.defaults=function(){return{command:"",attributes:{}}},R}(o.Kx);const l=s;var c=function(){var U=function(R,W){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ie){H.__proto__=ie}||function(H,ie){for(var M in ie)Object.prototype.hasOwnProperty.call(ie,M)&&(H[M]=ie[M])},U(R,W)};return function(R,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");U(R,W);function H(){this.constructor=R}R.prototype=W===null?Object.create(W):(H.prototype=W.prototype,new H)}}(),f=function(U){c(R,U);function R(){return U!==null&&U.apply(this,arguments)||this}return R}(o.pM);const h=f;f.prototype.model=l;var g=e(754),m=function(){var U=function(R,W){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ie){H.__proto__=ie}||function(H,ie){for(var M in ie)Object.prototype.hasOwnProperty.call(ie,M)&&(H[M]=ie[M])},U(R,W)};return function(R,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");U(R,W);function H(){this.constructor=R}R.prototype=W===null?Object.create(W):(H.prototype=W.prototype,new H)}}(),y=function(){return y=Object.assign||function(U){for(var R,W=1,H=arguments.length;W<H;W++){R=arguments[W];for(var ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&(U[ie]=R[ie])}return U},y.apply(this,arguments)},_=function(U){m(R,U);function R(W){var H=U.call(this,W)||this;return H.em=W.config.em,H}return R.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},R.prototype.attributes=function(){return this.model.get("attributes")},R.prototype.handleClick=function(W){W.preventDefault(),W.stopPropagation();var H=this.em,ie=H.Canvas.getFrameEl().getBoundingClientRect(),M=ie.left,we=ie.top,oe=y(y({},W),{clientX:W.clientX-M,clientY:W.clientY-we});H.trigger("toolbar:run:before",{event:oe}),this.execCommand(oe)},R.prototype.execCommand=function(W){var H=this,ie=H.em,M=H.model,we={event:W},oe=M.get("command"),xe=ie.Editor;(0,t.isFunction)(oe)&&oe(xe,null,we),(0,t.isString)(oe)&&xe.runCommand(oe,we)},R.prototype.render=function(){var W=this,H=W.em,ie=W.$el,M=W.model,we=M.get("id"),oe=M.get("label"),xe=H.getConfig().stylePrefix;return ie.addClass("".concat(xe,"toolbar-item")),we&&ie.addClass("".concat(xe,"toolbar-item__").concat(we)),oe&&ie.append(oe),this},R}(o.Ss);const x=_;var C=function(){var U=function(R,W){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ie){H.__proto__=ie}||function(H,ie){for(var M in ie)Object.prototype.hasOwnProperty.call(ie,M)&&(H[M]=ie[M])},U(R,W)};return function(R,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");U(R,W);function H(){this.constructor=R}R.prototype=W===null?Object.create(W):(H.prototype=W.prototype,new H)}}(),S=function(U){C(R,U);function R(W){var H=U.call(this,W)||this,ie=W.em;return H.em=ie,H.config={em:ie},H.listenTo(H.collection,"reset",H.render),H}return R.prototype.onRender=function(){var W=this.em.config.stylePrefix;this.el.className="".concat(W,"toolbar-items")},R}(g.A);const T=S;S.prototype.itemView=x;var E=e(926),N=e(342),K=e(683),re=e(249),ue=function(){return ue=Object.assign||function(U){for(var R,W=1,H=arguments.length;W<H;W++){R=arguments[W];for(var ie in R)Object.prototype.hasOwnProperty.call(R,ie)&&(U[ie]=R[ie])}return U},ue.apply(this,arguments)},Q=function(U,R){var W={};for(var H in U)Object.prototype.hasOwnProperty.call(U,H)&&R.indexOf(H)<0&&(W[H]=U[H]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ie=0,H=Object.getOwnPropertySymbols(U);ie<H.length;ie++)R.indexOf(H[ie])<0&&Object.prototype.propertyIsEnumerable.call(U,H[ie])&&(W[H[ie]]=U[H[ie]]);return W},$;const te={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),$=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(U){var R=this,W=this.em,H=W.getConfig().listenToEl,ie=W.getContainer().parentNode,M=U?"on":"off",we={on:E.on,off:E.AU},oe=re.I.update;!H.length&&ie&&H.push(ie);var xe=function(De,se){we[M](se,"mouseover",R.onHover),we[M](se,"mouseleave",R.onOut),we[M](se,"click",R.onClick),we[M](De,"scroll",R.onFrameScroll,!0),we[M](De,"resize",R.onFrameResize)};we[M](window,"resize",this.onFrameUpdated),we[M](H,"scroll",this.onContainerChange),W[M]("component:toggled ".concat(oe," undo redo"),this.onSelect,this),W[M]("change:componentHovered",this.onHovered,this),W[M]("component:resize styleable:change component:input",this.updateGlobalPos,this),W[M]("".concat(oe,":toolbar"),this._upToolbar,this),W[M]("frame:updated",this.onFrameUpdated,this),W[M]("canvas:updateTools",this.onFrameUpdated,this),W[M](W.Canvas.events.refresh,this.updateAttached,this),W.Canvas.getFrames().forEach(function(De){var se=De.view,Ee=se==null?void 0:se.getWindow();Ee&&xe(Ee,se==null?void 0:se.getBody())})},onHover:function(U){U.stopPropagation();var R=this.em,W=U.target,H=(0,N.getComponentView)(W),ie=H==null?void 0:H.frameView,M=H==null?void 0:H.model;if(!M)for(var we=W.parentNode;!M&&we&&!(0,E.ZQ)(we);)M=(0,N.getComponentModel)(we),we=we.parentNode;this.currentDoc=W.ownerDocument,R.setHovered(M,{useValid:!0}),ie&&R.setCurrentFrame(ie)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(U,R){var W=this,H,ie={};R?(H=R.views)===null||H===void 0||H.forEach(function(M){var we=M.el,oe=W.getElementPos(we);ie={el:we,pos:oe,component:R,view:(0,N.getViewEl)(we)},we.ownerDocument===W.currentDoc&&(W.elHovered=ie),W.updateToolsLocal(ie)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(M){var we=M.view,oe=we&&we.getToolsEl();oe&&W.toggleToolsEl(0,0,{el:oe})}))},onSelect:function(){var U=this.em,R=U.getSelected(),W=U.getCurrentFrame(),H=R&&R.getView(W==null?void 0:W.model),ie=H&&H.el,M={};if(ie&&(0,E.zN)(ie)){var we=this.getElementPos(ie);M={el:ie,pos:we,component:R,view:(0,N.getViewEl)(ie)}}this.elSelected=M,this.updateToolsGlobal(),this.updateLocalPos(M),this.initResize(R)},updateGlobalPos:function(){var U=this.getElSelected();U.el&&(U.pos=this.getElementPos(U.el),this.updateToolsGlobal())},updateLocalPos:function(U){var R=this.getElHovered();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsLocal(U))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(U,R,W){W===void 0&&(W={});var H=W.el||this.canvas.getToolsEl(R);return H&&(H.style.display=U?"":"none"),H||{}},showElementOffset:function(U,R,W){W===void 0&&(W={}),$&&this.editor.runCommand("show-offset",{el:U,elPos:R,view:W.view,force:1,top:0,left:0})},hideElementOffset:function(U){this.editor.stopCommand("show-offset",{view:U})},showFixedElementOffset:function(U,R){this.editor.runCommand("show-offset",{el:U,elPos:R,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(U){this.canvas.getHighlighter(U).style.opacity=0},onClick:function(U){U.stopPropagation(),U.preventDefault();var R=this.em;if(R.get("_cmpDrag"))return R.set("_cmpDrag");var W=U.target,H=(0,N.getComponentModel)(W);if(!H)for(var ie=W.parentNode;!H&&ie&&!(0,E.ZQ)(ie);)H=(0,N.getComponentModel)(ie),ie=ie.parentNode;if(H){if(R.isEditing()&&(!H.get("textable")&&H.isChildOf("text")||R.getEditing()!==H))return;this.select(H,U)}},select:function(U,R){R===void 0&&(R={}),U&&(this.editor.select(U,{event:R,useValid:!0}),this.initResize(U))},updateBadge:function(U,R,W){W===void 0&&(W={});var H=this.canvas,ie=(0,N.getComponentModel)(U),M=this.getBadge(W),we=M.style;if(!ie||!ie.get("badgable")){we.display="none";return}if(!W.posOnly){var oe=this.canvas.getConfig(),xe=ie.getIcon(),De=oe.pStylePrefix||"",se="".concat(De,"badge"),Ee=oe.customBadgeLabel,ze="".concat(xe?'<div class="'.concat(se,'__icon">').concat(xe,"</div>"):"",`
        <div class="`).concat(se,'__name">').concat(ie.getName(),"</div>");M.innerHTML=Ee?Ee(ie):ze}var Pe="px";we.display="block";var Ce=H.getTargetToElementFixed(U,M,{pos:R}),le=Ce.top,be=W.leftOff<0?-W.leftOff:0;we.top=le+Pe,we.left=be+Pe},showHighlighter:function(U){this.canvas.getHighlighter(U).style.opacity=""},initResize:function(U){var R=this,W=R.em,H=R.canvas,ie=W.Editor,M=!(0,t.isElement)(U)&&(0,E.GW)(U)?U:W.getSelected(),we=M==null?void 0:M.get("resizable"),oe=K.F.Resize,xe=H.hasCustomSpot(oe);if(H.removeSpots({type:oe}),M&&we){H.addSpot({type:oe,component:M});var De=(0,t.isElement)(U)?U:M.getEl(),se=(0,N.isObject)(we)?we:{},Ee=se.onStart,ze=Ee===void 0?function(){}:Ee,Pe=se.onMove,Ce=Pe===void 0?function(){}:Pe,le=se.onEnd,be=le===void 0?function(){}:le,Te=se.updateTarget,We=Te===void 0?function(){}:Te,Je=Q(se,["onStart","onMove","onEnd","updateTarget"]);if(xe||!De||this.activeResizer)return;var He,nt=W.config,Dt=nt.stylePrefix||"",ht="".concat(Dt,"resizing"),nr=this,Kt={component:M,el:De},_t=function(z,Y,de){var _e=de.docs;_e&&_e.forEach(function(G){var ve=G.body,fe=ve.className||"";ve.className=(z=="add"?"".concat(fe," ").concat(ht):fe.replace(ht,"")).trim()})},A=ue({onStart:function(z,Y){ze(z,Y);var de=Y.el,_e=Y.config,G=Y.resizer,ve=_e.keyHeight,fe=_e.keyWidth,st=_e.currentUnit,xt=_e.keepAutoHeight,yt=_e.keepAutoWidth;_t("add",z,Y),He=W.Styles.getModelToStyle(M),H.toggleFramesEvents(!1);var B=getComputedStyle(de),ae=He.getStyle(),I=ae[fe];_e.autoWidth=yt&&I==="auto",isNaN(parseFloat(I))&&(I=B[fe]);var Ae=ae[ve];_e.autoHeight=xt&&Ae==="auto",isNaN(parseFloat(Ae))&&(Ae=B[ve]),G.startDim.w=parseFloat(I),G.startDim.h=parseFloat(Ae),$=!1,st&&(_e.unitHeight=(0,N.getUnitFromValue)(Ae),_e.unitWidth=(0,N.getUnitFromValue)(I)),nr.activeResizer=!0,ie.trigger("component:resize",ue(ue({},Kt),{type:"start"}))},onMove:function(z){Ce(z),ie.trigger("component:resize",ue(ue({},Kt),{type:"move"}))},onEnd:function(z,Y){be(z,Y),_t("remove",z,Y),ie.trigger("component:resize",ue(ue({},Kt),{type:"end"})),H.toggleFramesEvents(!0),$=!0,nr.activeResizer=!1},updateTarget:function(z,Y,de){if(We(z,Y,de),!!He){var _e=de.store,G=de.selectedHandler,ve=de.config,fe=ve.keyHeight,st=ve.keyWidth,xt=ve.autoHeight,yt=ve.autoWidth,B=ve.unitWidth,ae=ve.unitHeight,I=["tc","bc"].indexOf(G)>=0,Ae=["cl","cr"].indexOf(G)>=0,ye={};if(!I){var Ie=H.getBody().offsetWidth,rt=Y.w<Ie?Y.w:Ie;ye[st]=yt?"auto":"".concat(rt).concat(B)}Ae||(ye[fe]=xt?"auto":"".concat(Y.h).concat(ae)),W.getDragMode(M)&&(ye.top="".concat(Y.t).concat(ae),ye.left="".concat(Y.l).concat(B));var tt=ue(ue({},ye),{__p:!_e});He.addStyle(tt,{avoidStore:!_e}),W.Styles.__emitCmpStyleUpdate(tt,{components:W.getSelected()})}}},Je);this.resizer=ie.runCommand("resize",{el:De,options:A,force:1})}else{if(xe)return;ie.stopCommand("resize"),this.resizer=null}},updateToolbar:function(U){var R=this.canvas,W=this.config.em,H=U===W?W.getSelected():U,ie=R.getToolbarEl(),M=ie.style,we=H.get("toolbar"),oe=W.config.showToolbar,xe=!R.hasCustomSpot(K.F.Select);if(H&&oe&&we&&we.length&&xe){if(M.display="",!this.toolbar){ie.innerHTML="",this.toolbar=new h(we);var De=new T({collection:this.toolbar,em:W});ie.appendChild(De.render().el)}this.toolbar.reset(we),M.top="-100px",M.left="0"}else M.display="none"},updateToolbarPos:function(U){var R="px",W=this.canvas.getToolbarEl().style;W.top="".concat(U.top).concat(R),W.left="".concat(U.left).concat(R),W.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(U){return U===void 0&&(U={}),this.canvas.getBadgeEl(U.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(U){return U&&U.get("status")==="selected"},updateToolsLocal:function(U){var R=this.em.getConfig(),W=U||this.getElHovered(),H=W.el,ie=W.pos,M=W.view,we=W.component;if(!H){this.lastHovered=0;return}var oe=we.get("hoverable"),xe=this.lastHovered!==H,De=xe?{}:{posOnly:1},se=this.canvas.hasCustomSpot(K.F.Hover);xe&&oe&&(this.lastHovered=H,se?this.hideHighlighter(M):this.showHighlighter(M),this.showElementOffset(H,ie,{view:M})),this.isCompSelected(we)&&(this.hideHighlighter(M),!R.showOffsetsSelected&&this.hideElementOffset(M));var Ee="px",ze=this.toggleToolsEl(1,M),Pe=ze.style,Ce=this.canvas.canvasRectOffset(H,ie),le=Ce.top,be=Ce.left;!se&&this.updateBadge(H,ie,ue(ue({},De),{view:M,topOff:le,leftOff:be})),Pe.top=le+Ee,Pe.left=be+Ee,Pe.width=ie.width+Ee,Pe.height=ie.height+Ee,this._trgToolUp("local",{component:we,el:ze,top:le,left:be,width:ie.width,height:ie.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(U,R){R===void 0&&(R={}),this.em.trigger("canvas:tools:update",ue({type:U},R))},updateToolsGlobal:function(U){U===void 0&&(U={});var R=this.getElSelected(),W=R.el,H=R.pos,ie=R.component;if(!W){this.toggleToolsEl(),this.lastSelected=0;return}var M=this.canvas,we=this.lastSelected!==W;(we||U.force)&&(this.lastSelected=W,this.updateToolbar(ie));var oe="px",xe=this.toggleToolsEl(1),De=xe.style,se=M.getTargetToElementFixed(W,M.getToolbarEl(),{pos:H}),Ee=se.canvasOffsetTop,ze=se.canvasOffsetLeft;De.top=Ee+oe,De.left=ze+oe,De.width=H.width+oe,De.height=H.height+oe,this.updateToolbarPos({top:se.top,left:se.left}),this._trgToolUp("global",{component:ie,el:xe,top:Ee,left:ze,width:H.width,height:H.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(U){return this.canvas.getCanvasView().getElementPos(U,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(U){U&&U.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(U){(0,N.hasWin)()&&(this.editor=U&&U.get("Editor"),this.enable())},stop:function(U,R,W){if(W===void 0&&(W={}),!!(0,N.hasWin)()){var H=this,ie=H.em,M=H.editor;this.onHovered(),this.stopSelectComponent(),!W.preserveSelected&&ie.setSelected(),this.toggleToolsEl(),M&&M.stopCommand("resize")}}}},582:(n,r,e)=>{e.r(r),e.d(r,{default:()=>o});var t=e(694);const o={startSelectPosition:function(i,s,l){var c=this;l===void 0&&(l={}),this.isPointed=!1;var f=this.em.Utils,h=i.ownerDocument.body;f&&!this.sorter&&(this.sorter=new f.Sorter({container:h,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:s,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return c.em.getZoomDecimal()}})),l.onStart&&(this.sorter.onStart=l.onStart),i&&this.sorter.startSort(i,{container:h})},getOffsetDim:function(){var i=this.offset(this.canvas.getFrameEl()),s=this.offset(this.canvas.getElement()),l=i.top-s.top,c=i.left-s.left;return{top:l,left:c}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(i,s,l){var c=i||0,f=s||"before",h=l.length,g=h!==0&&f=="after"&&c==h;return h!==0&&(!g&&!l[c][4]||l[c-1]&&!l[c-1][4]||g&&!l[c-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},131:(n,r,e)=>{e.r(r),e.d(r,{default:()=>l});var t=e(523),o=e(683),i=e(694),s=function(){return s=Object.assign||function(c){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},s.apply(this,arguments)};const l={getOffsetMethod:function(c){var f=c||"";return"get"+f+"OffsetViewerEl"},run:function(c,f,h){var g=this.canvas,m=h||{},y=m.state||"",_=c.getConfig(),x=this.em.getZoomDecimal(),C=m.el;if(!_.showOffsets||!(C instanceof HTMLElement)||!_.showOffsetsSelected&&y=="Fixed"){c.stopCommand("".concat(this.id),h);return}if(!g.hasCustomSpot(o.F.Spacing)){var S=s({},m.elPos||g.getElementPos(C));(0,t.isUndefined)(m.top)||(S.top=m.top),(0,t.isUndefined)(m.left)||(S.left=m.left);var T=window.getComputedStyle(C),E=this.ppfx,N=y+"State",K=this.getOffsetMethod(y),re=g[K](h.view);re.style.opacity="";var ue=this["marginT"+y],Q=this["marginB"+y],$=this["marginL"+y],te=this["marginR"+y],U=this["padT"+y],R=this["padB"+y],W=this["padL"+y],H=this["padR"+y];if(re.childNodes.length&&(this[N]="1",ue=re.querySelector("[data-offset-m-t]"),Q=re.querySelector("[data-offset-m-b]"),$=re.querySelector("[data-offset-m-l]"),te=re.querySelector("[data-offset-m-r]"),U=re.querySelector("[data-offset-p-t]"),R=re.querySelector("[data-offset-p-b]"),W=re.querySelector("[data-offset-p-l]"),H=re.querySelector("[data-offset-p-r]")),!this[N]){var ie=y.toLowerCase(),M=ie+"margin-v",we=ie+"padding-v",oe=(0,i.default)('<div class="'.concat(E,'marginName">')).get(0),xe=(0,i.default)('<div class="'.concat(E,'paddingName">')).get(0),De=E+M+"-el",se=E+we+"-el",Ee="".concat(De," ").concat(E+M),ze="".concat(se," ").concat(E+we);ue=(0,i.default)('<div class="'.concat(Ee,'-top"></div>')).get(0),Q=(0,i.default)('<div class="'.concat(Ee,'-bottom"></div>')).get(0),$=(0,i.default)('<div class="'.concat(Ee,'-left"></div>')).get(0),te=(0,i.default)('<div class="'.concat(Ee,'-right"></div>')).get(0),U=(0,i.default)('<div class="'.concat(ze,'-top"></div>')).get(0),R=(0,i.default)('<div class="'.concat(ze,'-bottom"></div>')).get(0),W=(0,i.default)('<div class="'.concat(ze,'-left"></div>')).get(0),H=(0,i.default)('<div class="'.concat(ze,'-right"></div>')).get(0),this["marginT"+y]=ue,this["marginB"+y]=Q,this["marginL"+y]=$,this["marginR"+y]=te,this["padT"+y]=U,this["padB"+y]=R,this["padL"+y]=W,this["padR"+y]=H,oe.appendChild(ue),oe.appendChild(Q),oe.appendChild($),oe.appendChild(te),xe.appendChild(U),xe.appendChild(R),xe.appendChild(W),xe.appendChild(H),re.appendChild(oe),re.appendChild(xe),this[N]="1"}var Pe="px",Ce=parseFloat(T.marginLeft.replace(Pe,""))*x,le=parseFloat(T.marginRight.replace(Pe,""))*x,be=parseFloat(T.marginTop.replace(Pe,""))*x,Te=parseFloat(T.marginBottom.replace(Pe,""))*x,We=ue.style,Je=Q.style,He=$.style,nt=te.style,Dt=U.style,ht=R.style,nr=W.style,Kt=H.style,_t=parseFloat(S.left),A=parseFloat(T.width)*x+Pe;We.height=be+Pe,We.width=A,We.top=S.top-be+Pe,We.left=_t+Pe,Je.height=Te+Pe,Je.width=A,Je.top=S.top+S.height+Pe,Je.left=_t+Pe;var z=S.height+be+Te+Pe,Y=S.top-be+Pe;He.height=z,He.width=Ce+Pe,He.top=Y,He.left=_t-Ce+Pe,nt.height=z,nt.width=le+Pe,nt.top=Y,nt.left=_t+S.width+Pe;var de=parseFloat(T.paddingTop)*x;Dt.height=de+Pe;var _e=parseFloat(T.paddingBottom)*x;ht.height=_e+Pe;var G=S.height-_e-de+Pe,ve=S.top+de+Pe;nr.height=G,nr.width=parseFloat(T.paddingLeft)*x+Pe,nr.top=ve;var fe=parseFloat(T.paddingRight)*x;Kt.height=G,Kt.width=fe+Pe,Kt.top=ve}},stop:function(c,f,h){h===void 0&&(h={});var g=h||{},m=g.state||"",y=this.getOffsetMethod(m),_=h.view,x=this.canvas,C=x[y](_);C.style.opacity=0}}},229:(n,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(523),o=e(342);const i={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,l){if(l===void 0&&(l=!0),!s.Commands.isActive("preview")){var c=s.Canvas,f=l?"on":"off",h=c.getModel();h[f]("change:frames",this._onFramesChange),this.handleFrames(c.getFrames(),l)}},handleFrames:function(s,l){var c=this;s.forEach(function(f){var h;!((h=f.view)===null||h===void 0)&&h.loaded&&c._upFrame(f,l),f.__ol||(f.on("loaded",function(){return c._upFrame(f)}),f.__ol=!0)})},_onFramesChange:function(s,l){this.handleFrames(l)},_upFrame:function(s,l){var c,f=this,h=f.ppfx,g=f.em,m=f.id,y=(0,o.isDef)(l)?l:g.Commands.isActive(m),_=y?"add":"remove",x="".concat(h,"dashed");(c=s.view)===null||c===void 0||c.getBody().classList[_](x)}}},268:(n,r,e)=>{e.d(r,{Kx:()=>l,Ss:()=>f,lK:()=>g,pM:()=>c,x2:()=>h});var t=e(391),o=e.n(t),i=function(){var m=function(y,_){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(x[S]=C[S])},m(y,_)};return function(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");m(y,_);function x(){this.constructor=y}y.prototype=_===null?Object.create(_):(x.prototype=_.prototype,new x)}}(),s=function(){return s=Object.assign||function(m){for(var y,_=1,x=arguments.length;_<x;_++){y=arguments[_];for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(m[C]=y[C])}return m},s.apply(this,arguments)},l=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(o().Model),c=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(o().Collection),f=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(o().View),h;(function(m){m.Screen="screen",m.World="world"})(h||(h={}));var g={x:0,y:0};s(s({},g),{width:0,height:0})},249:(n,r,e)=>{e.d(r,{I:()=>o,t:()=>t});var t;(function(i){i.remove="component:remove",i.add="component:add",i.move="component:move"})(t||(t={}));var o;(function(i){i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol"})(o||(o={}))},754:(n,r,e)=>{e.d(r,{A:()=>l});var t=e(523),o=e(268),i=function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),s=function(c){i(f,c);function f(h,g,m){h===void 0&&(h={}),m===void 0&&(m=!1);var y=c.call(this,h)||this;return y.itemsView="",y.itemType="type",y.reuseView=!1,y.config=g||h.config||{},m&&y.listenTo(y.collection,"add",y.addTo),y.items=[],y}return f.prototype.addTo=function(h){this.add(h)},f.prototype.itemViewNotFound=function(h){var g=this,m=g.config,y=g.ns,_=m.em,x="".concat(y?"[".concat(y,"]: "):"","'").concat(h,"' type not found");_&&_.logWarning(x)},f.prototype.add=function(h,g){var m=this,y=m.config,_=m.reuseView,x=m.items,C=this.itemsView||{},S=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],T=g||null,E=this.itemView,N=h.get(this.itemType),K;C[N]?E=C[N]:N&&!C[N]&&!(0,t.includes)(S,N)&&this.itemViewNotFound(N),h.view&&_?K=h.view:K=new E({model:h,config:y},y),x&&x.push(K);var re=K.render().el;T?T.appendChild(re):this.$el.append(re)},f.prototype.render=function(){var h=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(g){this.add(g,h)},this),this.$el.append(h),this.onRender(),this},f.prototype.onRender=function(){},f.prototype.onRemoveBefore=function(h,g){},f.prototype.onRemove=function(h,g){},f.prototype.remove=function(h){h===void 0&&(h={});var g=this.items;return this.onRemoveBefore(g,h),this.clearItems(),c.prototype.remove.call(this),this.onRemove(g,h),this},f.prototype.clearItems=function(){this.items},f}(o.Ss);const l=s;s.prototype.itemView=""},14:(n,r,e)=>{e.d(r,{A:()=>f});var t=e(523),o=e(926),i=function(){return i=Object.assign||function(h){for(var g,m=1,y=arguments.length;m<y;m++){g=arguments[m];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(h[_]=g[_])}return h},i.apply(this,arguments)},s=function(){return{x:0,y:0}},l=["x","y"],c=function(){function h(g){return g===void 0&&(g={}),this.opts={snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(g),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(g){g===void 0&&(g={}),this.opts=i(i({},this.opts),g)},h.prototype.toggleDrag=function(g){var m=this.getDocumentEl(),y=this.getContainerEl(),_=this.getWindowEl(),x=g?"on":"off",C={on:o.on,off:o.AU};C[x](y,"mousemove dragover",this.drag),C[x](m,"mouseup dragend touchend",this.stop),C[x](m,"keydown",this.keyHandle),C[x](_,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var g=this,m=g.lastScroll,y=g.delta,_=this.getScrollInfo(),x={x:_.x-m.x,y:_.y-m.y};this.move(y.x+x.x,y.y+x.y),this.lastScrollDiff=x},h.prototype.start=function(g){var m=this.opts,y=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(g),this.guidesStatic=(0,t.result)(m,"guidesStatic")||[],this.guidesTarget=(0,t.result)(m,"guidesTarget")||[],(0,t.isFunction)(y)&&y(g,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(g)},h.prototype.drag=function(g){var m=this,y=this,_=y.opts,x=y.lastScrollDiff,C=y.globScrollDiff,S=_.onDrag,T=this.startPointer,E=this.getPointerPos(g),N={x:C.x+x.x,y:C.y+x.y};this.globScrollDiff=N;var K={x:E.x-T.x+N.x,y:E.y-T.y+N.y};this.lastScrollDiff=s();var re=this.lockedAxis;g.shiftKey?re=!re&&this.detectAxisLock(K.x,K.y):re=null,re==="x"?K.x=T.x:re==="y"&&(K.y=T.y);var ue=function(W){l.forEach(function(H){return W[H]=W[H]*(0,t.result)(_,"scale")}),m.delta=W,m.move(W.x,W.y),(0,t.isFunction)(S)&&S(g,m)},Q=i({},K);if(this.currentPointer=E,this.lockedAxis=re,this.lastScroll=this.getScrollInfo(),ue(K),this.guidesTarget.length){var $=this.snapGuides(Q),te=$.newDelta,U=$.trgX,R=$.trgY;(U||R)&&ue(te)}g.which===0&&this.stop(g)},h.prototype.snapGuides=function(g){var m=this,y=g,_=this,x=_.trgX,C=_.trgY;return this.guidesTarget.forEach(function(S){S.x&&m.trgX||S.y&&m.trgY||(S.active=!1,m.guidesStatic.forEach(function(T){if(!(S.y&&T.x||S.x&&T.y)){var E=S.y&&T.y,N=E?"y":"x",K=S[N],re=T[N],ue=g[N],Q=E?C:x;if(m.isPointIn(K,re)&&(0,t.isUndefined)(Q)){var $=ue-(K-re);m.setGuideLock(S,$)}}}))}),x=this.trgX,C=this.trgY,l.forEach(function(S){var T=S.toUpperCase(),E=m["trg".concat(T)];E&&!m.isPointIn(g[S],E.lock)&&(m.setGuideLock(E,null),E=null),E&&!(0,t.isUndefined)(E.lock)&&(y[S]=E.lock)}),{newDelta:y,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(g,m,y){var _=y===void 0?{}:y,x=_.offset,C=x||this.opts.snapOffset||0;return g>=m&&g<=m+C||g<=m&&g>=m-C},h.prototype.setGuideLock=function(g,m){var y=(0,t.isUndefined)(g.x)?"Y":"X",_="trg".concat(y);return m!==null?(g.active=!0,g.lock=m,this[_]=g):(delete g.active,delete g.lock,delete this[_]),g},h.prototype.stop=function(g,m){m===void 0&&(m={});var y=this.delta,_=!!m.cancel,x=_?0:y.x,C=_?0:y.y;this.toggleDrag(),this.lockedAxis=null,this.move(x,C,!0);var S=this.opts.onEnd;(0,t.isFunction)(S)&&S(g,this,{cancelled:_})},h.prototype.keyHandle=function(g){(0,o.v$)(g)&&this.stop(g,{cancel:!0})},h.prototype.move=function(g,m,y){var _=this,x=_.el,C=_.opts,S=this.startPosition;if(S){var T=C.setPosition,E=S.x+g,N=S.y+m;this.position={x:E,y:N,end:y},(0,t.isFunction)(T)&&T(this.position),x&&(x.style.left="".concat(E,"px"),x.style.top="".concat(N,"px"))}},h.prototype.getContainerEl=function(){var g=this.opts.container;return g?[g]:this.getDocumentEl()},h.prototype.getWindowEl=function(){var g=this.getContainerEl();return g.map(function(m){var y=m.ownerDocument||m;return y.defaultView||y.parentWindow})},h.prototype.getDocumentEl=function(g){var m=this.opts.doc;if(g=g||this.el,!this.docs.length){var y=[document];g&&y.push(g.ownerDocument),m&&y.push(m),this.docs=y}return this.docs},h.prototype.getPointerPos=function(g){var m=this.opts.getPointerPosition,y=(0,o.G2)(g);return m?m(g):{x:y.clientX,y:y.clientY}},h.prototype.getStartPosition=function(){var g=this,m=g.el,y=g.opts,_=y.getPosition,x=s();return(0,t.isFunction)(_)?x=_():m&&(x={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),x},h.prototype.getScrollInfo=function(){var g=this.opts.doc,m=g&&g.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(g,m){var y=g,_=m,x=Math.abs(y),C=Math.abs(_);if(_>=x||_<=-x)return"x";if(y>C||y<-C)return"y"},h}();const f=c},694:(n,r,e)=>{e.r(r),e.d(r,{default:()=>Mr});var t=typeof document<"u"?document:null,o=typeof window<"u"?window:null,i=Array.prototype,s=i.filter,l=i.indexOf,c=i.map,f=i.push,h=i.reverse,g=i.slice,m=i.splice,y=/^#[\w-]*$/,_=/^\.[\w-]*$/,x=/<.+>/,C=/^\w+$/;function S(V,ee){return ee===void 0&&(ee=t),_.test(V)?ee.getElementsByClassName(V.slice(1)):C.test(V)?ee.getElementsByTagName(V):ee.querySelectorAll(V)}function T(V,ee){if(ee===void 0&&(ee=t),!!V){if(V.__cash)return V;var pe=V;if(W(V)){if(ee.__cash&&(ee=ee[0]),pe=y.test(V)?ee.getElementById(V.slice(1)):x.test(V)?Et(V):S(V,ee),!pe)return}else if(R(V))return this.ready(V);(pe.nodeType||pe===o)&&(pe=[pe]),this.length=pe.length;for(var Me=0,Ge=this.length;Me<Ge;Me++)this[Me]=pe[Me]}}function E(V,ee){return new T(V,ee)}var N=E.fn=E.prototype=T.prototype={constructor:E,__cash:!0,length:0,splice:m};N.get=function(V){return V===void 0?g.call(this):this[V<0?V+this.length:V]},N.eq=function(V){return E(this.get(V))},N.first=function(){return this.eq(0)},N.last=function(){return this.eq(-1)},N.map=function(V){return E(c.call(this,function(ee,pe){return V.call(ee,pe,ee)}))},N.slice=function(){return E(g.apply(this,arguments))};var K=/(?:^\w|[A-Z]|\b\w)/g,re=/[\s-_]+/g;function ue(V){return V.replace(K,function(ee,pe){return ee[pe?"toUpperCase":"toLowerCase"]()}).replace(re,"")}E.camelCase=ue;function Q(V,ee){for(var pe=0,Me=V.length;pe<Me&&ee.call(V[pe],V[pe],pe,V)!==!1;pe++);}E.each=Q,N.each=function(V){return Q(this,function(ee,pe){return V.call(ee,pe,ee)}),this},N.removeProp=function(V){return this.each(function(ee,pe){delete pe[V]})};function $(V){V===void 0&&(V=this);for(var ee=arguments,pe=ee.length,Me=pe<2?0:1;Me<pe;Me++)for(var Ge in ee[Me])V[Ge]=ee[Me][Ge];return V}E.extend=N.extend=$;var te=1;E.guid=te;function U(V,ee){var pe=V&&(V.matches||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector||V.oMatchesSelector);return!!pe&&pe.call(V,ee)}E.matches=U;function R(V){return typeof V=="function"}E.isFunction=R;function W(V){return typeof V=="string"}E.isString=W;function H(V){return!isNaN(parseFloat(V))&&isFinite(V)}E.isNumeric=H;var ie=Array.isArray;E.isArray=ie,N.prop=function(V,ee){if(V){if(W(V))return arguments.length<2?this[0]&&this[0][V]:this.each(function(Me,Ge){Ge[V]=ee});for(var pe in V)this.prop(pe,V[pe]);return this}};function M(V){return W(V)?function(ee,pe){return U(pe,V)}:V.__cash?function(ee,pe){return V.is(pe)}:function(ee,pe,Me){return pe===Me}}N.filter=function(V){if(!V)return E();var ee=R(V)?V:M(V);return E(s.call(this,function(pe,Me){return ee.call(pe,Me,pe,V)}))};var we=/\S+/g;function oe(V){return W(V)?V.match(we)||[]:[]}N.hasClass=function(V){var ee=oe(V),pe=!1;return ee.length&&this.each(function(Me,Ge){return pe=Ge.classList.contains(ee[0]),!pe}),pe},N.removeAttr=function(V){var ee=oe(V);return ee.length?this.each(function(pe,Me){Q(ee,function(Ge){Me.removeAttribute(Ge)})}):this},N.attr=function(V,ee){if(V){if(W(V)){if(arguments.length<2){if(!this[0])return;var pe=this[0].getAttribute(V);return pe===null?void 0:pe}return ee===null?this.removeAttr(V):this.each(function(Ge,dt){dt.setAttribute(V,ee)})}for(var Me in V)this.attr(Me,V[Me]);return this}},N.toggleClass=function(V,ee){var pe=oe(V),Me=ee!==void 0;return pe.length?this.each(function(Ge,dt){Q(pe,function(bt){Me?ee?dt.classList.add(bt):dt.classList.remove(bt):dt.classList.toggle(bt)})}):this},N.addClass=function(V){return this.toggleClass(V,!0)},N.removeClass=function(V){return arguments.length?this.toggleClass(V,!1):this.attr("class","")};function xe(V){return V.filter(function(ee,pe,Me){return Me.indexOf(ee)===pe})}E.unique=xe,N.add=function(V,ee){return E(xe(this.get().concat(E(V,ee).get())))};function De(V,ee,pe){if(V.nodeType===1){var Me=o.getComputedStyle(V,null);return ee?pe?Me.getPropertyValue(ee):Me[ee]:Me}}function se(V,ee){return parseInt(De(V,ee),10)||0}var Ee=/^--/;function ze(V){return Ee.test(V)}var Pe={},Ce=t&&t.createElement("div"),le=Ce?Ce.style:{},be=["webkit","moz","ms","o"];function Te(V,ee){if(ee===void 0&&(ee=ze(V)),ee)return V;if(!Pe[V]){var pe=ue(V),Me=""+pe.charAt(0).toUpperCase()+pe.slice(1),Ge=(pe+" "+be.join(Me+" ")+Me).split(" ");Q(Ge,function(dt){if(dt in le)return Pe[V]=dt,!1})}return Pe[V]}E.prefixedProp=Te;var We={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Je(V,ee,pe){return pe===void 0&&(pe=ze(V)),!pe&&!We[V]&&H(ee)?ee+"px":ee}N.css=function(V,ee){if(W(V)){var pe=ze(V);return V=Te(V,pe),arguments.length<2?this[0]&&De(this[0],V,pe):V?(ee=Je(V,ee,pe),this.each(function(Ge,dt){dt.nodeType===1&&(pe?dt.style.setProperty(V,ee):dt.style[V]=ee)})):this}for(var Me in V)this.css(Me,V[Me]);return this};var He="__cashData",nt=/^data-(.*)/;E.hasData=function(V){return He in V};function Dt(V){return V[He]=V[He]||{}}function ht(V,ee){var pe=Dt(V);if(ee){if(!(ee in pe)){var Me=V.dataset?V.dataset[ee]||V.dataset[ue(ee)]:E(V).attr("data-"+ee);if(Me!==void 0){try{Me=JSON.parse(Me)}catch{}pe[ee]=Me}}return pe[ee]}return pe}function nr(V,ee){ee===void 0?delete V[He]:delete Dt(V)[ee]}function Kt(V,ee,pe){Dt(V)[ee]=pe}N.data=function(V,ee){var pe=this;if(!V)return this[0]?(Q(this[0].attributes,function(Ge){var dt=Ge.name.match(nt);dt&&pe.data(dt[1])}),ht(this[0])):void 0;if(W(V))return ee===void 0?this[0]&&ht(this[0],V):this.each(function(Ge,dt){return Kt(dt,V,ee)});for(var Me in V)this.data(Me,V[Me]);return this},N.removeData=function(V){return this.each(function(ee,pe){return nr(pe,V)})};function _t(V,ee){return se(V,"border"+(ee?"Left":"Top")+"Width")+se(V,"padding"+(ee?"Left":"Top"))+se(V,"padding"+(ee?"Right":"Bottom"))+se(V,"border"+(ee?"Right":"Bottom")+"Width")}Q(["Width","Height"],function(V){N["inner"+V]=function(){if(this[0])return this[0]===o?o["inner"+V]:this[0]["client"+V]}}),Q(["width","height"],function(V,ee){N[V]=function(pe){return this[0]?arguments.length?(pe=parseInt(pe,10),this.each(function(Me,Ge){if(Ge.nodeType===1){var dt=De(Ge,"boxSizing");Ge.style[V]=Je(V,pe+(dt==="border-box"?_t(Ge,!ee):0))}})):this[0]===o?this[0][ue("outer-"+V)]:this[0].getBoundingClientRect()[V]-_t(this[0],!ee):pe===void 0?void 0:this}}),Q(["Width","Height"],function(V,ee){N["outer"+V]=function(pe){if(this[0])return this[0]===o?o["outer"+V]:this[0]["offset"+V]+(pe?se(this[0],"margin"+(ee?"Top":"Left"))+se(this[0],"margin"+(ee?"Bottom":"Right")):0)}});function A(V,ee){for(var pe=0,Me=ee.length;pe<Me;pe++)if(V.indexOf(ee[pe])<0)return!1;return!0}function z(V,ee,pe){Q(V[pe],function(Me){Me[0];var Ge=Me[1];ee.removeEventListener(pe,Ge)}),delete V[pe]}var Y="__cashEvents",de=".";function _e(V){return V[Y]=V[Y]||{}}function G(V,ee,pe,Me){Me.guid=Me.guid||te++;var Ge=_e(V);Ge[ee]=Ge[ee]||[],Ge[ee].push([pe,Me]),V.addEventListener(ee,Me)}function ve(V){var ee=V.split(de);return[ee[0],ee.slice(1).sort()]}function fe(V,ee,pe,Me){var Ge=_e(V);if(ee){var dt=Ge[ee];if(!dt)return;Me&&(Me.guid=Me.guid||te++),Ge[ee]=dt.filter(function(bt){var Zt=bt[0],_r=bt[1];if(Me&&_r.guid!==Me.guid||!A(Zt,pe))return!0;V.removeEventListener(ee,_r)})}else if(!pe||!pe.length)for(ee in Ge)z(Ge,V,ee);else for(ee in Ge)fe(V,ee,pe,Me)}N.off=function(V,ee){var pe=this;return V===void 0?this.each(function(Me,Ge){return fe(Ge)}):Q(oe(V),function(Me){var Ge=ve(Me),dt=Ge[0],bt=Ge[1];pe.each(function(Zt,_r){return fe(_r,dt,bt,ee)})}),this},N.on=function(V,ee,pe,Me){var Ge=this;if(!W(V)){for(var dt in V)this.on(dt,ee,V[dt]);return this}return R(ee)&&(pe=ee,ee=!1),Q(oe(V),function(bt){var Zt=ve(bt),_r=Zt[0],Qt=Zt[1];Ge.each(function(io,er){var sn=function Vn(Vt){if(!(Vt.namespace&&!A(Qt,Vt.namespace.split(de)))){var br=er;if(ee){for(var jt=Vt.target;!U(jt,ee);)if(jt===er||(jt=jt.parentNode,!jt))return;br=jt}Vt.namespace=Vt.namespace||"";var Qr=pe.call(br,Vt,Vt.data);Me&&fe(er,_r,Qt,Vn),Qr===!1&&(Vt.preventDefault(),Vt.stopPropagation())}};sn.guid=pe.guid=pe.guid||te++,G(er,_r,Qt,sn)})}),this},N.one=function(V,ee,pe){return this.on(V,ee,pe,!0)},N.ready=function(V){var ee=function(){return V(E)};return t.readyState!=="loading"?setTimeout(ee):t.addEventListener("DOMContentLoaded",ee),this},N.trigger=function(V,ee){var pe=V;if(W(V)){var Me=ve(V),Ge=Me[0],dt=Me[1];pe=t.createEvent("HTMLEvents"),pe.initEvent(Ge,!0,!0),pe.namespace=dt.join(de)}return pe.data=ee,this.each(function(bt,Zt){Zt.dispatchEvent(pe)})};function st(V){var ee=[];return Q(V.options,function(pe){pe.selected&&!pe.disabled&&!pe.parentNode.disabled&&ee.push(pe.value)}),ee}function xt(V){return V.selectedIndex<0?null:V.options[V.selectedIndex].value}var yt=/select-one/i,B=/select-multiple/i;function ae(V){var ee=V.type;return yt.test(ee)?xt(V):B.test(ee)?st(V):V.value}var I=/%20/g;function Ae(V,ee){return"&"+encodeURIComponent(V)+"="+encodeURIComponent(ee).replace(I,"+")}var ye=/file|reset|submit|button|image/i,Ie=/radio|checkbox/i;N.serialize=function(){var V="";return this.each(function(ee,pe){Q(pe.elements||[pe],function(Me){if(!(Me.disabled||!Me.name||Me.tagName==="FIELDSET")&&!ye.test(Me.type)&&!(Ie.test(Me.type)&&!Me.checked)){var Ge=ae(Me);if(Ge!==void 0){var dt=ie(Ge)?Ge:[Ge];Q(dt,function(bt){V+=Ae(Me.name,bt)})}}})}),V.substr(1)},N.val=function(V){return V===void 0?this[0]&&ae(this[0]):this.each(function(ee,pe){var Me=B.test(pe.type),Ge=V===null?Me?[]:"":V;Me&&ie(Ge)?Q(pe.options,function(dt){dt.selected=Ge.indexOf(dt.value)>=0}):pe.value=Ge})},N.clone=function(){return this.map(function(V,ee){return ee.cloneNode(!0)})},N.detach=function(){return this.each(function(V,ee){ee.parentNode&&ee.parentNode.removeChild(ee)})};var rt=/^\s*<(\w+)[^>]*>/,tt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,qe;function ut(){if(!qe){var V=t.createElement("table"),ee=t.createElement("tr");qe={"*":t.createElement("div"),tr:t.createElement("tbody"),td:ee,th:ee,thead:V,tbody:V,tfoot:V}}}function Et(V){if(ut(),!W(V))return[];if(tt.test(V))return[t.createElement(RegExp.$1)];var ee=rt.test(V)&&RegExp.$1,pe=qe[ee]||qe["*"];return pe.innerHTML=V,E(pe.childNodes).detach().get()}E.parseHTML=Et,N.empty=function(){var V=this[0];if(V)for(;V.firstChild;)V.removeChild(V.firstChild);return this};function Rt(V,ee,pe){pe?V.insertBefore(ee,V.childNodes[0]):V.appendChild(ee)}function kt(V,ee,pe){if(ee!==void 0){var Me=W(ee);!Me&&ee.length?Q(ee,function(Ge){return kt(V,Ge,pe)}):Q(V,Me?function(Ge){Ge.insertAdjacentHTML(pe?"afterbegin":"beforeend",ee)}:function(Ge,dt){return Rt(Ge,dt?ee.cloneNode(!0):ee,pe)})}}N.append=function(){var V=this;return Q(arguments,function(ee){kt(V,ee)}),this},N.appendTo=function(V){return kt(E(V),this),this},N.html=function(V){if(V===void 0)return this[0]&&this[0].innerHTML;var ee=V.nodeType?V[0].outerHTML:V;return this.each(function(pe,Me){Me.innerHTML=ee})},N.insertAfter=function(V){var ee=this;return E(V).each(function(pe,Me){var Ge=Me.parentNode;ee.each(function(dt,bt){Ge.insertBefore(pe?bt.cloneNode(!0):bt,Me.nextSibling)})}),this},N.after=function(){var V=this;return Q(h.apply(arguments),function(ee){h.apply(E(ee).slice()).insertAfter(V)}),this},N.insertBefore=function(V){var ee=this;return E(V).each(function(pe,Me){var Ge=Me.parentNode;ee.each(function(dt,bt){Ge.insertBefore(pe?bt.cloneNode(!0):bt,Me)})}),this},N.before=function(){var V=this;return Q(arguments,function(ee){E(ee).insertBefore(V)}),this},N.prepend=function(){var V=this;return Q(arguments,function(ee){kt(V,ee,!0)}),this},N.prependTo=function(V){return kt(E(V),h.apply(this.slice()),!0),this},N.remove=function(){return this.detach().off()},N.replaceWith=function(V){var ee=this;return this.each(function(pe,Me){var Ge=Me.parentNode;if(Ge){var dt=pe?E(V).clone():E(V);if(!dt[0])return ee.remove(),!1;Ge.replaceChild(dt[0],Me),E(dt[0]).after(dt.slice(1))}})},N.replaceAll=function(V){return E(V).replaceWith(this),this},N.text=function(V){return V===void 0?this[0]?this[0].textContent:"":this.each(function(ee,pe){pe.textContent=V})};var fr=t&&t.documentElement;N.offset=function(){var V=this[0];if(V){var ee=V.getBoundingClientRect();return{top:ee.top+o.pageYOffset-fr.clientTop,left:ee.left+o.pageXOffset-fr.clientLeft}}},N.offsetParent=function(){return E(this[0]&&this[0].offsetParent)},N.position=function(){var V=this[0];if(V)return{left:V.offsetLeft,top:V.offsetTop}},N.children=function(V){var ee=[];return this.each(function(pe,Me){f.apply(ee,Me.children)}),ee=E(xe(ee)),V?ee.filter(function(pe,Me){return U(Me,V)}):ee},N.contents=function(){var V=[];return this.each(function(ee,pe){f.apply(V,pe.tagName==="IFRAME"?[pe.contentDocument]:pe.childNodes)}),E(V.length&&xe(V))},N.find=function(V){for(var ee=[],pe=0,Me=this.length;pe<Me;pe++){var Ge=S(V,this[pe]);Ge.length&&f.apply(ee,Ge)}return E(ee.length&&xe(ee))},N.has=function(V){var ee=W(V)?function(pe,Me){return!!S(V,Me).length}:function(pe,Me){return Me.contains(V)};return this.filter(ee)},N.is=function(V){if(!V||!this[0])return!1;var ee=M(V),pe=!1;return this.each(function(Me,Ge){return pe=ee(Me,Ge,V),!pe}),pe},N.next=function(){return E(this[0]&&this[0].nextElementSibling)},N.not=function(V){if(!V||!this[0])return this;var ee=M(V);return this.filter(function(pe,Me){return!ee(pe,Me,V)})},N.parent=function(){var V=[];return this.each(function(ee,pe){pe&&pe.parentNode&&V.push(pe.parentNode)}),E(xe(V))},N.index=function(V){var ee=V?E(V)[0]:this[0],pe=V?this:E(ee).parent().children();return l.call(pe,ee)},N.closest=function(V){return!V||!this[0]?E():this.is(V)?this.filter(V):this.parent().closest(V)},N.parents=function(V){var ee=[],pe;return this.each(function(Me,Ge){for(pe=Ge;pe&&pe.parentNode&&pe!==t.body.parentNode;)pe=pe.parentNode,(!V||V&&U(pe,V))&&ee.push(pe)}),E(xe(ee))},N.prev=function(){return E(this[0]&&this[0].previousElementSibling)},N.siblings=function(){var V=this[0];return this.parent().children().filter(function(ee,pe){return pe!==V})};const Mr=E},926:(n,r,e)=>{e.d(r,{AU:()=>De,BC:()=>C,C8:()=>Q,Ch:()=>U,Ci:()=>H,D8:()=>l,G2:()=>R,GW:()=>ue,GZ:()=>T,I6:()=>g,LJ:()=>we,Sc:()=>x,X6:()=>m,Xy:()=>$,YZ:()=>f,ZQ:()=>c,a_:()=>S,af:()=>N,bG:()=>_,cx:()=>h,ir:()=>K,kk:()=>oe,on:()=>xe,rp:()=>M,v$:()=>W,yL:()=>E,zN:()=>y});var t=e(523),o=function(se,Ee,ze){if(ze||arguments.length===2)for(var Pe=0,Ce=Ee.length,le;Pe<Ce;Pe++)(le||!(Pe in Ee))&&(le||(le=Array.prototype.slice.call(Ee,0,Pe)),le[Pe]=Ee[Pe]);return se.concat(le||Array.prototype.slice.call(Ee))},i="tag",s="attributes",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",c=function(se){return(se==null?void 0:se.nodeType)===Node.DOCUMENT_NODE},f=function(se){var Ee=se&&se.parentNode;Ee&&Ee.removeChild(se)};function h(){for(var se=[],Ee=0;Ee<arguments.length;Ee++)se[Ee]=arguments[Ee];var ze=Array.isArray(se[0])?se[0]:o([],se,!0);return ze.filter(Boolean).join(" ")}var g=function(se,Ee){return se.querySelectorAll(Ee)},m=function(se,Ee){return Ee===void 0&&(Ee={}),se&&se.setAttribute&&(0,t.each)(Ee,function(ze,Pe){return se.setAttribute(Pe,ze)})},y=function(se){var Ee;return se&&!!(se.offsetWidth||se.offsetHeight||!((Ee=se.getClientRects)===null||Ee===void 0)&&Ee.call(se).length)},_=function(se,Ee){var ze;(ze=se.parentNode)===null||ze===void 0||ze.replaceChild(Ee,se)},x=function(se,Ee,ze){var Pe=se.childNodes,Ce=Pe.length,le=(0,t.isUndefined)(ze)?Ce:ze;(0,t.isString)(Ee)&&(se.insertAdjacentHTML("beforeEnd",Ee),Ee=se.lastChild,se.removeChild(Ee)),le>=Ce?se.appendChild(Ee):se.insertBefore(Ee,Pe[le])},C=function(se,Ee){return x(se,Ee)},S=function(se,Ee,ze){Ee===void 0&&(Ee={});var Pe=document.createElement(se);return Ee&&(0,t.each)(Ee,function(Ce,le){return Pe.setAttribute(le,Ce)}),ze&&((0,t.isString)(ze)?Pe.innerHTML=ze:Pe.appendChild(ze)),Pe},T=function(se){return document.createTextNode(se)},E=function(se,Ee){var ze,Pe=se.type;try{ze=new window[Ee](Pe,se)}catch{ze=document.createEvent(Ee),ze.initEvent(Pe,!0,!0)}return ze._parentEvent=se,Pe.indexOf("key")===0&&(ze.keyCodeVal=se.keyCode,["keyCode","which"].forEach(function(Ce){Object.defineProperty(ze,Ce,{get:function(){return this.keyCodeVal}})})),ze},N=function(se,Ee){Ee===void 0&&(Ee=[]);var ze=Array.isArray(Ee)?Ee:[Ee];ze.forEach(function(Pe){var Ce=Pe[i]||"div",le=Pe[s]||{},be=document.createElement(Ce);(0,t.each)(le,function(Te,We){be.setAttribute(We,Te)}),se.appendChild(be)})},K=function(se){return(se==null?void 0:se.nodeType)===Node.TEXT_NODE},re=function(se){return(se==null?void 0:se.nodeType)===Node.COMMENT_NODE},ue=function(se){return se&&!K(se)&&!re(se)},Q=function(se){var Ee={top:0,left:0,width:0,height:0};if(!se)return Ee;var ze;if(K(se)){var Pe=document.createRange();Pe.selectNode(se),ze=Pe.getBoundingClientRect(),Pe.detach()}return ze||(se.getBoundingClientRect?se.getBoundingClientRect():Ee)},$=function(se){var Ee=(se==null?void 0:se.ownerDocument)||document,ze=Ee.documentElement,Pe=Ee.defaultView||window;return{x:(Pe.pageXOffset||ze.scrollLeft||0)-(ze.clientLeft||0),y:(Pe.pageYOffset||ze.scrollTop||0)-(ze.clientTop||0)}},te=function(se){return se.which||se.keyCode},U=function(se){return String.fromCharCode(te(se))},R=function(se){return se.touches&&se.touches[0]?se.touches[0]:se},W=function(se){return te(se)===27},H=function(se){return te(se)===13},ie=function(se){return se.ctrlKey},M=function(se){return ie(se)||se.metaKey},we=function(se){if(!se)return"";var Ee=se.name,ze=se.publicId,Pe=se.systemId,Ce=ze?' PUBLIC "'.concat(ze,'"'):"",le=!ze&&Pe?' SYSTEM "'.concat(Pe,'"'):"";return"<!DOCTYPE ".concat(Ee).concat(Ce).concat(le,">")},oe=function(se){se===void 0&&(se={});var Ee=[];return(0,t.each)(se,function(ze,Pe){return Ee.push("".concat(Pe,'="').concat(ze,'"'))}),Ee.join(" ")},xe=function(se,Ee,ze,Pe){var Ce=Ee.split(/\s+/),le=(0,t.isArray)(se)?se:[se];Ce.forEach(function(be){le.forEach(function(Te){return Te==null?void 0:Te.addEventListener(be,ze,Pe)})})},De=function(se,Ee,ze,Pe){var Ce=Ee.split(/\s+/),le=(0,t.isArray)(se)?se:[se];Ce.forEach(function(be){le.forEach(function(Te){return Te==null?void 0:Te.removeEventListener(be,ze,Pe)})})}},342:(n,r,e)=>{e.r(r),e.d(r,{appendStyles:()=>T,buildBase64UrlFromSvg:()=>Ce,camelCase:()=>re,capitalize:()=>we,createId:()=>Pe,deepMerge:()=>W,escape:()=>U,escapeNodeContent:()=>R,find:()=>te,getComponentModel:()=>Ee,getComponentView:()=>se,getElement:()=>$,getGlobal:()=>y,getModel:()=>H,getUiClass:()=>S,getUnitFromValue:()=>N,getViewEl:()=>xe,hasDnd:()=>Q,hasWin:()=>m,isBultInMethod:()=>c,isComponent:()=>De,isDef:()=>g,isEmptyObj:()=>M,isObject:()=>ie,isRule:()=>oe,matches:()=>C,normalizeFloat:()=>ue,normalizeKey:()=>f,setViewEl:()=>ze,shallowDiff:()=>E,toLowerCase:()=>_,upFirst:()=>K,wait:()=>h});var t=e(523),o=e(926),i=function(){return i=Object.assign||function(le){for(var be,Te=1,We=arguments.length;Te<We;Te++){be=arguments[Te];for(var Je in be)Object.prototype.hasOwnProperty.call(be,Je)&&(le[Je]=be[Je])}return le},i.apply(this,arguments)},s=function(le,be,Te){if(Te||arguments.length===2)for(var We=0,Je=be.length,He;We<Je;We++)(He||!(We in be))&&(He||(He=Array.prototype.slice.call(be,0,We)),He[We]=be[We]);return le.concat(He||Array.prototype.slice.call(be))},l={},c=function(le){return(0,t.isFunction)(l[le])},f=function(le){return c(le)?"_".concat(le):le},h=function(le){return le===void 0&&(le=0),new Promise(function(be){return setTimeout(be,le)})},g=function(le){return typeof le<"u"},m=function(){return typeof window<"u"},y=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},_=function(le){return(le||"").toLowerCase()},x=m()?window.Element.prototype:{},C=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector,S=function(le,be){var Te=le.getConfig(),We=Te.stylePrefix,Je=Te.customUI;return[Je&&"".concat(We,"cui"),be].filter(function(He){return He}).join(" ")},T=function(le,be){be===void 0&&(be={});var Te=(0,t.isArray)(le)?s([],le,!0):[le];if(Te.length){var We=Te.shift();if(We&&(!be.unique||!document.querySelector('link[href="'.concat(We,'"]')))){var Je=document.head,He=document.createElement("link");He.href=We,He.rel="stylesheet",be.prepand?Je.insertBefore(He,Je.firstChild):Je.appendChild(He)}T(Te)}},E=function(le,be){var Te={},We=(0,t.keys)(be);for(var Je in le)if(le.hasOwnProperty(Je)){var He=le[Je],nt=be[Je];We.indexOf(Je)>=0?He!==nt&&(Te[Je]=nt):Te[Je]=null}for(var Je in be)be.hasOwnProperty(Je)&&(0,t.isUndefined)(le[Je])&&(Te[Je]=be[Je]);return Te},N=function(le){return le.replace(parseFloat(le),"")},K=function(le){return le[0].toUpperCase()+le.toLowerCase().slice(1)},re=function(le){return le.replace(/-./g,function(be){return be[1].toUpperCase()})},ue=function(le,be,Te){be===void 0&&(be=1),Te===void 0&&(Te=0);var We=0;if(isNaN(le))return Te;if(le=parseFloat(le),Math.floor(le)!==le){var Je=be.toString().split(".")[1];We=Je?Je.length:0}return We?parseFloat(le.toFixed(We)):le},Q=function(le){return"draggable"in document.createElement("i")&&(le?le.config.nativeDnD:!0)},$=function(le){if((0,t.isElement)(le)||(0,o.ir)(le))return le;if(le&&le.getEl)return le.getEl()},te=function(le,be){var Te=null;return le.some(function(We,Je){return be(We,Je,le)?(Te=We,1):0}),Te},U=function(le){return le===void 0&&(le=""),"".concat(le).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},R=function(le){return le===void 0&&(le=""),"".concat(le).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},W=function(){for(var le=[],be=0;be<arguments.length;be++)le[be]=arguments[be];for(var Te=i({},le[0]),We=1;We<le.length;We++){var Je=i({},le[We]);for(var He in Je){var nt=Te[He],Dt=Je[He];ie(nt)&&ie(Dt)?Te[He]=W(nt,Dt):Te[He]=Dt}}return Te},H=function(le,be){var Te;return!be&&le&&le.__cashData?Te=le.__cashData.model:be&&(0,t.isElement)(le)&&(Te=be(le).data("model")),Te},ie=function(le){return le&&!Array.isArray(le)&&typeof le=="object"},M=function(le){return Object.keys(le).length<=0},we=function(le){return le===void 0&&(le=""),le&&le.charAt(0).toUpperCase()+le.substring(1)},oe=function(le){return le&&le.toCSS},xe=function(le){return le==null?void 0:le.__gjsv},De=function(le){return!!(le!=null&&le.toHTML)},se=function(le){return xe(le)},Ee=function(le){var be;return(be=se(le))===null||be===void 0?void 0:be.model},ze=function(le,be){le.__gjsv=be},Pe=function(le){le===void 0&&(le=16);for(var be="",Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",We=Te.length,Je=0;Je<le;Je++)be+=Te.charAt(Math.floor(Math.random()*We));return be},Ce=function(le){if(le&&le.substr(0,4)==="<svg"){var be="";return m()?be=window.btoa(le):typeof Buffer<"u"&&(be=Buffer.from(le,"utf8").toString("base64")),be?"data:image/svg+xml;base64,".concat(be):le}return le}},585:(n,r,e)=>{var t={"./CanvasClear":404,"./CanvasClear.ts":404,"./CanvasMove":228,"./CanvasMove.ts":228,"./CommandAbstract":570,"./CommandAbstract.ts":570,"./ComponentDelete":377,"./ComponentDelete.ts":377,"./ComponentDrag":728,"./ComponentDrag.ts":728,"./ComponentEnter":462,"./ComponentEnter.ts":462,"./ComponentExit":658,"./ComponentExit.ts":658,"./ComponentNext":619,"./ComponentNext.ts":619,"./ComponentPrev":935,"./ComponentPrev.ts":935,"./ComponentStyleClear":536,"./ComponentStyleClear.ts":536,"./CopyComponent":957,"./CopyComponent.ts":957,"./ExportTemplate":413,"./ExportTemplate.ts":413,"./Fullscreen":516,"./Fullscreen.ts":516,"./MoveComponent":13,"./MoveComponent.ts":13,"./OpenAssets":204,"./OpenAssets.ts":204,"./OpenBlocks":195,"./OpenBlocks.ts":195,"./OpenLayers":671,"./OpenLayers.ts":671,"./OpenStyleManager":49,"./OpenStyleManager.ts":49,"./OpenTraitManager":590,"./OpenTraitManager.ts":590,"./PasteComponent":483,"./PasteComponent.ts":483,"./Preview":857,"./Preview.ts":857,"./Resize":869,"./Resize.ts":869,"./SelectComponent":194,"./SelectComponent.ts":194,"./SelectPosition":582,"./SelectPosition.ts":582,"./ShowOffset":131,"./ShowOffset.ts":131,"./SwitchVisibility":229,"./SwitchVisibility.ts":229};function o(s){var l=i(s);return e(l)}function i(s){if(!e.o(t,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return t[s]}o.keys=function(){return Object.keys(t)},o.resolve=i,n.exports=o,o.id=585},523:(n,r,e)=>{e.r(r),e.d(r,{VERSION:()=>o,after:()=>co,all:()=>Ci,allKeys:()=>qe,any:()=>Zi,assign:()=>sn,before:()=>fo,bind:()=>Xi,bindAll:()=>qa,chain:()=>Yi,chunk:()=>Ao,clone:()=>Qr,collect:()=>cn,compact:()=>df,compose:()=>_i,constant:()=>_t,contains:()=>Br,countBy:()=>cf,create:()=>jt,debounce:()=>Rs,default:()=>Oi,defaults:()=>Vn,defer:()=>un,delay:()=>Bo,detect:()=>wt,difference:()=>au,drop:()=>ai,each:()=>Tr,escape:()=>Fe,every:()=>Ci,extend:()=>er,extendOwn:()=>sn,filter:()=>Hn,find:()=>wt,findIndex:()=>To,findKey:()=>Ji,findLastIndex:()=>xi,findWhere:()=>ir,first:()=>ea,flatten:()=>iu,foldl:()=>Cn,foldr:()=>Sn,forEach:()=>Tr,functions:()=>Qt,get:()=>Or,groupBy:()=>uf,has:()=>ln,head:()=>ea,identity:()=>Ut,include:()=>Br,includes:()=>Br,indexBy:()=>ru,indexOf:()=>ct,initial:()=>vr,inject:()=>Cn,intersection:()=>hf,invert:()=>_r,invoke:()=>of,isArguments:()=>ht,isArray:()=>He,isArrayBuffer:()=>se,isBoolean:()=>R,isDataView:()=>Je,isDate:()=>we,isElement:()=>W,isEmpty:()=>B,isEqual:()=>tt,isError:()=>xe,isFinite:()=>nr,isFunction:()=>Pe,isMap:()=>pe,isMatch:()=>ae,isNaN:()=>Kt,isNull:()=>te,isNumber:()=>M,isObject:()=>$,isRegExp:()=>oe,isSet:()=>Ge,isString:()=>ie,isSymbol:()=>De,isTypedArray:()=>ve,isUndefined:()=>U,isWeakMap:()=>Me,isWeakSet:()=>dt,iteratee:()=>Mt,keys:()=>yt,last:()=>ta,lastIndexOf:()=>It,map:()=>cn,mapObject:()=>zn,matcher:()=>it,matches:()=>it,max:()=>eu,memoize:()=>lo,methods:()=>Qt,min:()=>tu,mixin:()=>Xa,negate:()=>uo,noop:()=>ao,now:()=>j,object:()=>vf,omit:()=>Qi,once:()=>Ya,pairs:()=>Zt,partial:()=>zo,partition:()=>nu,pick:()=>ou,pluck:()=>js,property:()=>Ur,propertyOf:()=>je,random:()=>so,range:()=>oa,reduce:()=>Cn,reduceRight:()=>Sn,reject:()=>ko,rest:()=>ai,restArguments:()=>Q,result:()=>yi,sample:()=>Is,select:()=>Hn,shuffle:()=>sf,size:()=>ff,some:()=>Zi,sortBy:()=>lf,sortedIndex:()=>Wo,tail:()=>ai,take:()=>ea,tap:()=>mt,template:()=>mi,templateSettings:()=>At,throttle:()=>Dr,times:()=>vt,toArray:()=>Si,toPath:()=>Un,transpose:()=>na,unescape:()=>Ot,union:()=>pf,uniq:()=>ra,unique:()=>ra,uniqueId:()=>qi,unzip:()=>na,values:()=>bt,where:()=>af,without:()=>Us,wrap:()=>Ho,zip:()=>su});var t={};e.r(t),e.d(t,{VERSION:()=>o,after:()=>co,all:()=>Ci,allKeys:()=>qe,any:()=>Zi,assign:()=>sn,before:()=>fo,bind:()=>Xi,bindAll:()=>qa,chain:()=>Yi,chunk:()=>Ao,clone:()=>Qr,collect:()=>cn,compact:()=>df,compose:()=>_i,constant:()=>_t,contains:()=>Br,countBy:()=>cf,create:()=>jt,debounce:()=>Rs,default:()=>gf,defaults:()=>Vn,defer:()=>un,delay:()=>Bo,detect:()=>wt,difference:()=>au,drop:()=>ai,each:()=>Tr,escape:()=>Fe,every:()=>Ci,extend:()=>er,extendOwn:()=>sn,filter:()=>Hn,find:()=>wt,findIndex:()=>To,findKey:()=>Ji,findLastIndex:()=>xi,findWhere:()=>ir,first:()=>ea,flatten:()=>iu,foldl:()=>Cn,foldr:()=>Sn,forEach:()=>Tr,functions:()=>Qt,get:()=>Or,groupBy:()=>uf,has:()=>ln,head:()=>ea,identity:()=>Ut,include:()=>Br,includes:()=>Br,indexBy:()=>ru,indexOf:()=>ct,initial:()=>vr,inject:()=>Cn,intersection:()=>hf,invert:()=>_r,invoke:()=>of,isArguments:()=>ht,isArray:()=>He,isArrayBuffer:()=>se,isBoolean:()=>R,isDataView:()=>Je,isDate:()=>we,isElement:()=>W,isEmpty:()=>B,isEqual:()=>tt,isError:()=>xe,isFinite:()=>nr,isFunction:()=>Pe,isMap:()=>pe,isMatch:()=>ae,isNaN:()=>Kt,isNull:()=>te,isNumber:()=>M,isObject:()=>$,isRegExp:()=>oe,isSet:()=>Ge,isString:()=>ie,isSymbol:()=>De,isTypedArray:()=>ve,isUndefined:()=>U,isWeakMap:()=>Me,isWeakSet:()=>dt,iteratee:()=>Mt,keys:()=>yt,last:()=>ta,lastIndexOf:()=>It,map:()=>cn,mapObject:()=>zn,matcher:()=>it,matches:()=>it,max:()=>eu,memoize:()=>lo,methods:()=>Qt,min:()=>tu,mixin:()=>Xa,negate:()=>uo,noop:()=>ao,now:()=>j,object:()=>vf,omit:()=>Qi,once:()=>Ya,pairs:()=>Zt,partial:()=>zo,partition:()=>nu,pick:()=>ou,pluck:()=>js,property:()=>Ur,propertyOf:()=>je,random:()=>so,range:()=>oa,reduce:()=>Cn,reduceRight:()=>Sn,reject:()=>ko,rest:()=>ai,restArguments:()=>Q,result:()=>yi,sample:()=>Is,select:()=>Hn,shuffle:()=>sf,size:()=>ff,some:()=>Zi,sortBy:()=>lf,sortedIndex:()=>Wo,tail:()=>ai,take:()=>ea,tap:()=>mt,template:()=>mi,templateSettings:()=>At,throttle:()=>Dr,times:()=>vt,toArray:()=>Si,toPath:()=>Un,transpose:()=>na,unescape:()=>Ot,union:()=>pf,uniq:()=>ra,unique:()=>ra,uniqueId:()=>qi,unzip:()=>na,values:()=>bt,where:()=>af,without:()=>Us,wrap:()=>Ho,zip:()=>su});var o="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,l=Object.prototype,c=typeof Symbol<"u"?Symbol.prototype:null,f=s.push,h=s.slice,g=l.toString,m=l.hasOwnProperty,y=typeof ArrayBuffer<"u",_=typeof DataView<"u",x=Array.isArray,C=Object.keys,S=Object.create,T=y&&ArrayBuffer.isView,E=isNaN,N=isFinite,K=!{toString:null}.propertyIsEnumerable("toString"),re=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ue=Math.pow(2,53)-1;function Q(k,F){return F=F==null?k.length-1:+F,function(){for(var J=Math.max(arguments.length-F,0),ne=Array(J),me=0;me<J;me++)ne[me]=arguments[me+F];switch(F){case 0:return k.call(this,ne);case 1:return k.call(this,arguments[0],ne);case 2:return k.call(this,arguments[0],arguments[1],ne)}var he=Array(F+1);for(me=0;me<F;me++)he[me]=arguments[me];return he[F]=ne,k.apply(this,he)}}function $(k){var F=typeof k;return F==="function"||F==="object"&&!!k}function te(k){return k===null}function U(k){return k===void 0}function R(k){return k===!0||k===!1||g.call(k)==="[object Boolean]"}function W(k){return!!(k&&k.nodeType===1)}function H(k){var F="[object "+k+"]";return function(J){return g.call(J)===F}}const ie=H("String"),M=H("Number"),we=H("Date"),oe=H("RegExp"),xe=H("Error"),De=H("Symbol"),se=H("ArrayBuffer");var Ee=H("Function"),ze=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof ze!="function"&&(Ee=function(k){return typeof k=="function"||!1});const Pe=Ee,Ce=H("Object");var le=_&&Ce(new DataView(new ArrayBuffer(8))),be=typeof Map<"u"&&Ce(new Map),Te=H("DataView");function We(k){return k!=null&&Pe(k.getInt8)&&se(k.buffer)}const Je=le?We:Te,He=x||H("Array");function nt(k,F){return k!=null&&m.call(k,F)}var Dt=H("Arguments");(function(){Dt(arguments)||(Dt=function(k){return nt(k,"callee")})})();const ht=Dt;function nr(k){return!De(k)&&N(k)&&!isNaN(parseFloat(k))}function Kt(k){return M(k)&&E(k)}function _t(k){return function(){return k}}function A(k){return function(F){var J=k(F);return typeof J=="number"&&J>=0&&J<=ue}}function z(k){return function(F){return F==null?void 0:F[k]}}const Y=z("byteLength"),de=A(Y);var _e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function G(k){return T?T(k)&&!Je(k):de(k)&&_e.test(g.call(k))}const ve=y?G:_t(!1),fe=z("length");function st(k){for(var F={},J=k.length,ne=0;ne<J;++ne)F[k[ne]]=!0;return{contains:function(me){return F[me]},push:function(me){return F[me]=!0,k.push(me)}}}function xt(k,F){F=st(F);var J=re.length,ne=k.constructor,me=Pe(ne)&&ne.prototype||l,he="constructor";for(nt(k,he)&&!F.contains(he)&&F.push(he);J--;)he=re[J],he in k&&k[he]!==me[he]&&!F.contains(he)&&F.push(he)}function yt(k){if(!$(k))return[];if(C)return C(k);var F=[];for(var J in k)nt(k,J)&&F.push(J);return K&&xt(k,F),F}function B(k){if(k==null)return!0;var F=fe(k);return typeof F=="number"&&(He(k)||ie(k)||ht(k))?F===0:fe(yt(k))===0}function ae(k,F){var J=yt(F),ne=J.length;if(k==null)return!ne;for(var me=Object(k),he=0;he<ne;he++){var Le=J[he];if(F[Le]!==me[Le]||!(Le in me))return!1}return!0}function I(k){if(k instanceof I)return k;if(!(this instanceof I))return new I(k);this._wrapped=k}I.VERSION=o,I.prototype.value=function(){return this._wrapped},I.prototype.valueOf=I.prototype.toJSON=I.prototype.value,I.prototype.toString=function(){return String(this._wrapped)};function Ae(k){return new Uint8Array(k.buffer||k,k.byteOffset||0,Y(k))}var ye="[object DataView]";function Ie(k,F,J,ne){if(k===F)return k!==0||1/k===1/F;if(k==null||F==null)return!1;if(k!==k)return F!==F;var me=typeof k;return me!=="function"&&me!=="object"&&typeof F!="object"?!1:rt(k,F,J,ne)}function rt(k,F,J,ne){k instanceof I&&(k=k._wrapped),F instanceof I&&(F=F._wrapped);var me=g.call(k);if(me!==g.call(F))return!1;if(le&&me=="[object Object]"&&Je(k)){if(!Je(F))return!1;me=ye}switch(me){case"[object RegExp]":case"[object String]":return""+k==""+F;case"[object Number]":return+k!=+k?+F!=+F:+k==0?1/+k===1/F:+k==+F;case"[object Date]":case"[object Boolean]":return+k==+F;case"[object Symbol]":return c.valueOf.call(k)===c.valueOf.call(F);case"[object ArrayBuffer]":case ye:return rt(Ae(k),Ae(F),J,ne)}var he=me==="[object Array]";if(!he&&ve(k)){var Le=Y(k);if(Le!==Y(F))return!1;if(k.buffer===F.buffer&&k.byteOffset===F.byteOffset)return!0;he=!0}if(!he){if(typeof k!="object"||typeof F!="object")return!1;var $e=k.constructor,St=F.constructor;if($e!==St&&!(Pe($e)&&$e instanceof $e&&Pe(St)&&St instanceof St)&&"constructor"in k&&"constructor"in F)return!1}J=J||[],ne=ne||[];for(var Ct=J.length;Ct--;)if(J[Ct]===k)return ne[Ct]===F;if(J.push(k),ne.push(F),he){if(Ct=k.length,Ct!==F.length)return!1;for(;Ct--;)if(!Ie(k[Ct],F[Ct],J,ne))return!1}else{var Rr=yt(k),en;if(Ct=Rr.length,yt(F).length!==Ct)return!1;for(;Ct--;)if(en=Rr[Ct],!(nt(F,en)&&Ie(k[en],F[en],J,ne)))return!1}return J.pop(),ne.pop(),!0}function tt(k,F){return Ie(k,F)}function qe(k){if(!$(k))return[];var F=[];for(var J in k)F.push(J);return K&&xt(k,F),F}function ut(k){var F=fe(k);return function(J){if(J==null)return!1;var ne=qe(J);if(fe(ne))return!1;for(var me=0;me<F;me++)if(!Pe(J[k[me]]))return!1;return k!==V||!Pe(J[Et])}}var Et="forEach",Rt="has",kt=["clear","delete"],fr=["get",Rt,"set"],Mr=kt.concat(Et,fr),V=kt.concat(fr),ee=["add"].concat(kt,Et,Rt);const pe=be?ut(Mr):H("Map"),Me=be?ut(V):H("WeakMap"),Ge=be?ut(ee):H("Set"),dt=H("WeakSet");function bt(k){for(var F=yt(k),J=F.length,ne=Array(J),me=0;me<J;me++)ne[me]=k[F[me]];return ne}function Zt(k){for(var F=yt(k),J=F.length,ne=Array(J),me=0;me<J;me++)ne[me]=[F[me],k[F[me]]];return ne}function _r(k){for(var F={},J=yt(k),ne=0,me=J.length;ne<me;ne++)F[k[J[ne]]]=J[ne];return F}function Qt(k){var F=[];for(var J in k)Pe(k[J])&&F.push(J);return F.sort()}function io(k,F){return function(J){var ne=arguments.length;if(F&&(J=Object(J)),ne<2||J==null)return J;for(var me=1;me<ne;me++)for(var he=arguments[me],Le=k(he),$e=Le.length,St=0;St<$e;St++){var Ct=Le[St];(!F||J[Ct]===void 0)&&(J[Ct]=he[Ct])}return J}}const er=io(qe),sn=io(yt),Vn=io(qe,!0);function Vt(){return function(){}}function br(k){if(!$(k))return{};if(S)return S(k);var F=Vt();F.prototype=k;var J=new F;return F.prototype=null,J}function jt(k,F){var J=br(k);return F&&sn(J,F),J}function Qr(k){return $(k)?He(k)?k.slice():er({},k):k}function mt(k,F){return F(k),k}function Un(k){return He(k)?k:[k]}I.toPath=Un;function xn(k){return I.toPath(k)}function Sr(k,F){for(var J=F.length,ne=0;ne<J;ne++){if(k==null)return;k=k[F[ne]]}return J?k:void 0}function Or(k,F,J){var ne=Sr(k,xn(F));return U(ne)?J:ne}function ln(k,F){F=xn(F);for(var J=F.length,ne=0;ne<J;ne++){var me=F[ne];if(!nt(k,me))return!1;k=k[me]}return!!J}function Ut(k){return k}function it(k){return k=sn({},k),function(F){return ae(F,k)}}function Ur(k){return k=xn(k),function(F){return Sr(F,k)}}function or(k,F,J){if(F===void 0)return k;switch(J??3){case 1:return function(ne){return k.call(F,ne)};case 3:return function(ne,me,he){return k.call(F,ne,me,he)};case 4:return function(ne,me,he,Le){return k.call(F,ne,me,he,Le)}}return function(){return k.apply(F,arguments)}}function zr(k,F,J){return k==null?Ut:Pe(k)?or(k,F,J):$(k)&&!He(k)?it(k):Ur(k)}function Mt(k,F){return zr(k,F,1/0)}I.iteratee=Mt;function qt(k,F,J){return I.iteratee!==Mt?I.iteratee(k,F):zr(k,F,J)}function zn(k,F,J){F=qt(F,J);for(var ne=yt(k),me=ne.length,he={},Le=0;Le<me;Le++){var $e=ne[Le];he[$e]=F(k[$e],$e,k)}return he}function ao(){}function je(k){return k==null?ao:function(F){return Or(k,F)}}function vt(k,F,J){var ne=Array(Math.max(0,k));F=or(F,J,1);for(var me=0;me<k;me++)ne[me]=F(me);return ne}function so(k,F){return F==null&&(F=k,k=0),k+Math.floor(Math.random()*(F-k+1))}const j=Date.now||function(){return new Date().getTime()};function X(k){var F=function(he){return k[he]},J="(?:"+yt(k).join("|")+")",ne=RegExp(J),me=RegExp(J,"g");return function(he){return he=he==null?"":""+he,ne.test(he)?he.replace(me,F):he}}const Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Fe=X(Oe),Ue=_r(Oe),Ot=X(Ue),At=I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var tr=/(.)^/,Bt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Bn=/\\|'|\r|\n|\u2028|\u2029/g;function Gi(k){return"\\"+Bt[k]}var gi=/^\s*(\w|\$)+\s*$/;function mi(k,F,J){!F&&J&&(F=J),F=Vn({},F,I.templateSettings);var ne=RegExp([(F.escape||tr).source,(F.interpolate||tr).source,(F.evaluate||tr).source].join("|")+"|$","g"),me=0,he="__p+='";k.replace(ne,function(Ct,Rr,en,mf,lu){return he+=k.slice(me,lu).replace(Bn,Gi),me=lu+Ct.length,Rr?he+=`'+
((__t=(`+Rr+`))==null?'':_.escape(__t))+
'`:en?he+=`'+
((__t=(`+en+`))==null?'':__t)+
'`:mf&&(he+=`';
`+mf+`
__p+='`),Ct}),he+=`';
`;var Le=F.variable;if(Le){if(!gi.test(Le))throw new Error("variable is not a bare identifier: "+Le)}else he=`with(obj||{}){
`+he+`}
`,Le="obj";he=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+he+`return __p;
`;var $e;try{$e=new Function(Le,"_",he)}catch(Ct){throw Ct.source=he,Ct}var St=function(Ct){return $e.call(this,Ct,I)};return St.source="function("+Le+`){
`+he+"}",St}function yi(k,F,J){F=xn(F);var ne=F.length;if(!ne)return Pe(J)?J.call(k):J;for(var me=0;me<ne;me++){var he=k==null?void 0:k[F[me]];he===void 0&&(he=J,me=ne),k=Pe(he)?he.call(k):he}return k}var Ga=0;function qi(k){var F=++Ga+"";return k?k+F:F}function Yi(k){var F=I(k);return F._chain=!0,F}function wi(k,F,J,ne,me){if(!(ne instanceof F))return k.apply(J,me);var he=br(k.prototype),Le=k.apply(he,me);return $(Le)?Le:he}var ii=Q(function(k,F){var J=ii.placeholder,ne=function(){for(var me=0,he=F.length,Le=Array(he),$e=0;$e<he;$e++)Le[$e]=F[$e]===J?arguments[me++]:F[$e];for(;me<arguments.length;)Le.push(arguments[me++]);return wi(k,ne,this,this,Le)};return ne});ii.placeholder=I;const zo=ii,Xi=Q(function(k,F,J){if(!Pe(k))throw new TypeError("Bind must be called on a function");var ne=Q(function(me){return wi(k,ne,F,this,J.concat(me))});return ne}),Er=A(fe);function Nr(k,F,J,ne){if(ne=ne||[],!F&&F!==0)F=1/0;else if(F<=0)return ne.concat(k);for(var me=ne.length,he=0,Le=fe(k);he<Le;he++){var $e=k[he];if(Er($e)&&(He($e)||ht($e)))if(F>1)Nr($e,F-1,J,ne),me=ne.length;else for(var St=0,Ct=$e.length;St<Ct;)ne[me++]=$e[St++];else J||(ne[me++]=$e)}return ne}const qa=Q(function(k,F){F=Nr(F,!1,!1);var J=F.length;if(J<1)throw new Error("bindAll must be passed function names");for(;J--;){var ne=F[J];k[ne]=Xi(k[ne],k)}return k});function lo(k,F){var J=function(ne){var me=J.cache,he=""+(F?F.apply(this,arguments):ne);return nt(me,he)||(me[he]=k.apply(this,arguments)),me[he]};return J.cache={},J}const Bo=Q(function(k,F,J){return setTimeout(function(){return k.apply(null,J)},F)}),un=zo(Bo,I,1);function Dr(k,F,J){var ne,me,he,Le,$e=0;J||(J={});var St=function(){$e=J.leading===!1?0:j(),ne=null,Le=k.apply(me,he),ne||(me=he=null)},Ct=function(){var Rr=j();!$e&&J.leading===!1&&($e=Rr);var en=F-(Rr-$e);return me=this,he=arguments,en<=0||en>F?(ne&&(clearTimeout(ne),ne=null),$e=Rr,Le=k.apply(me,he),ne||(me=he=null)):!ne&&J.trailing!==!1&&(ne=setTimeout(St,en)),Le};return Ct.cancel=function(){clearTimeout(ne),$e=0,ne=me=he=null},Ct}function Rs(k,F,J){var ne,me,he,Le,$e,St=function(){var Rr=j()-me;F>Rr?ne=setTimeout(St,F-Rr):(ne=null,J||(Le=k.apply($e,he)),ne||(he=$e=null))},Ct=Q(function(Rr){return $e=this,he=Rr,me=j(),ne||(ne=setTimeout(St,F),J&&(Le=k.apply($e,he))),Le});return Ct.cancel=function(){clearTimeout(ne),ne=he=$e=null},Ct}function Ho(k,F){return zo(F,k)}function uo(k){return function(){return!k.apply(this,arguments)}}function _i(){var k=arguments,F=k.length-1;return function(){for(var J=F,ne=k[F].apply(this,arguments);J--;)ne=k[J].call(this,ne);return ne}}function co(k,F){return function(){if(--k<1)return F.apply(this,arguments)}}function fo(k,F){var J;return function(){return--k>0&&(J=F.apply(this,arguments)),k<=1&&(F=null),J}}const Ya=zo(fo,2);function Ji(k,F,J){F=qt(F,J);for(var ne=yt(k),me,he=0,Le=ne.length;he<Le;he++)if(me=ne[he],F(k[me],me,k))return me}function bi(k){return function(F,J,ne){J=qt(J,ne);for(var me=fe(F),he=k>0?0:me-1;he>=0&&he<me;he+=k)if(J(F[he],he,F))return he;return-1}}const To=bi(1),xi=bi(-1);function Wo(k,F,J,ne){J=qt(J,ne,1);for(var me=J(F),he=0,Le=fe(k);he<Le;){var $e=Math.floor((he+Le)/2);J(k[$e])<me?he=$e+1:Le=$e}return he}function ft(k,F,J){return function(ne,me,he){var Le=0,$e=fe(ne);if(typeof he=="number")k>0?Le=he>=0?he:Math.max(he+$e,Le):$e=he>=0?Math.min(he+1,$e):he+$e+1;else if(J&&he&&$e)return he=J(ne,me),ne[he]===me?he:-1;if(me!==me)return he=F(h.call(ne,Le,$e),Kt),he>=0?he+Le:-1;for(he=k>0?Le:$e-1;he>=0&&he<$e;he+=k)if(ne[he]===me)return he;return-1}}const ct=ft(1,To,Wo),It=ft(-1,xi);function wt(k,F,J){var ne=Er(k)?To:Ji,me=ne(k,F,J);if(me!==void 0&&me!==-1)return k[me]}function ir(k,F){return wt(k,it(F))}function Tr(k,F,J){F=or(F,J);var ne,me;if(Er(k))for(ne=0,me=k.length;ne<me;ne++)F(k[ne],ne,k);else{var he=yt(k);for(ne=0,me=he.length;ne<me;ne++)F(k[he[ne]],he[ne],k)}return k}function cn(k,F,J){F=qt(F,J);for(var ne=!Er(k)&&yt(k),me=(ne||k).length,he=Array(me),Le=0;Le<me;Le++){var $e=ne?ne[Le]:Le;he[Le]=F(k[$e],$e,k)}return he}function Po(k){var F=function(J,ne,me,he){var Le=!Er(J)&&yt(J),$e=(Le||J).length,St=k>0?0:$e-1;for(he||(me=J[Le?Le[St]:St],St+=k);St>=0&&St<$e;St+=k){var Ct=Le?Le[St]:St;me=ne(me,J[Ct],Ct,J)}return me};return function(J,ne,me,he){var Le=arguments.length>=3;return F(J,or(ne,he,4),me,Le)}}const Cn=Po(1),Sn=Po(-1);function Hn(k,F,J){var ne=[];return F=qt(F,J),Tr(k,function(me,he,Le){F(me,he,Le)&&ne.push(me)}),ne}function ko(k,F,J){return Hn(k,uo(qt(F)),J)}function Ci(k,F,J){F=qt(F,J);for(var ne=!Er(k)&&yt(k),me=(ne||k).length,he=0;he<me;he++){var Le=ne?ne[he]:he;if(!F(k[Le],Le,k))return!1}return!0}function Zi(k,F,J){F=qt(F,J);for(var ne=!Er(k)&&yt(k),me=(ne||k).length,he=0;he<me;he++){var Le=ne?ne[he]:he;if(F(k[Le],Le,k))return!0}return!1}function Br(k,F,J,ne){return Er(k)||(k=bt(k)),(typeof J!="number"||ne)&&(J=0),ct(k,F,J)>=0}const of=Q(function(k,F,J){var ne,me;return Pe(F)?me=F:(F=xn(F),ne=F.slice(0,-1),F=F[F.length-1]),cn(k,function(he){var Le=me;if(!Le){if(ne&&ne.length&&(he=Sr(he,ne)),he==null)return;Le=he[F]}return Le==null?Le:Le.apply(he,J)})});function js(k,F){return cn(k,Ur(F))}function af(k,F){return Hn(k,it(F))}function eu(k,F,J){var ne=-1/0,me=-1/0,he,Le;if(F==null||typeof F=="number"&&typeof k[0]!="object"&&k!=null){k=Er(k)?k:bt(k);for(var $e=0,St=k.length;$e<St;$e++)he=k[$e],he!=null&&he>ne&&(ne=he)}else F=qt(F,J),Tr(k,function(Ct,Rr,en){Le=F(Ct,Rr,en),(Le>me||Le===-1/0&&ne===-1/0)&&(ne=Ct,me=Le)});return ne}function tu(k,F,J){var ne=1/0,me=1/0,he,Le;if(F==null||typeof F=="number"&&typeof k[0]!="object"&&k!=null){k=Er(k)?k:bt(k);for(var $e=0,St=k.length;$e<St;$e++)he=k[$e],he!=null&&he<ne&&(ne=he)}else F=qt(F,J),Tr(k,function(Ct,Rr,en){Le=F(Ct,Rr,en),(Le<me||Le===1/0&&ne===1/0)&&(ne=Ct,me=Le)});return ne}function Is(k,F,J){if(F==null||J)return Er(k)||(k=bt(k)),k[so(k.length-1)];var ne=Er(k)?Qr(k):bt(k),me=fe(ne);F=Math.max(Math.min(F,me),0);for(var he=me-1,Le=0;Le<F;Le++){var $e=so(Le,he),St=ne[Le];ne[Le]=ne[$e],ne[$e]=St}return ne.slice(0,F)}function sf(k){return Is(k,1/0)}function lf(k,F,J){var ne=0;return F=qt(F,J),js(cn(k,function(me,he,Le){return{value:me,index:ne++,criteria:F(me,he,Le)}}).sort(function(me,he){var Le=me.criteria,$e=he.criteria;if(Le!==$e){if(Le>$e||Le===void 0)return 1;if(Le<$e||$e===void 0)return-1}return me.index-he.index}),"value")}function Fs(k,F){return function(J,ne,me){var he=F?[[],[]]:{};return ne=qt(ne,me),Tr(J,function(Le,$e){var St=ne(Le,$e,J);k(he,Le,St)}),he}}const uf=Fs(function(k,F,J){nt(k,J)?k[J].push(F):k[J]=[F]}),ru=Fs(function(k,F,J){k[J]=F}),cf=Fs(function(k,F,J){nt(k,J)?k[J]++:k[J]=1}),nu=Fs(function(k,F,J){k[J?0:1].push(F)},!0);var Vs=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Si(k){return k?He(k)?h.call(k):ie(k)?k.match(Vs):Er(k)?cn(k,Ut):bt(k):[]}function ff(k){return k==null?0:Er(k)?k.length:yt(k).length}function Ah(k,F,J){return F in J}const ou=Q(function(k,F){var J={},ne=F[0];if(k==null)return J;Pe(ne)?(F.length>1&&(ne=or(ne,F[1])),F=qe(k)):(ne=Ah,F=Nr(F,!1,!1),k=Object(k));for(var me=0,he=F.length;me<he;me++){var Le=F[me],$e=k[Le];ne($e,Le,k)&&(J[Le]=$e)}return J}),Qi=Q(function(k,F){var J=F[0],ne;return Pe(J)?(J=uo(J),F.length>1&&(ne=F[1])):(F=cn(Nr(F,!1,!1),String),J=function(me,he){return!Br(F,he)}),ou(k,J,ne)});function vr(k,F,J){return h.call(k,0,Math.max(0,k.length-(F==null||J?1:F)))}function ea(k,F,J){return k==null||k.length<1?F==null||J?void 0:[]:F==null||J?k[0]:vr(k,k.length-F)}function ai(k,F,J){return h.call(k,F==null||J?1:F)}function ta(k,F,J){return k==null||k.length<1?F==null||J?void 0:[]:F==null||J?k[k.length-1]:ai(k,Math.max(0,k.length-F))}function df(k){return Hn(k,Boolean)}function iu(k,F){return Nr(k,F,!1)}const au=Q(function(k,F){return F=Nr(F,!0,!0),Hn(k,function(J){return!Br(F,J)})}),Us=Q(function(k,F){return au(k,F)});function ra(k,F,J,ne){R(F)||(ne=J,J=F,F=!1),J!=null&&(J=qt(J,ne));for(var me=[],he=[],Le=0,$e=fe(k);Le<$e;Le++){var St=k[Le],Ct=J?J(St,Le,k):St;F&&!J?((!Le||he!==Ct)&&me.push(St),he=Ct):J?Br(he,Ct)||(he.push(Ct),me.push(St)):Br(me,St)||me.push(St)}return me}const pf=Q(function(k){return ra(Nr(k,!0,!0))});function hf(k){for(var F=[],J=arguments.length,ne=0,me=fe(k);ne<me;ne++){var he=k[ne];if(!Br(F,he)){var Le;for(Le=1;Le<J&&Br(arguments[Le],he);Le++);Le===J&&F.push(he)}}return F}function na(k){for(var F=k&&eu(k,fe).length||0,J=Array(F),ne=0;ne<F;ne++)J[ne]=js(k,ne);return J}const su=Q(na);function vf(k,F){for(var J={},ne=0,me=fe(k);ne<me;ne++)F?J[k[ne]]=F[ne]:J[k[ne][0]]=k[ne][1];return J}function oa(k,F,J){F==null&&(F=k||0,k=0),J||(J=F<k?-1:1);for(var ne=Math.max(Math.ceil((F-k)/J),0),me=Array(ne),he=0;he<ne;he++,k+=J)me[he]=k;return me}function Ao(k,F){if(F==null||F<1)return[];for(var J=[],ne=0,me=k.length;ne<me;)J.push(h.call(k,ne,ne+=F));return J}function ia(k,F){return k._chain?I(F).chain():F}function Xa(k){return Tr(Qt(k),function(F){var J=I[F]=k[F];I.prototype[F]=function(){var ne=[this._wrapped];return f.apply(ne,arguments),ia(this,J.apply(I,ne))}}),I}Tr(["pop","push","reverse","shift","sort","splice","unshift"],function(k){var F=s[k];I.prototype[k]=function(){var J=this._wrapped;return J!=null&&(F.apply(J,arguments),(k==="shift"||k==="splice")&&J.length===0&&delete J[0]),ia(this,J)}}),Tr(["concat","join","slice"],function(k){var F=s[k];I.prototype[k]=function(){var J=this._wrapped;return J!=null&&(J=F.apply(J,arguments)),ia(this,J)}});const gf=I;var Wn=Xa(t);Wn._=Wn;const Oi=Wn}},gb={};function $t(n){var r=gb[n];if(r!==void 0)return r.exports;var e=gb[n]={exports:{}};return dN[n].call(e.exports,e,e.exports,$t),e.exports}$t.n=n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return $t.d(r,{a:r}),r};$t.d=(n,r)=>{for(var e in r)$t.o(r,e)&&!$t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:r[e]})};$t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();$t.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);$t.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var F1={};$t.d(F1,{Ay:()=>lH,I0:()=>vE,nu:()=>hE});var D=$t(523),Ne=$t(342);function Jn(n){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var t=n.raw;return t.reduce(function(o,i,s){var l=r[s-1],c=t[s-1];return Array.isArray(l)?l=l.join(""):c&&c.slice(-1)==="$"?o=o.slice(0,-1):l=(0,Ne.escape)(l),o+l+i})}var pN={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const mb=pN;var Sm=$t(391),hN=$t.n(Sm),pr=$t(694);const vN=function(n){var r=n.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var e=r.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var i=this.get(0);return i&&i.focus(),this},e.bind=function(i,s){return this.on(i,s)},e.unbind=function(i,s){if((0,D.isObject)(i)){for(var l in i)i.hasOwnProperty(l)&&this.off(l,i[l]);return this}else return this.off(i,s)},e.click=function(i){return i?this.on("click",i):this.trigger("click")},e.change=function(i){return i?this.on("change",i):this.trigger("change")},e.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},e.delegate=function(i,s,l,c){return c||(c=l),this.on(s,i,function(f){f.data=l,c(f)})},e.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageXOffset:i.scrollLeft||0},e.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageYOffset:i.scrollTop||0};var t=r.prototype.offset;e.offset=function(i){var s,l;return i&&(s=i.top,l=i.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof l<"u"&&this.css("left","".concat(l,"px")),t.call(this)},r.map=function(i,s){for(var l=[],c=0;c<i.length;c++)l.push(s(i[c],c));return l};var o=Array.prototype.indexOf;r.inArray=function(i,s,l){return s==null?-1:o.call(s,i,l)},r.Event=function(i,s){if(!(this instanceof r.Event))return new r.Event(i,s);this.type=i,this.isDefaultPrevented=function(){return!1}}}};var Xe=$t(268),V1=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gN=function(n){V1(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Xe.Kx),mN=function(n){V1(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getByComponent=function(e){var t=this;return this.filter(function(o){return t.getComponent(o)===e})[0]},r.prototype.addComponent=function(e,t){var o=this,i=((0,D.isArray)(e)?e:[e]).filter(function(s){return!o.hasComponent(s)}).map(function(s){return new gN({component:s})})[0];return this.push(i,t)},r.prototype.getComponent=function(e){return e.get("component")},r.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},r.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},r.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},r.prototype.removeComponent=function(e,t){var o=this,i=((0,D.isArray)(e)?e:[e]).map(function(s){return o.getByComponent(s)});return this.remove(i,t)},r}(Xe.pM);const yN=mN;var wN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Om=function(){return Om=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Om.apply(this,arguments)},_N=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},U1=function(){function n(r,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=e;var o=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,D.isUndefined)(r.config[o])?r.config[this.name]:r.config[o],s=i===!0?{}:i||{};s.pStylePrefix=r.config.pStylePrefix||"",!(0,D.isUndefined)(i)&&!i&&(s._disable=1),s.em=r,this._config=(0,Ne.deepMerge)(t||{},s)}return Object.defineProperty(n.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.render=function(r){},n.prototype.postLoad=function(r){},Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(r){return r?this.config[r]:this.config},n.prototype.__logWarn=function(r,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),e)},n.prototype.destroy=function(){this.__destroy()},n.prototype.__destroy=function(){var r,e,t;(r=this.view)===null||r===void 0||r.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(o){return o.cancel()}),this.collections.forEach(function(o){o.stopListening(),o.reset()})},n.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var e=(0,D.isElement)(r)?r:document.querySelector(r);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},n}();const oo=U1;var Ka=function(n){wN(r,n);function r(e,t,o,i,s,l){l===void 0&&(l={});var c=n.call(this,e,t,s)||this;return c.cls=[],c.private=!1,c.all=o,c.events=i,!l.skipListen&&c.__initListen(),c}return r.prototype.postLoad=function(e){},r.prototype.render=function(e){},r.prototype.getProjectData=function(e){var t={},o=this.storageKey;return o&&(t[o]=e||this.getAll()),t},r.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var o=t.all,i=t.onResult,s=t.reset,l=this.storageKey,c={action:"load"},f=o||this.all,h=e[l];if(typeof h=="string")try{h=JSON.parse(h)}catch{this.__logWarn("Data parsing failed",{input:h})}return s&&h&&f.reset(void 0,c),i?h&&i(h,c):h&&(0,Ne.isDef)(h.length)&&f.reset(h,c),h},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},r.prototype.getAll=function(){return _N([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},r.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,o=t.all,i=t.em,s=t.events;o&&i&&o.on("add",function(l,c,f){return i.trigger(s.add,l,f)}).on("remove",function(l,c,f){return i.trigger(s.remove,l,f)}).on("change",function(l,c){return i.trigger(s.update,l,l.changedAttributes(),c)}).on("all",this.__catchAllEvent,this),this.cls=[o].concat(e.collections||[]),(e.propagate||[]).forEach(function(l){var c=l.entity,f=l.event;c.on("all",function(h,g,m,y){var _=y||m,x=Om({event:h},_);[i,o].map(function(C){return C.trigger(f,g,x)})})})},r.prototype.__remove=function(e,t){var o=this;t===void 0&&(t={});var i=this.em,s=(0,D.isString)(e)?this.get(e):e,l=function(){return s&&o.all.remove(s,t),s};return!t.silent&&(i==null||i.trigger(this.events.removeBefore,s,l,t)),!t.abort&&l()},r.prototype.__catchAllEvent=function(e,t,o,i){var s=this,l=s.em,c=s.events,f=i||o;l&&c.all&&l.trigger(c.all,{event:e,model:t,options:f}),this.__onAllEvent()},r.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var o=(0,D.isElement)(t)?t:document.querySelector(t);if(!o)return this.__logWarn('"appendTo" element not found');o.appendChild(this.render(e))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),o=t.length+e,i=this.getAllMap(),s;do s=(0,Ne.createId)(o);while(i[s]);return s},r.prototype.__listenAdd=function(e,t){var o=this;e.on("add",function(i,s,l){return o.em.trigger(t,i,l)})},r.prototype.__listenRemove=function(e,t){var o=this;e.on("remove",function(i,s,l){return o.em.trigger(t,i,l)})},r.prototype.__listenUpdate=function(e,t){var o=this;e.on("change",function(i,s){return o.em.trigger(t,i,i.changedAttributes(),s)})},r.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},r}(U1),bN={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const xN=bN;var Ua=$t(578),CN={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const SN=CN;var ON=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),EN=function(n){ON(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(o){return e.checkUnit(o)})},r.prototype.checkUnit=function(e){var t=this.get(e)||"",o=(parseFloat(t)||0).toString()===t.toString();o&&this.set(e,"".concat(t,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(Xe.Kx);const z1=EN;var TN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B1=function(n){TN(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Xe.pM);const yb=B1;B1.prototype.model=z1;var PN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kN=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},AN=function(n){PN(r,n);function r(e){var t=n.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return r.prototype.template=function(e){var t=e.ppfx,o=e.label;return Jn(wb||(wb=kN([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,o,t,t,t,t,t,t,t)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},r.prototype.updateSelect=function(){var e=this,t=e.em,o=e.devicesEl;if(t&&t.getDeviceModel&&o){var i=t.getDeviceModel();o.val(i?i.get("id"):"")}},r.prototype.getOptions=function(){var e=this,t=e.collection,o=e.em,i="";return t.forEach(function(s){var l=s.attributes,c=l.name,f=l.id,h=o&&o.t&&o.t("deviceManager.devices.".concat(f))||c;i+='<option value="'.concat(f||c,'">').concat(h,"</option>")}),i},r.prototype.render=function(){var e=this,t=e.em,o=e.ppfx,i=e.$el,s=e.el,l=t&&t.t&&t.t("deviceManager.device");return i.html(this.template({ppfx:o,label:l})),this.devicesEl=i.find(".".concat(o,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),s.className="".concat(o,"devices-c"),this},r}(Xe.Ss);const LN=AN;var wb,MN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uc=function(){return uc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},uc.apply(this,arguments)},H1="device",Ph="".concat(H1,":"),NN="".concat(Ph,"select"),W1="".concat(Ph,"update"),DN="".concat(Ph,"add"),$1="".concat(Ph,"remove"),RN="".concat($1,":before"),jN="change:device",IN={all:H1,select:NN,update:W1,add:DN,remove:$1,removeBefore:RN},FN=function(n){MN(r,n);function r(e){var t,o=n.call(this,e,"DeviceManager",new yb,IN,SN)||this;return o.Device=z1,o.Devices=yb,o.storageKey="",o.devices=o.all,(t=o.config.devices)===null||t===void 0||t.forEach(function(i){return o.add(i,{silent:!0})}),o.select(o.config.default||o.devices.at(0)),e.on(jN,o._onSelect,o),o}return r.prototype._onSelect=function(e,t,o){var i=this,s=i.em,l=i.events,c=e.previous("device"),f=this.get(t),h=l.select;s.trigger(h,f,this.get(c)),this.__catchAllEvent(h,f,o)},r.prototype.add=function(e,t){t===void 0&&(t={});var o,i=t;if((0,D.isString)(e)){var s=t;i=arguments[2]||{},o=uc(uc({},i),{id:e,name:i.name||e,width:s})}else o=e;return o.id||(o.id=o.name||this._createId()),this.devices.add(o,i)},r.prototype.get=function(e){var t=this.getAll().filter(function(o){return o.get("name")===e})[0];return t||this.devices.get(e)||null},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(e,t){t===void 0&&(t={});var o=(0,D.isString)(e)?this.get(e):e;return o&&this.em.set("device",o.get("id"),t),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new LN({collection:this.devices,config:uc({em:t},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(Ka);const VN=FN;var Em;(function(n){n.add="page:add",n.addBefore="page:add:before",n.remove="page:remove",n.removeBefore="page:remove:before",n.select="page:select",n.selectBefore="page:select:before",n.update="page:update",n.all="page"})(Em||(Em={}));const Tm=Em;var UN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zN=function(n){UN(r,n);function r(e,t,o){return n.call(this,t,{module:e,modelConstructor:o})||this}return r.prototype.add=function(e,t){var o=this,i,s=(0,D.isArray)(e)?e:(0,D.isUndefined)(e)?void 0:[e];return s=(i=s==null?void 0:s.map(function(l){return l instanceof o.newModel?l:new o.newModel(o.module,l)}))!==null&&i!==void 0?i:[void 0],n.prototype.add.call(this,(0,D.isArray)(e)?s:s[0],t)},r.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},r}(Xe.pM);const kh=zN;var BN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pm=function(){return Pm=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Pm.apply(this,arguments)},_b=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},bb="__aw",xb="__ah",Cb=function(n,r){var e,t=n.get(r),o=(e=n.view)===null||e===void 0?void 0:e.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,D.isNumber)(t)?t:(0,D.isString)(t)&&t.endsWith("px")?parseFloat(t):o||0},HN=function(n){BN(r,n);function r(e,t){var o=n.call(this,e,t)||this,i=o.em,s=o.attributes,l=s.styles,c=s.component,f=i.Components,h=f.getConfig(),g=i.Css.getAll(),m={},y={em:i,config:h,frame:o,idMap:m};if(!(0,Ne.isComponent)(c)){var _=(0,Ne.isObject)(c)?c:{components:c};!_.type&&(_.type="wrapper");var x=f.getType("wrapper").model;o.set("component",new x(_,y))}if(!l)o.set("styles",g);else if(!(0,Ne.isObject)(l)){var C=l;(0,D.keys)(m).length&&(C=(0,D.isString)(C)?i.Parser.parseCss(C):C,i.Css.checkId(C,{idMap:m})),g.add(C),o.set("styles",g)}return!t.width&&o.set(bb,1),!t.height&&o.set(xb,1),!o.id&&o.set("id",(0,Ne.createId)()),o}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return Cb(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Cb(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var e=this.refFrame;return(e==null?void 0:e.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var e=this.refFrame;if((0,D.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},r.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,o=e.y,i=this,s=i.width,l=i.height;return{x:t,y:o,width:s,height:l}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},r.prototype.getHead=function(){return _b([],this.head,!0)},r.prototype.setHead=function(e){return this.set("head",_b([],e,!0))},r.prototype.addHeadItem=function(e){this.head.push(e)},r.prototype.getHeadByAttr=function(e,t,o){return this.head.filter(function(i){return i.attributes&&i.attributes[e]==t&&(!o||o===i.tag)})[0]},r.prototype.removeHeadByAttr=function(e,t,o){var i=this.getHeadByAttr(e,t,o),s=this.head.indexOf(i);s>=0&&this.head.splice(s,1)},r.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},r.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},r.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},r.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},r.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},r.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Pm({frame:this},e))},r.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=Ua.A.prototype.toJSON.call(this,e),o=(0,D.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[bb]&&delete t.width,t[xb]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,D.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,D.forEach)(o,function(i,s){t[s]===i&&delete t[s]}),(0,D.forEach)(["attributes","head"],function(i){(0,D.isEmpty)(t[i])&&delete t[i]}),t},r}(Ua.A);const K1=HN;var WN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$N=function(n){WN(r,n);function r(e,t){t===void 0&&(t=[]);var o=n.call(this,e,t,K1)||this;return o.loadedItems=0,o.itemsToLoad=0,(0,D.bindAll)(o,"itemLoaded"),o.on("add",o.onAdd),o.on("reset",o.onReset),o.on("remove",o.onRemove),o.forEach(function(i){return o.onAdd(i)}),o}return r.prototype.onAdd=function(e){this.module.framesById[e.id]=e},r.prototype.onReset=function(e,t){var o=this,i=(t==null?void 0:t.previousModels)||[];i.map(function(s){return o.onRemove(s)})},r.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},r.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(o){return o[e?"on":"off"]("loaded",t.itemLoaded)})},r}(kh);const G1=$N;var KN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),GN=function(n){KN(r,n);function r(e){var t=this,o=e.em,i=e.config,s=i.scripts,l=i.styles;return t=n.call(this,e,{scripts:s,styles:l})||this,t.set("frames",new G1(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(o,"change:device ".concat(W1),t.updateDevice),t.listenTo(o,Tm.select,t._pageUpdated),t}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:Xe.lK,pointerScreen:Xe.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype._pageUpdated=function(e,t){var o=this.em;o.setSelected(),o.get("readyCanvas")&&o.stopDefault(),t==null||t.getFrames().map(function(i){return i.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,o=t.getDeviceModel(),i=e.frame||t.getCurrentFrameModel();if(i&&o){var s=o.attributes,l=s.width,c=s.height;i.set({width:l,height:c},{noUndo:1})}},r.prototype.onZoomChange=function(){var e=this,t=e.em,o=e.module,i=this.get("zoom");i<1&&this.set("zoom",1),t.trigger(o.events.zoom)},r.prototype.onCoordsChange=function(){var e=this,t=e.em,o=e.module;t.trigger(o.events.coords)},r.prototype.onPointerChange=function(){var e=this,t=e.em,o=e.module;t.trigger(o.events.pointer)},r.prototype.getPointerCoords=function(e){e===void 0&&(e=Xe.x2.World);var t=this.attributes,o=t.pointer,i=t.pointerScreen;return e===Xe.x2.World?o:i},r}(Ua.A);const qN=GN;var jo=$t(683),wn=$t(249),YN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XN=function(n){YN(r,n);function r(e,t){t===void 0&&(t=[]);var o=n.call(this,e,t,jo.A)||this;o.on("add",o.onAdd),o.on("change",o.onChange),o.on("remove",o.onRemove);var i=o.em;o.refreshDbn=(0,D.debounce)(function(){return o.refresh()},0);var s="component:resize styleable:change component:input ".concat(wn.I.update," frame:updated undo redo");return o.listenTo(i,s,function(){return o.refreshDbn()}),o}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var e=this,t=e.em,o=e.events;t.trigger(o.spot)},r.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},r.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},r.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},r.prototype.__trgEvent=function(e,t){var o=this.module,i=o.em;i.trigger(e,t),this.refreshDbn()},r}(kh);const JN=XN;var ip;(function(n){n.dragEnter="canvas:dragenter",n.dragOver="canvas:dragover",n.dragEnd="canvas:dragend",n.dragData="canvas:dragdata",n.drop="canvas:drop",n.spot="canvas:spot",n.spotAdd="canvas:spot:add",n.spotUpdate="canvas:spot:update",n.spotRemove="canvas:spot:remove",n.coords="canvas:coords",n.zoom="canvas:zoom",n.pointer="canvas:pointer",n.refresh="canvas:refresh",n.frameLoad="canvas:frame:load",n.frameLoadHead="canvas:frame:load:head",n.frameLoadBody="canvas:frame:load:body"})(ip||(ip={}));const Pd=ip;var ZN=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QN=function(n){ZN(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(e){this.className=""},r}(Xe.Ss);const Uo=QN;var et=$t(926),eD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tD=function(n){eD(r,n);function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var o=n.call(this,e)||this;return o.itemsView="",o.itemType="type",o.reuseView=!1,o.viewCollection=[],t&&o.listenTo(o.collection,"add",o.addTo),o}return r.prototype.addTo=function(e){this.add(e)},r.prototype.itemViewNotFound=function(e){},r.prototype.add=function(e,t){var o=this,i=o.reuseView,s=o.viewCollection,l=t||null,c=e.get(this.itemType),f;e.view&&i?f=e.view:f=this.renderView(e,c),s.push(f);var h=f.render().el;l?l.appendChild(h):this.$el.append(h)},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(o){return e.add(o,t)}),this.$el.append(t),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(e,t){},r.prototype.onRemove=function(e,t){},r.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),Xe.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},r.prototype.clearItems=function(){this.viewCollection},r}(Uo);const rD=tD;var nD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oD=function(n){nD(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.config=e.config||{};var o=t.model;return t.listenTo(o,"change",t.render),t.listenTo(o,"destroy remove",t.remove),t.listenTo(o.get("selectors"),"change",t.render),t}return r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var e=this,t=e.model,o=e.el,i=t.get("important");return o.innerHTML=t.toCSS({important:i}),this},r}(Xe.Ss);const q1=oD;var iD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aD=function(n){iD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},r}(q1);const sD=aD;var lD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hv=function(n,r){return"".concat(n).concat(r?"-".concat(parseFloat(r)):"")},uD=function(n){lD(r,n);function r(e){var t=n.call(this,e)||this;(0,D.bindAll)(t,"sortRules");var o=e.config||{};t.atRules={},t.config=o,t.em=o.em,t.pfx=o.stylePrefix||"",t.className=t.pfx+"rules";var i=t.collection;return t.listenTo(i,"add",t.addTo),t.listenTo(i,"reset",t.render),t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){if(this.renderStarted){var o=t||null,i=this.config,s={model:e,config:i},l,c;if(e.get("atRuleType")==="keyframes"){var f=e.getAtRule(),h=this.atRules[f];if(!h){var g=document.createElement("style");h=document.createTextNode(""),g.appendChild(document.createTextNode("".concat(f,"{"))),g.appendChild(h),g.appendChild(document.createTextNode("}")),this.atRules[f]=h,l=g}c=new sD(s),h.appendData(c.render().el.textContent)}else c=new q1(s),l=c.render().el;var m=this.className,y=e.get("mediaText"),_=Hv(m),x=_;if(y&&(x=Hv(m,this.getMediaWidth(y))),l){var C=o||this.el,S=void 0;try{S=C.querySelector("#".concat(x))}catch{}S||(S=C.querySelector("#".concat(_))),S==null||S.appendChild(l)}return l}},r.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(e,t){var o=this.em,i=(o.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var s=i?e:t,l=i?t:e;return s-l},r.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,o=t.em,i=t.$el,s=t.collection,l=this.className,c=document.createDocumentFragment();i.empty();var f=o.Devices.getAll().pluck("priority").sort(this.sortRules);return f.every(function(h){return h})&&f.unshift(0),f.forEach(function(h){return c.appendChild((0,et.a_)("div",{id:Hv(l,h)}))}),s.each(function(h){return e.addToCollection(h,c)}),i.append(c),i.attr("class",l),this},r}(Xe.Ss);const Y1=uD;var X1="text/html",cD=X1;const fD=function(n,r){r===void 0&&(r={});var e=new DOMParser,t=r.htmlType||cD,o=t===X1,i=o?n:"<div>".concat(n,"</div>"),s=e.parseFromString(i,t),l;if(o){if(r.asDocument)return s;var c=s.head,f=s.body,h=c.querySelectorAll("script");(0,D.each)(h,function(m){return f.appendChild(m)});var g=[];(0,D.each)(c.children,function(m){return g.push(m)}),(0,D.each)(g,function(m,y){return f.insertBefore(m,f.children[y])}),l=f}else l=s.firstChild;return l};var Mi=function(){return Mi=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Mi.apply(this,arguments)},dD="data-gjs-",Sb="parse:html",pD=function(n,r){return r===void 0&&(r={}),{compTypes:[],modelAttrStart:dD,getPropAttribute:function(e,t){var o=e.replace(this.modelAttrStart,""),i=(t==null?void 0:t.length)||0,s=t==null?void 0:t.substring(0,1),l=t==null?void 0:t.substring(i-1),c=t==="true"?!0:t==="false"?!1:t;try{c=s=="{"&&l=="}"||s=="["&&l=="]"?JSON.parse(c):c}catch{}return{name:o,value:c}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var o={},i={};return(0,D.each)(e,function(s,l){if(l.indexOf(t.modelAttrStart)===0){var c=t.getPropAttribute(l,s);o[c.name]=c.value}else i[l]=s}),{props:o,attrs:i}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var o=e.indexOf("/*"),i=e.indexOf("*/")+2;e=e.replace(e.slice(o,i),"")}for(var s=e.split(";"),l=0,c=s.length;l<c;l++){var f=s[l].trim();if(f){var h=f.split(":"),g=h[0].trim(),m=h.slice(1).join(":").trim();t[g]?((0,D.isArray)(t[g])||(t[g]=[t[g]]),t[g].push(m)):t[g]=m}}return t},parseClass:function(e){for(var t=[],o=e.split(" "),i=0,s=o.length;i<s;i++){var l=o[i].trim();l&&t.push(l)}return t},parseNodeAttr:function(e,t){for(var o=t||{},i=e.attributes||[],s=i.length,l=0;l<s;l++){var c=i[l].nodeName,f=i[l].nodeValue;if(c=="style")o.style=this.parseStyle(f);else if(c=="class")o.classes=this.parseClass(f);else{if(c=="contenteditable")continue;if(c.indexOf(this.modelAttrStart)===0){var h=this.getPropAttribute(c,f);o[h.name]=h.value}else f===""&&e[c]===!0&&(f=!0),o.attributes||(o.attributes={}),o.attributes[c]=f}}return o},detectNode:function(e,t){var o;t===void 0&&(t={});var i=this.compTypes,s={};if(i){var l=(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"".concat(this.modelAttrStart,"type"));if(l)s={type:l};else for(var c=0;c<i.length;c++){var f=i[c],h=f.model.isComponent(e,t);if(h){typeof h!="object"&&(h={type:f.id}),s=h;break}}}return s},parseNode:function(e,t){var o;t===void 0&&(t={});var i=((o=e.content)===null||o===void 0?void 0:o.childNodes)||e.childNodes,s=i.length,l=this.detectNode(e,t);if(!l.tagName){var c=e.tagName||"",f=e.namespaceURI||"";l.tagName=c&&f==="http://www.w3.org/1999/xhtml"?c.toLowerCase():c}if(l=this.parseNodeAttr(e,l),!s&&"".concat(e.outerHTML).slice(-2)==="/>"&&(l.void=!0),s&&!l.components&&!t.skipChildren){var h=i[0];s===1&&h.nodeType===3?(!l.type&&(l.type="text"),l.components={type:"textnode",content:h.nodeValue}):l.components=this.parseNodes(e,Mi(Mi({},t),{inSvg:t.inSvg||l.type==="svg"}))}var g=l.components;if(!l.type&&(g!=null&&g.length)){for(var m=r.textTypes,y=m===void 0?[]:m,_=r.textTags,x=_===void 0?[]:_,C=!0,S=!1,T=0;T<g.length;T++){var E=g[T],N=E.type;if(!y.includes(N)&&!x.includes(E.tagName)){C=!1;break}N==="textnode"&&(S=!0)}C&&S&&(l.type="text")}return l},parseNodes:function(e,t){var o;t===void 0&&(t={});for(var i=[],s=((o=e.content)===null||o===void 0?void 0:o.childNodes)||e.childNodes,l=s.length,c=0;c<l;c++){var f=s[c],h=i[i.length-1],g=this.parseNode(f,t);if(g.type==="textnode"){if((h==null?void 0:h.type)==="textnode"){h.content+=g.content;continue}if(!t.keepEmptyTextNodes){var m=f.nodeValue||"",y=c===0||c===l-1,_=m.includes(`
`);if(m!=" "&&!m.trim()&&(y||_))continue}}!g.tagName&&(0,D.isUndefined)(g.content)||i.push(g)}return i},parse:function(e,t,o){var i,s,l;o===void 0&&(o={});var c=(n==null?void 0:n.get("Config"))||{},f={html:[]},h=Mi(Mi({},r),o),g=Mi(Mi(Mi({},r.optionsHtml),{htmlType:((i=r.optionsHtml)===null||i===void 0?void 0:i.htmlType)||r.htmlType}),o),m=g.preParser,y=g.asDocument,_=(0,D.isFunction)(m)?m(e,{editor:n==null?void 0:n.getEditor()}):e,x=(0,D.isFunction)(h.parserHtml)?h.parserHtml(_,g):fD(_,g),C=x,S=x;y&&(C=S.documentElement,f.doctype=(0,et.LJ)(S.doctype));var T=C.querySelectorAll("script"),E=T.length,N=(0,D.isUndefined)(c.allowScripts)?g.allowScripts:c.allowScripts;if(!N)for(;E--;)(s=T[E].parentNode)===null||s===void 0||s.removeChild(T[E]);if((!g.allowUnsafeAttr||!g.allowUnsafeAttrValue)&&this.__sanitizeNode(C,g),t){for(var K=C.querySelectorAll("style"),re=K.length,ue="";re--;)ue=K[re].innerHTML+ue,(l=K[re].parentNode)===null||l===void 0||l.removeChild(K[re]);ue&&(f.css=t.parse(ue))}n==null||n.trigger("".concat(Sb,":root"),{input:_,root:C});var Q=[];if(y)f.head=this.parseNode(S.head,h),f.root=this.parseNodeAttr(C),Q=this.parseNode(S.body,h);else{var $=this.parseNodes(C,h);Q=$.length===1&&!h.returnArray?$[0]:$}return f.html=Q,n==null||n.trigger(Sb,{input:_,output:f}),f},__sanitizeNode:function(e,t){var o=this,i=e.attributes||[],s=e.childNodes||[],l=[];(0,D.each)(i,function(c){var f=c.nodeName||"",h=c.nodeValue||"";!t.allowUnsafeAttr&&f.startsWith("on")&&l.push(f),!t.allowUnsafeAttrValue&&h.startsWith("javascript:")&&l.push(f)}),l.map(function(c){return e.removeAttribute(c)}),(0,D.each)(s,function(c){return o.__sanitizeNode(c,t)})}}};const J1=pD;var hD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),us=function(){return us=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},us.apply(this,arguments)},vD=J1(),km=function(n){return(0,D.isArray)(n)?n[n.length-1]:n},gD=function(n){hD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.parseStyle=function(e){return vD.parseStyle(e)},r.prototype.extendStyle=function(e){return us(us({},this.getStyle()),e)},r.prototype.getStyle=function(e){var t=this.get("style")||{},o=us({},t);return e&&(0,D.isString)(e)?o[e]:o},r.prototype.setStyle=function(e,t){var o=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,D.isString)(e)&&(e=this.parseStyle(e));var i=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var s=us({},e),l=us({},s);(0,D.keys)(l).forEach(function(f){l[f]===""&&delete l[f]}),this.set("style",l,t);var c=(0,Ne.shallowDiff)(i,s);return delete c.__p,(0,D.keys)(c).forEach(function(f){var h=o.em;t.noEvent||(o.trigger("change:style:".concat(f)),h&&(h.trigger("styleable:change",o,f,t),h.trigger("styleable:change:".concat(f),o,f,t)))}),s},r.prototype.addStyle=function(e,t,o){var i;t===void 0&&(t=""),o===void 0&&(o={}),typeof e=="string"?e=(i={},i[e]=t,i):o=t||{},o.addStyle=e,e=this.extendStyle(e),this.setStyle(e,o)},r.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},r.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],o=this.getStyle(e),i=e.important,s=function(c){var f=(0,D.isArray)(i)?i.indexOf(c)>=0:i,h=c.substring(0,2),g=h==="__";if(g)return"continue";var m=o[c],y=(0,D.isArray)(m)?m:[m];y.forEach(function(_){var x="".concat(_).concat(f?" !important":"");x&&t.push("".concat(c,":").concat(x,";"))})};for(var l in o)s(l);return t.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},r}(Xe.Kx);const Z1=gD;var qn=function(){return qn=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},qn.apply(this,arguments)},Q1=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},ap=function(n){return(0,D.isArray)(n.get(Yn))},sp=function(n){return!!n.get(Mo)},Wl=function(n){return!!(ap(n)||sp(n))},ks=function(n){var r=n.parent();return Wl(n)&&(!r||!Wl(r))},Bu=function(n){n.__symbReady||(n.on("change",n.__upSymbProps),n.__symbReady=!0)},As=function(n){var r=n.get(Mo);if(r&&(0,D.isString)(r)){var e=n.__getAllById()[r];e?(r=e,n.set(Mo,e)):r=0}return r||void 0},_o=function(n){var r=n==null?void 0:n.get(Yn);return r&&(0,D.isArray)(r)&&(r.forEach(function(e,t){e&&(0,D.isString)(e)&&(r[t]=n.__getAllById()[e])}),r=r.filter(function(e){return e&&!(0,D.isString)(e)})),r||void 0},$l=function(n,r){r===void 0&&(r="");var e=n==null?void 0:n.get(fc),t=r.split(":")[0],o=r!==t?[r,t]:[r];return e===!0||(0,D.isArray)(e)&&o.some(function(i){return e.indexOf(i)>=0})},ys=function(n,r){r===void 0&&(r={});var e=[],t=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||t&&$l(n,t))return e;var o=_o(n)||[],i=As(n),s=i?Q1([i],_o(i)||[],!0):o;return e=s.filter(function(l){return l!==n}).filter(function(l){return!(t&&$l(l,t))}),e},Ob=function(n,r){for(var e=n,t=n.parent(r);t&&Wl(t);)e=t,t=t.parent(r);return e},Zy=function(n,r){r===void 0&&(r={});var e=As(n),t=e&&_o(e);!r.skipRefs&&t&&e.set(Yn,t.filter(function(o){return o!==n})),n.set(Mo,0),n.components().forEach(function(o){return Zy(o,r)})},cc=function(n,r,e,t){t===void 0&&(t={});var o=As(n),i=_o(n);!o&&!i||n.em.log(r,{model:n,toUp:e,context:"symbols",opts:t})},mD=function(n,r){r===void 0&&(r={});var e=n.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[Yn],delete e[Mo],delete e[fc],delete e.attributes,delete t.id,(0,Ne.isEmptyObj)(t)||(e.attributes=t),!(0,Ne.isEmptyObj)(e)){var o=ys(n,r);(0,D.keys)(e).map(function(i){$l(n,i)&&delete e[i]}),cc(n,"props",o,{opts:r,changed:e}),o.forEach(function(i){var s=qn({},e);(0,D.keys)(s).map(function(l){$l(i,l)&&delete s[l]}),i.set(s,qn({fromInstance:n},r))})}},yD=function(n,r){r===void 0&&(r={});var e=ys(n,r);cc(n,"classes",e,{opts:r}),e.forEach(function(t){t.set("classes",n.get("classes"),{fromInstance:n})}),n.__changesUp(r)},eO=function(n,r,e,t){var o=t||e||{},i=o.fromInstance,s=o.fromUndo,l={fromInstance:i,fromUndo:s},c=r.opt.temporary;if(t)if(t.add){var y=[],_=!!_o(n),h=ys(n,qn(qn({},l),{changed:"components:add"}));if(h.length){var x=As(r);y=_o(x||r)||[],y=Q1([],y,!0),y.push(x||r)}!c&&cc(n,"add",h,{opts:t,addedInstances:y.map(function(Q){return Q.cid}),added:r.cid}),h.forEach(function(Q){var $=Ob(Q),te=y.filter(function(R){var W=Ob(R,{prev:1});return $&&W&&W===$})[0],U=te||r.clone({symbol:!0,symbolInv:_});Q.append(U,qn({fromInstance:n},t))})}else{var C=As(r);if(C&&!t.temporary&&C.set(Yn,_o(C).filter(function(ue){return ue!==r})),!ks(r)&&!t.skipRefsUp){var S="components:remove",T=t.index,E=r.parent(),N=qn({fromInstance:r},t),K=ks(r),re=function(Q){var $=Q.parent();$&&!$l($,S)&&Q.remove(N)},h=$l(E,S)?[]:ys(r,l);K&&(h=E&&ys(E,qn(qn({},l),{changed:S})),re=function(Q){var $=Q.components().at(T);$&&$.remove(qn({fromInstance:E},N))}),!c&&cc(n,"remove",h,{opts:t,removed:r.cid,isSymbNested:K}),h.forEach(re)}}else{var f=r,h=ys(n,qn(qn({},l),{changed:"components:reset"})),g=f.models,m=new Set;cc(n,"reset",h,{components:g}),h.forEach(function(ue){var Q=ue.components(),$=g.map(function(te,U){return!Wl(te)||m.has(te)?(m.add(te),te.clone({symbol:!0})):Q.at(U)});Q.reset($,qn({fromInstance:n},e))})}n.__changesUp(o)},wD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mo=function(){return mo=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},mo.apply(this,arguments)},kd=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},Eb=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},_l=function(n,r){if(r===void 0&&(r=[]),!n)return[];var e=(0,D.isArray)(n)||(0,D.isFunction)(n.map)?n:[n];return e.map(function(t){r.push(t.getId()),_l(t.components().models,r)}),r},tO=function(n,r,e){r===void 0&&(r={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,o=(0,D.isArray)(n)?n:[n];return o.map(function(i){var s=i.attributes,l=s===void 0?{}:s,c=i.components,f=i.tagName,h=i.style,g=l.id;l.draggable;var m=kd(l,["id","draggable"]),y=i;if(g){if(t[g])t[g].push(y),g=bn.getNewId(r),y.attributes.id=g;else if(t[g]=[],r[g]){y=r[g];var _=y;f&&_.set({tagName:f},mo(mo({},e),{silent:!0})),(0,D.keys)(m).length&&_.addAttributes(m,mo({},e)),(0,D.keys)(h).length&&_.addStyle(h,e)}}if(c){var x=tO(c,r);if((0,D.isFunction)(y.components)){var C=y.components();C.length>0&&C.reset(x,e)}else y.components=x}return y})},_D=function(n){wD(r,n);function r(e,t){var o=n.call(this,e,t)||this;o.opt=t,o.listenTo(o,"add",o.onAdd),o.listenTo(o,"remove",o.removeChildren),o.listenTo(o,"reset",o.resetChildren);var i=t.em,s=t.config;return o.config=s,o.em=i,o.domc=t.domc||(i==null?void 0:i.Components),o}return Object.defineProperty(r.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(e,t){var o=this;t===void 0&&(t={});var i=this,s=t.previousModels||[],l=s.filter(function(h){return!e.get(h.cid)}),c=_l(e),f=_l(s).filter(function(h){return c.indexOf(h)>=0});t.keepIds=(t.keepIds||[]).concat(f),l.forEach(function(h){return o.removeChildren(h,i,t)}),e.each(function(h){return o.onAdd(h)})},r.prototype.resetFromString=function(e,t){var o,i;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=_l(this);var s=this,l=s.domc,c=s.em,f=s.parent,h=c==null?void 0:c.Css,g=(l==null?void 0:l.allById())||{},m=this.parseString(e,t),y=tO(m,g,t),_=t.visitedCmps,x=_===void 0?{}:_;Object.keys(x).forEach(function(C){var S=x[C];if(S.length){var T=(h==null?void 0:h.getRules("#".concat(C)))||[];T.length&&S.forEach(function(E){T.forEach(function(N){var K=N.clone();K.set("selectors",["#".concat(E.attributes.id)]),h.getAll().add(K)})})}}),this.reset(y,t),c==null||c.trigger("component:content",f,t,e),(i=(o=f).__checkInnerChilds)===null||i===void 0||i.call(o)},r.prototype.removeChildren=function(e,t,o){var i=this;if(o===void 0&&(o={}),!!e){var s=this,l=s.domc,c=s.em,f=o.temporary||o.fromUndo;if(e.prevColl=this,!f){var h=e.getId(),g=c.Selectors.getAll(),m=c.Css.getAll(),y=(o.keepIds||[]).indexOf(h)<0,_=l?l.allById():{};delete _[h];var x=y?m.remove(m.filter(function(T){return T.getSelectors().getFullString()==="#".concat(h)}),o):[];g.remove(x.map(function(T){return T.getSelectors().at(0)})),e.opt.temporary||(c.Commands.run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),c.trigger(wn.I.remove,e),l&&sp(e)&&ks(e)&&l.symbols.__trgEvent(l.events.symbolInstanceRemove,{component:e},!0));var C=e.components();C.forEach(function(T){eO(T,T,C,mo(mo({},o),{skipRefsUp:!0})),i.removeChildren(T,t,o)})}var S=e.components();c.stopListening(S),c.stopListening(e),c.stopListening(e.get("classes")),e.__postRemove()}},r.prototype.model=function(e,t){var o=t.collection.opt,i=o.em,s,l=i.Components.componentTypes;t.em=i,t.config=o.config,t.componentTypes=l,t.domc=o.domc;for(var c=0;c<l.length;c++){var f=l[c].id;if(f==e.type){s=l[c].model;break}}return s||(s=l[l.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new s(e,t)},r.prototype.parseString=function(e,t){t===void 0&&(t={});var o=this,i=o.em,s=o.domc,l=o.parent,c=t.asDocument&&(l==null?void 0:l.is("wrapper")),f=i.Css,h=i.Parser.parseHtml(e,mo({asDocument:c},t.parserOptions)),g=h.html;if(c){var m=l,y=h.html||{},_=y.components,x=kd(y,["components"]),C=h.head||{},S=C.components,T=kd(C,["components"]);g=_,m.set(x,t),m.head.set(T,t),m.head.components(S,t),m.docEl.set(h.root,t),m.set({doctype:h.doctype})}if(bn.checkId(g,h.css,s.componentsById,t),h.css&&f&&!t.temporary){t.at;var E=kd(t,["at"]);f.addCollection(h.css,mo(mo({},E),{extend:1}))}return g},r.prototype.add=function(e,t){var o=this;if(t===void 0&&(t={}),e!=null){t.keepIds=Eb(Eb([],t.keepIds||[],!0),_l(t.previousModels),!0),(0,D.isString)(e)?e=this.parseString(e,t):(0,D.isArray)(e)&&e.forEach(function(s,l){if((0,D.isString)(s)){var c=o.parseString(s,t);e[l]=(0,D.isArray)(c)&&!c.length?null:c}});var i=((0,D.isArray)(e)?e:[e]).filter(Boolean).map(function(s){return o.processDef(s)});return e=(0,D.isArray)(e)?(0,D.flatten)(i,1):i[0],n.prototype.add.call(this,e,t)}},r.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,o=t.em,i=t.config,s=i===void 0?{}:i,l=s.processor,c=e;if(l){c=mo({},c);var f=l(c);f&&((0,D.each)(c,function(C,S){return delete c[S]}),(0,D.extend)(c,f))}if(c.$$typeof&&typeof c.props=="object"){c=mo({},c),c.props=mo({},c.props);var h=o.Components,g=o.Parser,m=g.parserHtml;(0,D.each)(c,function(C,S){(0,D.includes)(["props","type"],S)||delete c[S]});var y=c.props,_=y.children;delete y.children,delete c.props;var x=m.splitPropsFromAttr(y);c.attributes=x.attrs,_&&(c.components=_),c.type?h.getType(c.type)||(c.tagName=c.type,delete c.type):c.type="textnode",(0,D.extend)(c,x.props)}return c},r.prototype.onAdd=function(e,t,o){o===void 0&&(o={});var i=this,s=i.domc,l=i.em,c=e.getStyle(),f=l&&l.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(e),!(0,D.isEmpty)(c)&&!f&&l&&l.getConfig().forceClass&&!o.temporary){var h=e.cid;l.Css.setClassRule(h,c),e.setStyle({}),e.addClass(h)}if(e.__postAdd({recursive:!0}),l&&!o.temporary){var g=function(m){l.trigger(wn.I.add,m,o),m.components().forEach(function(y){return g(y)})};g(e),s&&sp(e)&&ks(e)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:e},!0)}},r}(Xe.pM);const Bc=_D;var bD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nd=1,Wv=2,rO=function(n){bD(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e,t)||this,i=t.config,s=i===void 0?{}:i,l=o.get("name"),c=o.get("label");l?c||o.set("label",l):o.set("name",c);var f=o.get("name"),h=s.escapeName,g=h?h(f):r.escapeName(f);return o.set("name",g),o.em=t.em,o}return r.prototype.defaults=function(){return{name:"",label:"",type:nd,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===Wv},r.prototype.isClass=function(){return this.get("type")===nd},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,o=this.get("name"),i="";switch(this.get("type")){case nd:i=".";break;case Wv:i="#";break}return i+(t?t(o):o)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(e){return this.set("label",e)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(e){return this.set("active",e)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,o=Xe.Kx.prototype.toJSON.call(this,[e]),i=(0,D.result)(this,"defaults");if(t!=null&&t.getConfig().avoidDefaults){(0,D.forEach)(i,function(l,c){o[c]===l&&delete o[c]}),o.label===o.name&&delete o.label;var s=(0,D.keys)(o).length;s===1&&o.name&&(o=o.name),s===2&&o.name&&o.type&&(o=this.getFullName())}return o},r.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=nd,r.TYPE_ID=Wv,r}(Xe.Kx);const Dn=rO;rO.prototype.idAttribute="name";var xD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nO=function(n,r){return n.reduce(function(e,t,o){return e.concat(nO(n.slice(o+1),"".concat(r).concat(t)))},[r])},oO=function(n){xD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Dn.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,D.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},r.prototype.getValid=function(e){var t=e===void 0?{}:e,o=t.noDisabled;return(0,D.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return o?i.get("active"):1})},r.prototype.getFullString=function(e,t){t===void 0&&(t={});var o=[],i=e||this;return i.forEach(function(s){return o.push(s.getFullName(t))}),t.sort&&o.sort(),o.join("").trim()},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,o=e.array,i=[],s=this.map(function(l){return l.getFullName(e)}).sort();return t?s.forEach(function(l,c){i=i.concat(nO(s.slice(c+1),l))}):i=s,o?i:t?i.join(","):i.join("")},r}(Xe.pM);const Pa=oO;oO.prototype.model=Dn;var CD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tb=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},SD=function(n){CD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}(Xe.Kx);const tf=SD;function iO(n){var r=new Set,e=new Map,t={items:[]};n.forEach(function(i){var s=i.category;if(s){r.add(s);var l=e.get(s);l?l.push(i):e.set(s,[i])}else t.items.push(i)});var o=Array.from(r).map(function(i){return{category:i,items:e.get(i)||[]}});return Tb(Tb([],o,!0),[t],!1)}var OD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pb="category",aO=function(n){OD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.initCategory=function(e){var t=e.get(Pb),o=t instanceof tf;if(t&&!o){(0,D.isString)(t)?t={id:t,label:t}:(0,Ne.isObject)(t)&&!t.id&&(t.id=t.label);var i=this.getCategories().add(t);return e.set(Pb,i,{silent:!0}),i}else if(o){var i=t;return this.getCategories().add(i),i}},r}(Xe.pM),ED=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sO=function(n){ED(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e,t)||this,i=t.events,s=t.em,l=i==null?void 0:i.update;return s&&l&&o.on("change",function(c,f){return s.trigger(l,{category:c,changes:c.changedAttributes(),options:f})}),o}return r.prototype.add=function(e,t){var o=(0,D.isArray)(e)?e:[e];return o.forEach(function(i){return i&&(i.id=(0,Ne.normalizeKey)("".concat(i.id)))}),n.prototype.add.call(this,e,t)},r.prototype.get=function(e){return n.prototype.get.call(this,(0,D.isString)(e)?(0,Ne.normalizeKey)(e):e)},r}(Xe.pM);const lp=sO;sO.prototype.model=tf;var up;(function(n){n.select="trait:select",n.value="trait:value",n.categoryUpdate="trait:category:update",n.custom="trait:custom",n.all="trait"})(up||(up={}));const Am=up;var TD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cp=function(){return cp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},cp.apply(this,arguments)},PD=function(n){TD(r,n);function r(e,t){var o=n.call(this,e)||this,i=o.attributes,s=i.target,l=i.name;return!o.get("id")&&o.set("id",l),s&&o.setTarget(s),o.em=t,o}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof tf?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(e){if(e){var t=this.attributes,o=t.name,i=t.changeProp,s=t.value,l=t.getValue;this.target=e,this.unset("target");var c=i?"change:".concat(o):"change:attributes:".concat(o);this.listenTo(e,c,this.targetUpdated);var f=s||(l?void 0:this.getValue());!(0,D.isUndefined)(f)&&this.set({value:f},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var o=e.locale,i=o===void 0?!0:o,s=this.getId(),l=this.get("label")||this.getName();return i&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(s)))||l},r.prototype.getValue=function(e){return this.getTargetValue(e)},r.prototype.setValue=function(e,t){var o=this;t===void 0&&(t={});var i=this,s=i.component,l=i.em,c=t.partial,f={},h=this.attributes.setValue;if(h){h({value:e,component:s,editor:l==null?void 0:l.getEditor(),trait:this,partial:!!c,options:t,emitUpdate:function(){return o.targetUpdated()}});return}c&&(f.avoidStore=!0),this.setTargetValue(e,f)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(e){var t=this,o=(0,Ne.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===o})[0]},r.prototype.getOptionId=function(e){return e.id||e.value},r.prototype.getOptionLabel=function(e,t){var o;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,l=(0,D.isString)(e)?this.getOption(e):e,c=this.getOptionId(l),f=l.label||l.name||c,h=this.getName();return s&&((o=this.em)===null||o===void 0?void 0:o.t("traitManager.traits.options.".concat(h,".").concat(c)))||f},r.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,o=t.em,i=t.category,s=e.locale,l=s===void 0?!0:s,c=i==null?void 0:i.getId(),f=i==null?void 0:i.getLabel();return l&&(o==null?void 0:o.t("traitManager.categories.".concat(c)))||f||""},r.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,D.isString)(t)?e.Commands.run(t):t(e.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var e=this,t=e.component,o=e.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var s={trait:this,component:t,value:i};t.trigger(Am.value,s),o==null||o.trigger(Am.value,s),o==null||o.trigger("trait:update",s)},r.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,o=t.component,i=t.em,s=this.getName(),l=this.get("getValue"),c;if(l?c=l({editor:i==null?void 0:i.getEditor(),trait:this,component:o}):this.changeProp?c=o.get(s):c=o.getAttributes()[s],e.useType){var f=this.getType();if(f==="checkbox"){var h=this.attributes,g=h.valueTrue,m=h.valueFalse;!(0,D.isUndefined)(g)&&g===c?c=!0:!(0,D.isUndefined)(m)&&m===c&&(c=!1)}}return(0,D.isUndefined)(c)?"":c},r.prototype.setTargetValue=function(e,t){var o;t===void 0&&(t={});var i=this,s=i.component,l=i.attributes,c=this.getName();if(!(0,D.isUndefined)(e)){var f=e;if(e==="false"?f=!1:e==="true"&&(f=!0),this.getType()==="checkbox"){var h=l.valueTrue,g=l.valueFalse;f&&!(0,D.isUndefined)(h)&&(f=h),!f&&!(0,D.isUndefined)(g)&&(f=g)}var m=(o={},o[c]=f,o);m.__p=t.avoidStore?null:void 0,this.changeProp?s.set(m,t):s.addAttributes(m,t)}},r.prototype.setValueFromInput=function(e,t,o){t===void 0&&(t=!0),o===void 0&&(o={});var i={value:e};this.set(i,cp(cp({},o),{avoidStore:1})),t&&(this.set("value","",o),this.set(i,o))},r.prototype.getInitValue=function(){var e=this.component,t=this.getName(),o;if(e){var i=e.get("attributes");o=this.changeProp?e.get(t):i[t]}return o||this.get("value")||this.get("default")},r}(Xe.Kx);const fp=PD;var kD=function(){function n(r){r===void 0&&(r={}),this.config=r}return n.prototype.build=function(r,e){return(0,D.isString)(r)?this.buildFromString(r,e):new fp(r,e)},n.prototype.buildFromString=function(r,e){var t={name:r,type:"text"};switch(r){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new fp(t,e)},n}();const AD=kD;var LD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MD=function(n){LD(r,n);function r(e,t){var o=n.call(this,e)||this;o.categories=new lp;var i=t.em;o.em=i,o.categories=new lp([],{em:i,events:{update:Am.categoryUpdate}}),o.on("add",o.handleAdd),o.on("reset",o.handleReset);var s=o.module,l=s==null?void 0:s.getConfig();return o.tf=new AD(l),o}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(e,t){var o=t===void 0?{}:t,i=o.previousModels,s=i===void 0?[]:i;s.forEach(function(l){return l.trigger("remove")})},r.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},r.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},r.prototype.add=function(e,t){if(e!=null){var o=this,i=o.target,s=o.em;if((0,D.isArray)(e)){for(var l=[],c=0,f=e.length;c<f;c++){var h=e[c];l[c]=h instanceof fp?h:this.tf.build(h,s),l[c].setTarget(i)}return n.prototype.add.call(this,l,t)}var g=e instanceof fp?e:this.tf.build(e,s);return g.setTarget(i),n.prototype.add.call(this,g,t)}},r}(aO);const dp=MD;var ND=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jt=function(){return Jt=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Jt.apply(this,arguments)},DD=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},Yo=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},kb=function(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Xu=function(n){return!!(n!=null&&n.getConfig().avoidInlineStyle)},Qy="component:drag",Yn="__symbols",Mo="__symbol",fc="__symbol_ovrd",Ad=wn.I.update,Lm=wn.I.updateInside,RD=function(n){ND(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this;(0,D.bindAll)(o,"__upSymbProps","__upSymbCls","__upSymbComps");var i=t.em,s=o.parent(),l=s==null?void 0:s.attributes,c=o.get("propagate");if(c&&o.set("propagate",(0,D.isArray)(c)?c:[c]),l&&l.propagate&&!c){var f={},h=l.propagate;h.forEach(function(x){return f[x]=s.get(x)}),f.propagate=h,o.set(Jt(Jt({},f),e))}if(t&&t.config&&t.config.voidElements.indexOf(o.get("tagName"))>=0&&o.set("void",!0),t.em=i,o.opt=t,o.em=i,o.frame=t.frame,o.config=t.config||{},o.set("attributes",Jt(Jt({},(0,D.result)(o,"defaults").attributes||{}),o.get("attributes")||{})),o.ccid=r.createId(o,t),o.initClasses(),o.initComponents(),o.initTraits(),o.initToolbar(),o.initScriptProps(),o.listenTo(o,"change:script",o.scriptUpdated),o.listenTo(o,"change:tagName",o.tagUpdated),o.listenTo(o,"change:attributes",o.attrUpdated),o.listenTo(o,"change:attributes:id",o._idUpdated),o.on("change:toolbar",o.__emitUpdateTlb),o.on("change",o.__onChange),o.on(Lm,o.__propToParent),o.set("status",""),o.views=[],["classes","traits","components"].forEach(function(x){var C="add remove ".concat(x!=="components"?"change":"");o.listenTo(o.get(x),C.trim(),function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];return o.emitUpdate.apply(o,Yo([x],S,!1))})}),!t.temporary){var g=i&&i.Css,m=o.attributes,y=m.styles,_=m.type;y&&g&&g.addCollection(y,{avoidUpdateStyle:!0},{group:"cmp:".concat(_)}),o.__postAdd(),o.init(),Wl(o)&&Bu(o),i==null||i.trigger(wn.I.create,o,t)}return o}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[Mo]=0,e[Yn]=0,e[fc]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(e,t,o){},r.prototype.removed=function(){},r.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,o=t==null?void 0:t.UndoManager,i=this.components();o&&!this.__hasUm&&(o.add(i),o.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&i.map(function(s){return s.__postAdd(e)})},r.prototype.__postRemove=function(){var e=this.em,t=e==null?void 0:e.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(e,t){var o=this,i=this.changedAttributes()||{};(0,D.keys)(i).forEach(function(s){return o.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete i[s]}),(0,Ne.isEmptyObj)(i)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:i,options:t}))},r.prototype.__onStyleChange=function(e){var t=this,o=this.em;if(o){var i="component:styleUpdate",s=(0,D.keys)(e),l={style:e};o.trigger(i,this,l),s.forEach(function(c){return o.trigger("".concat(i,":").concat(c),t,l)})}},r.prototype.__changesUp=function(e){var t=this,o=t.em,i=t.frame;[i,o].forEach(function(s){return s&&s.changesUp(e)})},r.prototype.__propSelfToParent=function(e){this.trigger(Ad,e),this.__propToParent(e)},r.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Lm,e)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},r.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),mD(this,t)},r.prototype.__upSymbCls=function(e,t,o){o===void 0&&(o={}),yD(this,o)},r.prototype.__upSymbComps=function(e,t,o){eO(this,e,t,o)},r.prototype.is=function(e){return this.get("type")==e},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(e){var t;this.set(fc,(t=(0,D.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},r.prototype.getSymbolOverride=function(){return this.get(fc)},r.prototype.find=function(e){var t,o=[],i=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return i==null||i.each(function(s){var l=i.eq(s),c=l.data("model");c&&o.push(c)}),o},r.prototype.findType=function(e){var t=[],o=function(i){return i.forEach(function(s){s.is(e)&&t.push(s),o(s.components())})};return o(this.components()),t},r.prototype.findFirstType=function(e){return this.findType(e).at(0)},r.prototype.closest=function(e){var t,o=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return o!=null&&o.length?o.data("model"):void 0},r.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},r.prototype.contains=function(e){var t=!1;if(!e)return t;var o=function(i){!t&&i.forEach(function(s){s===e&&(t=!0),!t&&o(s.components())})};return o(this.components()),t},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(e,t){t===void 0&&(t={});var o=this.collection,i=o.indexOf(this);o.remove(this);var s=o.add(e,Jt(Jt({},t),{at:i}));return(0,D.isArray)(s)?s:[s]},r.prototype.attrUpdated=function(e,t,o){var i=this;o===void 0&&(o={});var s=this.get("attributes"),l=s.class;l&&this.setClass(l),delete s.class;var c=s.style;c&&this.setStyle(c,o),delete s.style;var f=Jt({},this.previous("attributes")),h=(0,Ne.shallowDiff)(f,this.get("attributes"));(0,D.keys)(h).forEach(function(g){var m,y="attributes:".concat(g);i.trigger("change:".concat(y),i,h[g],o),(m=i.em)===null||m===void 0||m.trigger("".concat(Ad,":").concat(y),i,h[g],o)})},r.prototype.setAttributes=function(e,t){return t===void 0&&(t={}),this.set("attributes",Jt({},e),t),this},r.prototype.addAttributes=function(e,t){return t===void 0&&(t={}),this.setAttributes(Jt(Jt({},this.getAttributes({noClass:!0})),e),t)},r.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var o=Array.isArray(e)?e:[e],i=this.getAttributes();return o.map(function(s){return delete i[s]}),this.setAttributes(i,t)},r.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var o=this.em,i=(0,D.isString)(e)?e:"",s=i?t:e;if(Xu(o)&&!s.inline){var l=o.get("state"),c=o.Css,f=c.getIdRule(this.getId(),Jt({state:l},s));return this.rule=f,f?f.getStyle(i):{}}return n.prototype.getStyle.call(this,i)},r.prototype.setStyle=function(e,t){var o=this;e===void 0&&(e={}),t===void 0&&(t={});var i=this,s=i.opt,l=i.em;if(Xu(l)&&!s.temporary&&!t.inline){var c=this.get("style")||{};e=(0,D.isString)(e)?this.parseStyle(e):e,e=Jt(Jt({},e),c);var f=l.get("state"),h=l.Css,g=this.getStyle(t);this.rule=h.setIdRule(this.getId(),e,Jt({state:f},t));var m=(0,Ne.shallowDiff)(g,e);this.set("style","",{silent:!0}),(0,D.keys)(m).forEach(function(y){return o.trigger("change:style:".concat(y))})}else e=n.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(t.addStyle||e),e},r.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,o=[],i=Jt({},this.get("attributes")),s=t==null?void 0:t.Selectors,l=this.getId();if(e.noClass?delete i.class:(this.classes.forEach(function(h){return o.push((0,D.isString)(h)?h:h.getName())}),o.length&&(i.class=o.join(" "))),!e.noStyle){var c=this.getStyle({inline:!0});(0,Ne.isObject)(c)&&!(0,Ne.isEmptyObj)(c)&&(i.style=this.styleToString({inline:!0}))}if(!(0,D.has)(i,"id")){var f=!1;(Xu(t)||!(0,D.isEmpty)(this.getStyle()))&&(f=!!(s!=null&&s.get(l,s.Selector.TYPE_ID))),(Wl(this)||this.get("script-export")||this.get("script"))&&(f=!0),f&&(i.id=l)}return i},r.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},r.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},r.prototype.removeClass=function(e){var t=[];e=(0,D.isArray)(e)?e:[e];var o=this.classes,i=Dn.TYPE_CLASS;return e.forEach(function(s){var l=s.split(" ");l.forEach(function(c){var f=o.where({name:c,type:i})[0];f&&t.push(o.remove(f))})}),t},r.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},r.prototype.initClasses=function(e,t,o){o===void 0&&(o={});var i="change:classes",s=this.get("attributes")||{},l=s.class,c=DD(s,["class"]),f=[this,i,this.initClasses],h=this.get("classes")||l||[],g=(0,D.isString)(h)?h.split(" "):h;this.stopListening.apply(this,f);var m=this.normalizeClasses(g),y=new Pa([]);return this.set("classes",y,o),y.add(m),y.on("add remove reset",this.__upSymbCls),l&&m.length&&this.set("attributes",c),this.listenTo.apply(this,f),this},r.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var o=new Bc([],this.opt);o.parent=this;var i=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",o),s&&i&&o.add((0,D.isFunction)(i)?i(this):i,this.opt),o.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},r.prototype.initTraits=function(e){var t=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var i=Jt({},this.get("attributes")),s=this.traits;return s.each(function(l){if(!l.changeProp){var c=l.getName(),f=l.getInitValue();c&&f&&(i[c]=f)}}),s.length&&this.set("attributes",i),this.on(o,this.initTraits),e&&t&&t.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var o=this.previous(e)||[],i=this.get(e)||[],s=o.map(function(c){return"change:".concat(c)}).join(" "),l=i.map(function(c){return"change:".concat(c)}).join(" ");s&&this.off(s,this.__scriptPropsChange),l&&this.on(l,this.__scriptPropsChange),this.on.apply(this,t)}},r.prototype.__scriptPropsChange=function(e,t,o){o===void 0&&(o={}),!o.avoidStore&&this.trigger("rerender")},r.prototype.append=function(e,t){t===void 0&&(t={});var o=(0,D.isArray)(e)?Yo([],e,!0):[e],i=o.map(function(l){return(0,D.isString)(l)||l.collection&&l.collection.remove(l,{temporary:!0}),l}),s=this.components().add(i,Jt({action:wn.t.add},t));return(0,D.isArray)(s)?s:[s]},r.prototype.components=function(e,t){t===void 0&&(t={});var o=this.get("components");return(0,D.isUndefined)(e)?o:(o.reset(void 0,t),e?this.append(e,t):[])},r.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},r.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},r.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},r.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},r.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var e=this.em,t=this,o=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var i=[];t.collection&&i.push({label:e.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&i.push({attributes:{class:"".concat(o,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&i.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&i.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",i)}},r.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var o=e||this.traits;if(!(o instanceof dp)){o=(0,D.isFunction)(o)?o(this):o;var i=new dp([],this.opt);i.setTarget(this),o.length&&(o.forEach(function(s){return s.attributes&&delete s.attributes.value}),i.add(o)),this.set({traits:i},t)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Yo([],this.traits.models,!0)},r.prototype.setTraits=function(e){var t=(0,D.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},r.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},r.prototype.updateTrait=function(e,t){var o,i=this.getTrait(e);return i&&i.set(t),(o=this.em)===null||o===void 0||o.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},r.prototype.removeTrait=function(e){var t=this,o,i=(0,D.isArray)(e)?e:[e],s=i.map(function(f){return t.getTrait(f)}),l=this.traits,c=s.length?l.remove(s):[];return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,D.isArray)(c)?c:[c]},r.prototype.addTrait=function(e,t){var o;t===void 0&&(t={}),this.__loadTraits();var i=this.traits.add(e,t);return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,D.isArray)(i)?i:[i]},r.prototype.normalizeClasses=function(e){var t=[],o=this.em,i=o==null?void 0:o.Selectors;return i?e.models?Yo([],e.models,!0):(e.forEach(function(s){return t.push(i.add(s))}),t):[]},r.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,o=Jt({},this.attributes),i=Jt({},this.opt),s=this.getId(),l=t==null?void 0:t.Css;o.attributes=Jt({},o.attributes),delete o.attributes.id,o.components=[],o.classes=[],o.traits=[],ks(this)&&(e.symbol=!0),this.get("components").each(function(_,x){o.components[x]=_.clone(Jt(Jt({},e),{_inner:1}))}),this.get("traits").each(function(_,x){o.traits[x]=_.clone()}),this.get("classes").each(function(_,x){o.classes[x]=_.get("name")}),o.status="",i.collection=null;var c=new this.constructor(o,i),f="#".concat(c.getId()),h=l?l.getRules("#".concat(s)):[];h.forEach(function(_){var x=_.clone();x.set("selectors",[f]),l.getAll().add(x)}),c.set(Yn,0);var g=As(this),m=_o(this);!e.symbol&&(g||m)?(c.set(Mo,0),c.set(Yn,0)):g?(g.set(Yn,Yo(Yo([],_o(g),!0),[c],!1)),Bu(c)):e.symbol&&(ap(this)?(this.set(Yn,Yo(Yo([],m,!0),[c],!1)),c.set(Mo,this),Bu(c)):e.symbolInv?(this.set(Yn,[c]),c.set(Mo,this),[this,c].map(function(_){return Bu(_)})):(c.set(Yn,[this]),[this,c].map(function(_){return Bu(_)}),this.set(Mo,c)));var y="component:clone";return t&&t.trigger(y,c),this.trigger(y,c),c},r.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,o=this.attributes,i=o.type,s=o.tagName,l=o.name,c=i||s,f=i?"":s,h="domComponents.names.",g=l&&(t==null?void 0:t.t("".concat(h).concat(l))),m=f&&(t==null?void 0:t.t("".concat(h).concat(f))),y=t&&(t.t("".concat(h).concat(i))||t.t("".concat(h).concat(s))),_=this.get("custom-name");return(e.noCustom?"":_)||g||l||m||(0,Ne.capitalize)(f)||y||(0,Ne.capitalize)(c)},r.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},r.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},r.prototype.toHTML=function(e){e===void 0&&(e={});var t=this,o=[],i=e.tag,s=i||t.get("tagName"),l=t.get("void"),c=e.attributes,f=this.getAttrToHTML(e);if(delete e.tag,c&&((0,D.isFunction)(c)?f=c(t,f)||{}:(0,Ne.isObject)(c)&&(f=c)),e.withProps){var h=this.toJSON();(0,D.forEach)(h,function(T,E){var N=["classes","attributes","components"];E[0]!=="_"&&N.indexOf(E)<0&&(f["data-gjs-".concat(E)]=(0,D.isArray)(T)||(0,Ne.isObject)(T)?JSON.stringify(T):(0,D.isBoolean)(T)?"".concat(T):T)})}for(var g in f){var m=f[g];if(!(0,D.isUndefined)(m)&&m!==null)if((0,D.isBoolean)(m))m&&o.push(g);else{var y="";if(e.altQuoteAttr&&(0,D.isString)(m)&&m.indexOf('"')>=0)y="'".concat(m.replace(/'/g,"&apos;"),"'");else{var _=(0,D.isString)(m)?m.replace(/"/g,"&quot;"):m;y='"'.concat(_,'"')}o.push("".concat(g,"=").concat(y))}}var x=o.length?" ".concat(o.join(" ")):"",C=t.getInnerHTML(e),S="<".concat(s).concat(x).concat(l?"/":"",">").concat(C);return!l&&(S+="</".concat(s,">")),S},r.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},r.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(o){return o.toHTML(e)}).join(""):this.content},r.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return Xu(this.em)&&(e==null?void 0:e.keepInlineStyle)!==!0&&delete t.style,t},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=Sm.Model.prototype.toJSON.call(this,e);if(t.attributes=this.getAttributes(),delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var o=t[Mo],i=t[Yn];i&&(0,D.isArray)(i)&&(t[Yn]=i.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),o&&!(0,D.isString)(o)&&(t[Mo]=o.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},r.prototype.getChangedProps=function(e){var t=e||Sm.Model.prototype.toJSON.apply(this),o=(0,D.result)(this,"defaults");return(0,D.forEach)(o,function(i,s){["type"].indexOf(s)===-1&&t[s]===i&&delete t[s]}),(0,D.isEmpty)(t.type)&&delete t.type,(0,D.forEach)(["attributes","style"],function(i){(0,D.isEmpty)(o[i])&&(0,D.isEmpty)(t[i])&&delete t[i]}),(0,D.forEach)(["classes","components"],function(i){(!t[i]||(0,D.isEmpty)(o[i])&&!t[i].length)&&delete t[i]}),t},r.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},r.prototype.setId=function(e,t){var o=Jt({},this.get("attributes"));return o.id=e,this.set("attributes",o,t),this},r.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},r.prototype.getView=function(e){var t=this,o=t.view,i=t.views,s=t.em,l=e||(s==null?void 0:s.getCurrentFrameModel());return l&&(o=i.filter(function(c){return c.frameView===l.view})[0]),o},r.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e==null?void 0:e.model;return this.getView(t)},r.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(o,i){return o[i]=e[i],o},{})},r.prototype.getScriptString=function(e){var t=this,o=e||this.get("script")||"";if(!o)return o;if(this.get("script-props"))o=o.toString().trim();else{if((0,D.isFunction)(o)){var i=o.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),o=i.trim()}var s=this.em.getConfig(),l=kb(s.tagVarStart||"{[ "),c=kb(s.tagVarEnd||" ]}"),f=new RegExp("".concat(l,"([\\w\\d-]*)").concat(c),"g");o=o.replace(f,function(h,g){t.scriptUpdated();var m=t.attributes[g]||"";return(0,D.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return o},r.prototype.emitUpdate=function(e){for(var t,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var s=this.em,l=Ad+(e?":".concat(e):""),c=e&&this.get(e);e&&this.updated.apply(this,Yo([e,c,e&&this.previous(e)],o,!1)),this.trigger.apply(this,Yo([l],o,!1)),s&&s.trigger.apply(s,Yo([l,this],o,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=c,t),options:o[2]||o[1]||{}})},r.prototype.onAll=function(e){return(0,D.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},r.prototype.forEachChild=function(e){(0,D.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},r.prototype.remove=function(e){var t=this;e===void 0&&(e={});var o=this.em,i=this.collection,s=function(){i&&i.remove(t,Jt({action:wn.t.remove},e)),i||(t.components("",e),t.components().removeChildren(t,void 0,e))},l=Jt({},e);return[this,o].map(function(c){return c.trigger(wn.I.removeBefore,t,s,l)}),!l.abort&&s(),this},r.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var o=t.at,i=this.index(),s=e===this.parent(),l=i===o||i===o-1;if(!s||!l){s&&o&&o>i&&(t.at=o-1);var c=wn.t.move;this.remove({action:c,temporary:1}),e.append(this,Jt({action:c},t)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(e){var t,o,i=(o=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||o===void 0?void 0:o.model;if(!i)return!1;var s=this.constructor.typeExtends;return this instanceof i||s.has(e)},r.prototype.isChildOf=function(e){for(var t=(0,D.isString)(e),o=this.parent();o;){if(t){if(o.isInstanceOf(e))return!0}else if(o===e)return!0;o=o.parent()}return!1},r.prototype.resetId=function(e){var t=this.em,o=this.getId();if(!o)return this;var i=r.createId(this);this.setId(i);var s=t==null?void 0:t.Css.getIdRule(o),l=s==null?void 0:s.get("selectors").at(0);return l==null||l.set("name",i),this},r.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,o=t.id,i=this.em,s=o||this.getId();return i==null?void 0:i.Css.getIdRule(s)},r.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t==null?void 0:t.get("selectors").at(0)},r.prototype._idUpdated=function(e,t,o){if(o===void 0&&(o={}),!o.idUpdate){var i=this.ccid,s=(this.get("attributes")||{}).id,l=(this.previous("attributes")||{}).id||i,c=r.getList(this);if(c[s]||!s&&l)return this.setId(l,{idUpdate:!0});delete c[l],c[s]=this,this.ccid=s;var f=this._getStyleSelector({id:l});f&&f.set({name:s,label:s})}},r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.isComponent=function(e,t){return{tagName:(0,Ne.toLowerCase)(e.tagName)}},r.ensureInList=function(e){var t=r.getList(e),o=e.getId(),i=t[o];if(!i)t[o]=e;else if(i!==e){var s=r.getIncrementId(o,t);e.setId(s),t[s]=e}e.components().forEach(function(l){return r.ensureInList(l)})},r.createId=function(e,t){t===void 0&&(t={});var o=r.getList(e),i=t.idMap,s=i===void 0?{}:i,l=e.get("attributes").id,c;return l?(c=r.getIncrementId(l,o,t),e.setId(c),l!==c&&(s[l]=c)):c=r.getNewId(o),o[c]=e,c},r.getNewId=function(e){for(var t=Object.keys(e).length,o=t.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-o),s="i".concat(i);e[s];)s=r.getNewId(e);return s},r.getIncrementId=function(e,t,o){o===void 0&&(o={});var i=o.keepIds,s=i===void 0?[]:i,l=1,c=e;if(s.indexOf(e)<0)for(;t[c];)l++,c="".concat(e,"-").concat(l);return c},r.getList=function(e){var t,o=e.em,i=o==null?void 0:o.Components;return(t=i==null?void 0:i.componentsById)!==null&&t!==void 0?t:{}},r.checkId=function(e,t,o,i){t===void 0&&(t=[]),o===void 0&&(o={}),i===void 0&&(i={});var s=(0,D.isArray)(e)?e:[e],l=i.keepIds,c=l===void 0?[]:l,f=i.idMap,h=f===void 0?{}:f;s.forEach(function(g){g.attributes;var m=g.attributes,y=m===void 0?{}:m,_=g.components,x=y.id;if(x&&o[x]&&c.indexOf(x)<0){var C=r.getIncrementId(x,o);h[x]=C,y.id=C,(0,D.isArray)(t)&&t.forEach(function(S){var T=S.selectors;T.forEach(function(E,N){E==="#".concat(x)&&(T[N]="#".concat(C))})})}_&&r.checkId(_,t,o,i)})},r.typeExtends=new Set,r}(Z1);const bn=RD;var jD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pp=function(){return pp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},pp.apply(this,arguments)},Rl="head",ID=["title","style","base","link","meta","script","noscript"],FD=function(n){jD(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return pp(pp({},n.prototype.defaults),{type:Rl,tagName:Rl,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||ID.includes((0,Ne.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Rl},r}(bn);const VD=FD;var Mm=function(){return Mm=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Mm.apply(this,arguments)},UD=function(){function n(r,e){var t=this;this.em=r,this.canvas=r.Canvas;var o=e||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),i=Array.isArray(o)?o:[o];this.el=i[0],this.counter=0,(0,D.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(s){return t.toggleEffects(s,!0)})}return n.prototype.toggleEffects=function(r,e){var t={on:et.on,off:et.AU},o=e?"on":"off";t[o](r,"dragenter",this.handleDragEnter),t[o](r,"dragover",this.handleDragOver),t[o](r,"drop",this.handleDrop),t[o](r,"dragleave",this.handleDragLeave)},n.prototype.__customTglEff=function(r){var e,t=r?et.on:et.AU,o=this.el.ownerDocument,i=(e=o.defaultView)===null||e===void 0?void 0:e.frameElement;this.sortOpts=r?{onStart:function(s){var l=s.sorter;(0,et.on)(i,"pointermove",l.onMove)},onEnd:function(s){var l=s.sorter;(0,et.AU)(i,"pointermove",l.onMove)},customTarget:function(s){var l=s.event;return o.elementFromPoint(l.clientX,l.clientY)}}:null,t(i,"pointerenter",this.handleDragEnter),t(i,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(i,"pointerout",this.handleDragLeave)},n.prototype.startCustom=function(){this.__customTglEff(!0)},n.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},n.prototype.endDrop=function(r,e){var t=this,o=t.em,i=t.dragStop;this.counter=0,i&&i(r||!this.over),this.__customTglEff(!1),o.trigger("canvas:dragend",e)},n.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},n.prototype.updateCounter=function(r,e){this.counter+=r,this.counter===0&&this.endDrop(!0,e)},n.prototype.handleDragEnter=function(r){var e=this,t=this,o=t.em,i=t.canvas,s=r.dataTransfer,l=o.get("dragContent");if(!(!l&&!i.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var c=o.Utils,f=l||"<br>",h,g;if(o.stopDefault(),o.inAbsoluteMode()){var m=o.Components.getWrapper(),y=m.append({})[0],_=o.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:y,onEnd:function(C,S,T){var E=T.cancelled,N;if(!E){N=m.append(f)[0];var K=i.getOffset(),re=y.getStyle(),ue=re.top,Q=re.left,$=re.position,te=(0,et.Xy)(C.target),U=parseInt("".concat(parseFloat(Q)+te.x-K.left),10),R=parseInt("".concat(parseFloat(ue)+te.y-K.top),10);N.addStyle({left:U+"px",top:R+"px",position:$})}e.handleDragEnd(N,s),y.remove()}});h=function(C){return _.stop(r,{cancel:C})},g=function(C){return f=C}}else{var x=new c.Sorter(Mm({em:o,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(C){return e.handleDragEnd(C,s)},document:this.el.ownerDocument},this.sortOpts||{}));x.setDropContent(f),x.startSort(),this.sorter=x,h=function(C){C&&(x.moved=!1),x.endMove()},g=function(C){return x.setDropContent(C)}}this.dragStop=h,this.dragContent=g,o.trigger("canvas:dragenter",s,f)}},n.prototype.handleDragEnd=function(r,e){var t=this.em;this.over=!1,r&&(t.set("dragResult",r),t.trigger("canvas:drop",e,r)),t.runDefault({preserveSelected:1})},n.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},n.prototype.handleDrop=function(r){r.preventDefault();var e=this.dragContent,t=r.dataTransfer,o=this.getContentByData(t).content;o&&e&&e(o),this.endDrop(!o,r)},n.prototype.getContentByData=function(r){var e=this.em,t=r&&r.types,o=r&&r.files||[],i=e.get("dragContent"),s=r&&r.getData("text");if(o.length){s=[];for(var l=0;l<o.length;l++){var c=o[l],f=c.type.split("/")[0];f=="image"&&s.push({type:f,file:c,attributes:{alt:c.name}})}}else if(i)s=i;else if((0,D.indexOf)(t,"text/html")>=0)s=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,D.indexOf)(t,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,D.indexOf)(t,"text/json")>=0){var h=r&&r.getData("text/json");h&&(s=JSON.parse(h))}else t.length===1&&t[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var g={content:s};return e.trigger("canvas:dragdata",r,g),g},n}();const zD=UD;var BD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lo=function(){return Lo=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Lo.apply(this,arguments)},HD=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},WD=function(n){BD(r,n);function r(e,t){var o=n.call(this,{model:e})||this;o.dragging=!1,o.loaded=!1,o.lastMaxHeight=0,o.tools={},(0,D.bindAll)(o,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=o.el;o.module._config=Lo(Lo({},o.config||{}),{frameView:o}),o.frameWrapView=t,o.showGlobalTools=(0,D.debounce)(o.showGlobalTools.bind(o),50);var s=o.getCanvasModel();return o.listenTo(e,"change:head",o.updateHead),o.listenTo(s,"change:styles",o.renderStyles),e.view=o,(0,Ne.setViewEl)(i,o),o}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var e=this,t=e.el,o=e.module,i=o.getCanvasView(),s=o.getCoords(),l=t.getBoundingClientRect(),c=i.getCanvasOffset(),f=i.getViewportDelta(),h=o.getZoomMultiplier(),g=(l.x-c.left-f.x-s.x)*h,m=(l.y-c.top-f.y-s.y)*h,y=l.width*h,_=l.height*h;return{x:g,y:m,width:y,height:_}},r.prototype.updateHead=function(){var e=this.model,t=this.getHead(),o=[],i=[],s=e.head,l=e.previous("head"),c=function(h){return h===void 0&&(h={}),Object.keys(h).sort().map(function(g){return"[".concat(g,'="').concat(h[g],'"]')}).join("")},f=function(h,g,m){h.forEach(function(y){var _=y.tag,x=y.attributes,C=g.some(function(S){return S.tag===_&&c(S.attributes)===c(x)});!C&&m.push(y)})};f(s,l,i),f(l,s,o),o.forEach(function(h){var g,m=t.querySelector("".concat(h.tag).concat(c(h.attributes)));(g=m==null?void 0:m.parentNode)===null||g===void 0||g.removeChild(m)}),(0,et.af)(t,i)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,et.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),o=t.scrollTop,i=t.scrollLeft,s=e.offsetHeight,l=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:s,width:l,scrollTop:o,scrollLeft:i,scrollBottom:o+s,scrollRight:i+l}},r.prototype._getTool=function(e){var t=this.tools,o=this.getToolsEl();return t[e]||(t[e]=o.querySelector(e)),t[e]},r.prototype.remove=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),Uo.prototype.remove.apply(this,t),this},r.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,o=this.getWindow(),i=o.pageYOffset,s=e||0,l=t.getConfig().autoscrollLimit,c=this.getRect().height-l,f=i;if(s<l&&(f-=l-s),s>c&&(f+=s-c),!(0,D.isUndefined)(e)&&f!==i&&f>0&&f<this.lastMaxHeight){var h=this.getGlobalToolsEl();h.style.opacity="0",this.showGlobalTools(),o.scrollTo(0,f),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,et.G2)(e).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),o=e?"on":"off",i={on:et.on,off:et.AU};i[o](t,"mousemove dragover",this.updateClientY),i[o](t,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var e=this,t=e.$el,o=e.ppfx,i=e.em;return t.attr({class:"".concat(o,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var e=this,t=this,o=t.el,i=t.model,s=t.em,l="frame:load",c={el:o,model:i,view:this},f=this.getCanvasModel(),h=function(g){var m;if(g.length>0){var y=g.shift(),_=(0,et.a_)("script",Lo({type:"text/javascript"},(0,D.isString)(y)?{src:y}:y));(m=o.contentDocument)===null||m===void 0||m.head.appendChild(_),_.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?h(g):_.onerror=_.onload=h.bind(null,g)}else s==null||s.trigger(Pd.frameLoadHead,c),e.renderBody(),s==null||s.trigger(Pd.frameLoadBody,c),s==null||s.trigger(l,c)};o.onload=function(){var g=e.config.frameContent;if(g){var m=e.getDoc();m.open(),m.write(g),m.close()}c.window=e.getWindow(),s==null||s.trigger("".concat(l,":before"),c),s==null||s.trigger(Pd.frameLoad,c),e.renderHead(),h(HD([],f.get("scripts"),!0))}},r.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),o=this.getCanvasModel(),i=function(g){return g===void 0&&(g=[]),g.map(function(m){return{tag:"link",attributes:Lo({rel:"stylesheet"},(0,D.isString)(m)?{href:m}:m)}})},s=i(e.prev||o.previous("styles")),l=i(o==null?void 0:o.get("styles")),c=[],f=[],h=function(g,m,y){g.forEach(function(_){var x=_.attributes.href,C=m.some(function(S){return S.attributes.href===x});!C&&y.push(_)})};h(l,s,f),h(s,l,c),c.forEach(function(g){var m,y=t.querySelector('link[href="'.concat(g.attributes.href,'"]'));(m=y==null?void 0:y.parentNode)===null||m===void 0||m.removeChild(y)}),(0,et.af)(t,f)},r.prototype.renderHead=function(){var e,t=this,o=t.model,i=t.em,s=o.root,l=(e=i==null?void 0:i.Components)===null||e===void 0?void 0:e.getType(Rl).view;l&&(this.headView=new l({el:this.getHead(),model:s.head,config:Lo(Lo({},s.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var e=this,t,o,i,s=this,l=s.config,c=s.em,f=s.model,h=s.ppfx,g=this.getDoc(),m=this.getBody(),y=this.getWindow(),_=f.hasAutoHeight(),x=c.config;y._isEditor=!0,this.renderStyles({prev:[]});var C="#ffca6f";(0,et.BC)(m,`<style>
      `.concat(x.baseCss||l.frameStyle||"",`

      `).concat(_?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(_?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(C,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(x.canvasCss||"",`
      `).concat(x.protectedCss||"",`
    </style>`));var S=f.root,T=(((t=c==null?void 0:c.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;T&&(this.wrapper=new T({model:S,config:Lo(Lo({},S.config),{em:c,frameView:this})}).render(),(0,et.BC)(m,(o=this.wrapper)===null||o===void 0?void 0:o.el),(0,et.BC)(m,new Y1({collection:f.getStyles(),config:Lo(Lo({},c.Css.getConfig()),{frameView:this})}).render().el),(0,et.BC)(m,this.getJsContainer()),(0,et.on)(m,"click",function(E){var N;return E&&((N=E.target)===null||N===void 0?void 0:N.tagName)=="A"&&E.preventDefault()}),(0,et.on)(m,"submit",function(E){return E&&E.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(E){return E.event.split(" ").forEach(function(N){g.addEventListener(N,function(K){return e.el.dispatchEvent((0,et.yL)(K,E.class))},E.opts)})}),this._toggleEffects(!0),(0,Ne.hasDnd)(c)&&(this.droppable=new zD(c,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,f.trigger("loaded"))},r.prototype._toggleEffects=function(e){var t=e?et.on:et.AU,o=this.getWindow();o&&t(o,"".concat(et.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(Uo);const $D=WD;var lO=$t(14),KD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bl=function(){return bl=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},bl.apply(this,arguments)},GD=function(n){KD(r,n);function r(e,t){var o=n.call(this,{model:e})||this;return(0,D.bindAll)(o,"onScroll","frameLoaded","updateOffset","remove","startDrag"),bl(bl({},e.config),{frameWrapView:o}),o.cv=t,o.frame=new $D(e,o),o.classAnim="".concat(o.ppfx,"frame-wrapper--anim"),o.updateOffset=(0,D.debounce)(o.updateOffset.bind(o),0),o.updateSize=(0,D.debounce)(o.updateSize.bind(o),0),o.listenTo(e,"loaded",o.frameLoaded),o.listenTo(e,"change:x change:y",o.updatePos),o.listenTo(e,"change:width change:height",o.updateSize),o.listenTo(e,"destroy remove",o.remove),o.updatePos(),o.setupDragger(),o}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var e=this,t=this,o=t.module,i=t.model,s,l,c,f=function(h){o.toggleFramesEvents(h)};this.dragger=new lO.A({onStart:function(){var h=i.attributes,g=h.x,m=h.y;c=e.em.getZoomMultiplier(),s=g,l=m,f(!1)},onEnd:function(){return f(!0)},setPosition:function(h){i.set({x:s+h.x*c,y:l+h.y*c})}})},r.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},r.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,et.YZ)(this.elTools)},r.prototype.remove=function(e){var t=this;return this.__clear(e),Uo.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(o){return t[o]=0}),this},r.prototype.updateOffset=function(){var e,t=this,o=t.em,i=t.$el,s=t.frame;!o||o.destroyed||(o.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(e=s==null?void 0:s.model)===null||e===void 0||e._emitUpdated())},r.prototype.updatePos=function(e){var t=this,o=t.model,i=t.el,s=o.attributes,l=s.x,c=s.y,f=i.style;this.frame.rect=void 0,f.left=isNaN(l)?l:"".concat(l,"px"),f.top=isNaN(c)?c:"".concat(c,"px"),e&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var e=this,t=e.em,o=e.el,i=e.$el,s=e.model,l=e.classAnim,c=e.frame;if(c){c.rect=void 0,i.addClass(l);var f=this.__handleSize(),h=f.noChanges,g=f.width,m=f.height;((0,D.isNull)(g)||(0,D.isNull)(m))&&s.set(bl(bl({},g?{}:{width:o.offsetWidth}),m?{}:{height:o.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),h?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var e=this,t=e.frame,o=e.em;o.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},r.prototype.frameLoaded=function(){var e=this,t=e.frame;e.config,t.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var e,t,o="px",i=this,s=i.model,l=i.el,c=l.style,f=s.attributes,h=f.width,g=f.height,m=c.width||"",y=c.height||"",_=h||"",x=g||"",C=m==_&&y==x,S=(0,D.isNumber)(_)?"".concat(_).concat(o):_,T=(0,D.isNumber)(x)?"".concat(x).concat(o):x;if(c.width=S,s.hasAutoHeight()){var E=this.frame.el;if(E.contentDocument){var N=E.contentDocument,K=new ResizeObserver(function(){c.height="".concat(N.body.scrollHeight,"px")});K.observe(N.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=K}}else c.height=T,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:C,width:h,height:g,newW:_,newH:x}},r.prototype.render=function(){var e=this,t=e.frame,o=e.$el,i=e.ppfx,s=e.cv,l=e.model,c=e.el,f=l.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),o.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(l.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var h=(0,et.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=h;var g=s==null?void 0:s.toolsWrapper;return g&&g.appendChild(h),f&&f({el:c,elTop:c.querySelector("[data-frame-top]"),elRight:c.querySelector("[data-frame-right]"),elBottom:c.querySelector("[data-frame-bottom]"),elLeft:c.querySelector("[data-frame-left]"),frame:l,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(Uo);const qD=GD;var YD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XD=function(n){YD(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,!0)||this;return o.listenTo(o.collection,"reset",o.render),o.canvasView=t.canvasView,o._module=t.module,o}return r.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(o){return o.remove(t)})},r.prototype.onRender=function(){var e=this,t=e.$el,o=e.ppfx;t.attr({class:"".concat(o,"frames")})},r.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},r.prototype.renderView=function(e,t){return new qD(e,this.canvasView)},r}(rD);const JD=XD;var ZD=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hp=function(){return hp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},hp.apply(this,arguments)},QD=function(n){ZD(r,n);function r(e){var t=n.call(this,{model:e})||this;t.ready=!1,(0,D.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var o=t,i=o.em,s=o.pfx,l=o.ppfx,c=t.module.events;return t.className="".concat(s,"canvas ").concat(l,"no-touch-actions").concat(i.config.customUI?"":" ".concat(s,"canvas-bg")),t.clsUnscale="".concat(s,"unscale"),t._initFrames(),t.listenTo(i,c.refresh,t.clearOff),t.listenTo(i,"component:selected",t.checkSelected),t.listenTo(i,"".concat(c.coords," ").concat(c.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return r.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var e=this,t=e.frames,o=e.model,i=e.config,s=e.em,l=o.frames;s.set("readyCanvas",0),l.once("loaded:all",function(){return s.set("readyCanvas",1)}),t==null||t.remove(),this.frames=new JD({collection:l},hp(hp({},i),{canvasView:this}))},r.prototype.checkSelected=function(e,t){var o;t===void 0&&(t={});var i=t.scroll,s=this.em.getCurrentFrame();i&&((o=e.views)===null||o===void 0||o.forEach(function(l){l.frameView===s&&l.scrollIntoView(i)}))},r.prototype.remove=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,Uo.prototype.remove.apply(this,t),this.toggleListeners(!1),this},r.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},r.prototype.toggleListeners=function(e){var t=this,o=t.el,i=t.config,s=e?et.on:et.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(o,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),s(o,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(e,t){var o=this.module,i=o.getCoords(),s=o.getZoomMultiplier(),l=this.getViewportDelta();return{x:(e-i.x-l.x)*s,y:(t-i.y-l.y)*s}},r.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),o=(0,et.Xy)(),i={x:e.clientX-t.left+o.x,y:e.clientY-t.top+o.y};if(e._parentEvent){var s=e.target.getBoundingClientRect(),l=this.module.getZoomDecimal();i.x=s.left-t.left+o.x+e.clientX*l,i.y=s.top-t.top+o.y+e.clientY*l}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},r.prototype.onKeyPress=function(e){var t=this.em,o=(0,et.Ch)(e);o===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(e){var t=this,o=t.module,i=t.config;if(i.infiniteCanvas){this.preventDefault(e);var s=e.deltaX,l=e.deltaY,c=o.getZoomDecimal(),f=(0,et.rp)(e),h=o.getCoords();if(f){var g=c-l*c*.01;o.setZoom(g*100);var m=this.model.getPointerCoords(Xe.x2.Screen),y=this.getCanvasOffset(),_=m.x-y.width/2,x=m.y-y.height/2,C=g/c,S=_-(_-h.x)*C,T=x-(x-h.y)*C;o.setCoords(S,T)}else this.onPointer(e),o.setCoords(h.x-s,h.y-l)}},r.prototype.updateFrames=function(e){var t=this.em,o=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),o.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(i),t.runDefault(i),o.style.display=""},300)},r.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,o=e.model,i=e.module,s=e.cvStyle,l=e.clsUnscale,c=i.getZoomMultiplier();if(t){var f=o.attributes,h=f.x,g=f.y,m=i.getZoomDecimal();t.style.transform="scale(".concat(m,") translate(").concat(h*c,"px, ").concat(g*c,"px)")}s&&(s.innerHTML=`
        .`.concat(l," { scale: ").concat(c,` }
      `))},r.prototype.fitViewport=function(e){var t,o;e===void 0&&(e={});var i=this,s=i.em,l=i.module,c=i.model,f=this.getCanvasOffset(),h=e.el,g=h&&((t=(0,Ne.getComponentView)(h))===null||t===void 0?void 0:t.frameView),m=g?g.model:e.frame||s.getCurrentFrameModel()||c.frames.at(0),y=m.attributes,_=y.x,x=y.y,C={x:_??0,y:x??0,width:m.width,height:m.height};if(h){var S=this.getElBoxRect(h);C.x=C.x+S.x,C.y=C.y+S.y,C.width=S.width,C.height=S.height}var T=e.ignoreHeight,E=(o=e.gap)!==null&&o!==void 0?o:0,N=(0,D.isNumber)(E),K=N?E:E.x,re=N?E:E.y,ue=C.width+K*2,Q=C.height+re*2,$=f.width,te=f.height,U=$/ue,R=te/Q,W=T?U:Math.min(U,R),H=W*100;l.setZoom(H);var ie=-C.x+(m.width>=$?$/2-ue/2:-K),M=-C.y+te/2-Q/2,we={x:(ie+K)*W,y:(M+re)*W};if(T){var oe=l.getZoomMultiplier(),xe=te*oe,De=xe-te,se=De/2;we.y=(-C.y+re)*W-se/oe}l.setCoords(we.x,we.y)},r.prototype.isElInViewport=function(e){var t=(0,Ne.getElement)(e),o=(0,et.C8)(t),i=this.getFrameOffset(t),s=o.top,l=o.left;return s>=0&&l>=0&&s<=i.height&&l<=i.width},r.prototype.offset=function(e,t){t===void 0&&(t={});var o=t.noScroll,i=(0,et.C8)(e),s=o?{x:0,y:0}:(0,et.Xy)(e);return{top:i.top+s.y,left:i.left+s.x,width:i.width,height:i.height}},r.prototype.getRectToScreen=function(e){var t,o,i,s,l=this.module.getZoomDecimal(),c=this.module.getCoords(),f=this.getViewportDelta(),h=((t=e.x)!==null&&t!==void 0?t:0)*l+c.x+f.x||0,g=((o=e.y)!==null&&o!==void 0?o:0)*l+c.y+f.y||0;return{x:h,y:g,width:((i=e.width)!==null&&i!==void 0?i:0)*l,height:((s=e.height)!==null&&s!==void 0?s:0)*l}},r.prototype.getElBoxRect=function(e,t){var o,i,s;t===void 0&&(t={});var l=this.module,c=(0,et.C8)(e),f=c.width,h=c.height,g=c.left,m=c.top,y=(o=(0,Ne.getComponentView)(e))===null||o===void 0?void 0:o.frameView,_=y==null?void 0:y.getBoxRect(),x=l.getZoomMultiplier(),C=(i=_==null?void 0:_.x)!==null&&i!==void 0?i:0,S=(s=_==null?void 0:_.y)!==null&&s!==void 0?s:0,T=this.el,E=(0,et.Xy)(),N=g+C+(T.scrollLeft+E.x)*x,K=m+S+(T.scrollTop+E.y)*x,re={x:N,y:K,width:f,height:h};return t.local&&(re.x=g,re.y=m),t.toScreen?this.getRectToScreen(re):re},r.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),o=t.top,i=t.left,s=t.width,l=t.height,c=this.module;if(e.toWorld){var f=c.getZoomMultiplier(),h=c.getCoords(),g=this.getViewportDelta(),m=-h.x-g.x||0,y=-h.y-g.y||0;return{x:m*f,y:y*f,width:s*f,height:l*f}}else return{x:i,y:o,width:s,height:l}},r.prototype.getViewportDelta=function(e){var t=this.module.getZoomMultiplier(),o=this.getCanvasOffset(),i=o.width,s=o.height,l=i*t,c=s*t,f=l-i,h=c-s;return{x:f/2/t,y:h/2/t}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var o=(t=this.frame)===null||t===void 0?void 0:t.el,i=e==null?void 0:e.ownerDocument.defaultView,s=i?i.frameElement:o;this.frmOff=this.offset(s||o)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(e,t){t===void 0&&(t={});var o=this.module.getZoomDecimal(),i=this.getFrameOffset(e),s=this.el,l=this.getCanvasOffset(),c=this.offset(e,t),f=t.avoidFrameOffset?0:i.top,h=t.avoidFrameOffset?0:i.left,g=t.avoidFrameZoom?c.top:c.top*o,m=t.avoidFrameZoom?c.left:c.left*o,y=t.avoidFrameOffset?g:g+f-l.top+s.scrollTop,_=t.avoidFrameOffset?m:m+h-l.left+s.scrollLeft,x=t.avoidFrameZoom?c.height:c.height*o,C=t.avoidFrameZoom?c.width:c.width*o;return{top:y,left:_,height:x,width:C,zoom:o,rect:c}},r.prototype.getElementOffsets=function(e){if(!e||(0,et.ir)(e))return{};var t={},o=window.getComputedStyle(e),i=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(l){t[l]=parseFloat(o[l])*i}),t},r.prototype.getPosition=function(e){var t;e===void 0&&(e={});var o=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!o)return{top:0,left:0,width:0,height:0};var i=o.body,s=this.module.getZoomDecimal(),l=this.getFrameOffset(),c=this.getCanvasOffset(),f=e.noScroll;return{top:l.top+(f?0:i.scrollTop)*s-c.top,left:l.left+(f?0:i.scrollLeft)*s-c.left,width:c.width,height:c.height}},r.prototype.updateScript=function(e){var t=e.model,o=t.getId();if(!e.scriptContainer){e.scriptContainer=(0,et.a_)("div",{"data-id":o});var i=this.getJsContainer();i==null||i.appendChild(e.scriptContainer)}e.el.id=o,e.scriptContainer.innerHTML="";var s=document.createElement("script"),l=t.getScriptString(),c=t.get("script-props")?l:`function(){
`.concat(l,`
;}`),f=JSON.stringify(t.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(o,`');
        if (!item) return;
        (`).concat(c,".bind(item))(").concat(f,`)
      }, 1);`),setTimeout(function(){var h=e.scriptContainer;h==null||h.appendChild(s)},0)},r.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t==null?void 0:t.getJsContainer()},r.prototype.getFrameView=function(e){return(e==null?void 0:e.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,o=e.frames,i=e.em,s=e.framesArea,l=t.frames;l.listenToLoad(),o.render();var c=l.at(0),f=c==null?void 0:c.view;i.setCurrentFrame(f),s==null||s.appendChild(o.el),this.frame=f,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var e=this,t=e.el,o=e.$el,i=e.ppfx,s=e.config,l=e.em;o.html(this.template());var c=o.find("[data-frames]");this.framesArea=c.get(0);var f=o.find("[data-tools]");return this.toolsWrapper=f.get(0),f.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(i,"tools")),this.hlEl=t.querySelector(".".concat(i,"highlighter")),this.badgeEl=t.querySelector(".".concat(i,"badge")),this.placerEl=t.querySelector(".".concat(i,"placeholder")),this.ghostEl=t.querySelector(".".concat(i,"ghost")),this.toolbarEl=t.querySelector(".".concat(i,"toolbar")),this.resizerEl=t.querySelector(".".concat(i,"resizer")),this.offsetEl=t.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(i,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,Ne.getUiClass)(l,this.className),this.ready=!0,this._renderFrames(),this},r}(Uo);const eR=QD;var tR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cs=function(){return cs=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},cs.apply(this,arguments)},rR=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},nR=function(n){tR(r,n);function r(e){var t=n.call(this,e,"Canvas",xN)||this;return t.events=ip,t.framesById={},t.canvas=new qN(t),t.spots=new JN(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(e){return this.getFrames()[e||0]},r.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},r.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},r.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},r.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},r.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},r.prototype._getLocalEl=function(e,t,o){var i=e,s=t==null?void 0:t.frameView;return i=s?s[o]():i,i},r.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},r.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},r.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},r.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},r.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new eR(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},r.prototype.offset=function(e){return this.getCanvasView().offset(e)},r.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},r.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},r.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},r.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},o=t.top,i=o===void 0?0:o,s=t.left,l=s===void 0?0:s;return cs(cs({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:l})},r.prototype.getTargetToElementDim=function(e,t,o){o===void 0&&(o={});var i=o||{},s=this.getCanvasView().getPosition();if(s){var l=i.elPos||this.getCanvasView().getElementPos(t),c=o.toRight||0,f=i.targetHeight||e.offsetHeight,h=i.targetWidth||e.offsetWidth,g=i.event||null,m=l.top-f,y=l.left;y+=c?l.width:0,y=c?y-h:y;var _=y<s.left?s.left:y,x=m<s.top?s.top:m;x=x>l.top+l.height?l.top+l.height:x;var C={top:x,left:_,elementTop:l.top,elementLeft:l.left,elementWidth:l.width,elementHeight:l.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return g&&this.em&&this.em.trigger(g,C),C}},r.prototype.canvasRectOffset=function(e,t,o){var i=this;o===void 0&&(o={});var s=function(c){var f=c.defaultView;return f==null?void 0:f.frameElement},l=function(c,f,h){f===void 0&&(f=1);var g=i.em.getZoomDecimal(),m=f?"top":"left",y=c.ownerDocument,_=o.offset?s(y):{},x=_.offsetTop,C=x===void 0?0:x,S=_.offsetLeft,T=S===void 0?0:S,E=y.body||{},N=E.scrollTop,K=N===void 0?0:N,re=E.scrollLeft,ue=re===void 0?0:re,Q=f?K:ue,$=f?C:T;return h[m]-(Q-$)*g};return{top:l(e,1,t),left:l(e,0,t)}},r.prototype.getTargetToElementFixed=function(e,t,o){o===void 0&&(o={});var i=o.pos||this.getElementPos(e,{noScroll:!0}),s=o.canvasOff||this.canvasRectOffset(e,i),l=t.offsetHeight||0,c=t.offsetWidth||0,f=i.left+i.width,h=this.getCanvasView(),g=h.getPosition(),m=h.getFrameOffset(e),y=o.event,_=-l,x=(0,D.isUndefined)(o.left)?i.width-c:o.left;if(x=i.left<-x?-i.left:x,x=f>g.width?x-(f-g.width):x,s.top<l){var C=i.height+l,S=C<m.height;S?_=_+C:_=-s.top<i.height?-s.top:i.height}var T={top:_,left:x,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:i,canvasOffset:s,canvasRect:g,targetWidth:c,targetHeight:l};return y&&this.em.trigger(y,T),T},r.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var o=t.subWinOffset,i=e.target.ownerDocument,s=i.defaultView||i.parentWindow,l=s.frameElement,c=o?s.pageYOffset:0,f=o?s.pageXOffset:0,h=this.getZoomMultiplier(),g=0,m=0;if(l){var y=l.getBoundingClientRect();g=y.top||0,m=y.left||0}return{y:(e.clientY+g-c)*h,x:(e.clientX+m-f)*h}},r.prototype.getMouseRelativeCanvas=function(e,t){var o,i=this.getZoomDecimal(),s=(o=this.getCanvasView().getPosition(t))!==null&&o!==void 0?o:{},l=s.top,c=l===void 0?0:l,f=s.left,h=f===void 0?0:f;return{y:e.clientY*i+c,x:e.clientX*i+h}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),o=rR(["body"],this.config.notTextable,!0),i=t&&document.activeElement===t,s=i?e&&e.activeElement:document.activeElement;return s&&!o.some(function(l){return s.matches(l)})},r.prototype.scrollTo=function(e,t){t===void 0&&(t={});var o=(0,Ne.getElement)(e),i=o&&(0,Ne.getViewEl)(o);i&&i.scrollIntoView(t)},r.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},r.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},r.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(e,t,o){var i;o===void 0&&(o={});var s=e||e===0,l=t||t===0,c={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(c.x=parseFloat("".concat(e))),l&&(c.y=parseFloat("".concat(t))),o.toWorld){var f=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();f&&(s&&(c.x=c.x-f.x),l&&(c.y=c.y-f.y))}return this.canvas.set(c),this},r.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,o=e.y;return{x:t,y:o}},r.prototype.getPointer=function(e){var t=this.canvas.attributes,o=t.pointer,i=t.pointerScreen;return e?i:o},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},r.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},r.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},r.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new K1(this,cs({},e)),t)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(e,t){var o;t===void 0&&(t={});var i=e,s=this.getSpots(i);if(s.length){var l=s[0];return l.set(i),l}var c=i.componentView||((o=i.component)===null||o===void 0?void 0:o.view),f=new jo.A(this,cs(cs({},i),{id:i.id||"cs_".concat(i.type,"_").concat(c==null?void 0:c.cid),type:i.type||""}));return this.spots.add(f,t),f},r.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},r.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,D.isArray)(e)?e:this.getSpots(e),o=this.spots.remove(t);return o},r.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},r.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},r.prototype.refresh=function(e){e===void 0&&(e={});var t=this,o=t.em,i=t.events,s=t.canvasView;s==null||s.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),o.trigger("canvas:updateTools")),o.set("canvasOffset",this.getOffset()),o.trigger(i.refresh,e)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(o){return e[o]={}})},r}(oo);const oR=nR,Ab={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var iR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vp=function(){return vp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},vp.apply(this,arguments)},aR=function(n){iR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return vp(vp({},n.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var e=this.content,t=this.parent();return t!=null&&t.is("script")?e:this.__escapeContent(e)},r.prototype.__escapeContent=function(e){return(0,Ne.escapeNodeContent)(e)},r.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(bn);const uO=aR;var sR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nm=function(){return Nm=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Nm.apply(this,arguments)},lR=function(n){sR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Nm({},n.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(uO);const uR=lR;var cR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gp=function(){return gp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},gp.apply(this,arguments)},$v="iframe",fR=function(n){cR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return gp(gp({},n.prototype.defaults),{type:$v,tagName:$v,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===$v},r}(bn);const dR=fR;var pR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mp=function(){return mp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},mp.apply(this,arguments)},Lb='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',hR=function(n){pR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this,i=o.get("attributes").src;return i&&(0,Ne.buildBase64UrlFromSvg)((0,D.result)(o,"defaults").src)!==i&&o.set("src",i,{silent:!0}),o}return Object.defineProperty(r.prototype,"defaults",{get:function(){return mp(mp({},n.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Lb,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(Lb,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){n.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,o="image-editor";if(t.has(o)){for(var i=!1,s=this.get("toolbar"),l=0;l<s.length;l++)if(s[l].command==="image-editor"){i=!0;break}i||(s.push({attributes:{class:"fa fa-pencil"},command:o}),this.set("toolbar",s))}}},r.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},r.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",o=t;return t&&t.substr(0,4)==="<svg"&&(o=(0,Ne.buildBase64UrlFromSvg)(t)),o},r.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,D.result)(this,"defaults").src;return e===t||e===(0,Ne.buildBase64UrlFromSvg)(t)},r.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),o=t.attributes;return o&&t.src===o.src&&delete t.src,t},r.prototype.parseUri=function(e){var t={},o=function(i){i===void 0&&(i="");for(var s={},l=i.substring(1).split("&"),c=0;c<l.length;c++){var f=l[c].split("="),h=decodeURIComponent(f[0]);h&&(s[h]=decodeURIComponent(f[1]||""))}return s};if((0,Ne.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:o(t.search)}},r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)==="img"},r}(bn);const e0=hR;var vR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yp=function(){return yp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},yp.apply(this,arguments)},gR=function(n){vR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this;return o.__checkInnerChilds(),o}return Object.defineProperty(r.prototype,"defaults",{get:function(){return yp(yp({},n.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(o){o.isInstanceOf("textnode")||o.set({locked:!0,layerable:!1})};(0,D.isFunction)(e)?this.forEachChild(function(o){e(o)&&t(o)}):this.forEachChild(t)}},r}(bn);const t0=gR;var mR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wp=function(){return wp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},wp.apply(this,arguments)},Kv="label",yR=function(n){mR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return wp(wp({},n.prototype.defaults),{type:Kv,tagName:Kv,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Kv},r}(t0);const wR=yR;var _R=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_p=function(){return _p=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},_p.apply(this,arguments)},Mb="link",bR=function(n){_R(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return _p(_p({},n.prototype.defaults),{type:Mb,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){t===void 0&&(t={});var o;if((0,Ne.toLowerCase)(e.tagName)==="a"){var i=t.textTags||[];o={type:Mb,editable:!1};var s=e.childNodes,l=s.length;l||delete o.editable,(0,D.forEach)(s,function(c){var f=c.tagName;(c.nodeType==3&&c.textContent.trim()!==""||f&&i.indexOf((0,Ne.toLowerCase)(f))>=0)&&delete o.editable})}return o},r}(t0);const xR=bR;var CR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bp=function(){return bp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},bp.apply(this,arguments)},SR=function(n){CR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this;return o.get("src")?o.parseFromSrc():o.updateSrc(),o.listenTo(o,"change:address change:zoom change:mapType",o.updateSrc),o}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e=n.prototype.defaults;return bp(bp({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),o=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",o=o?"&t="+o:"";var i=this.get("mapUrl")+"?"+e+t+o;return i+="&output=embed",i},r.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},r.isComponent=function(e){if((0,Ne.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},r}(e0);const OR=SR;var ER=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xp=function(){return xp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},xp.apply(this,arguments)},Gv="script",TR=function(n){ER(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return xp(xp({},n.prototype.defaults),{type:Gv,tagName:Gv,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Gv},r}(bn);const PR=TR;var kR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cp=function(){return Cp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Cp.apply(this,arguments)},qv="svg",AR=function(n){kR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Cp(Cp({},n.prototype.defaults),{type:qv,tagName:qv,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===qv},r}(bn);const cO=AR;var LR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sp=function(){return Sp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Sp.apply(this,arguments)},MR=function(n){LR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Sp(Sp({},n.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},r}(cO);const NR=MR;var DR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Op=function(){return Op=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Op.apply(this,arguments)},Yv="table",RR=function(n){DR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this,i=o.get("components");return!i.length&&i.add({type:"tbody"}),o}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Op(Op({},n.prototype.defaults),{type:Yv,tagName:Yv,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Yv},r}(bn);const jR=RR;var IR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ep=function(){return Ep=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ep.apply(this,arguments)},Xv="tbody",FR=function(n){IR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this,i=o.get("components"),s=o.get("columns"),l=o.get("rows");if(!i.length){for(var c=[];l--;){for(var f=[],h=s;h--;)f.push({type:"cell",classes:["cell"]});c.push({type:"row",classes:["row"],components:f})}i.add(c)}return o}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ep(Ep({},n.prototype.defaults),{type:Xv,tagName:Xv,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Xv},r}(bn);const r0=FR;var VR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tp=function(){return Tp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Tp.apply(this,arguments)},UR=function(n){VR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Tp(Tp({},n.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return["td","th"].indexOf((0,Ne.toLowerCase)(e.tagName))>=0},r}(bn);const zR=UR;var BR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pp=function(){return Pp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Pp.apply(this,arguments)},Jv="tfoot",HR=function(n){BR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Pp(Pp({},n.prototype.defaults),{type:Jv,tagName:Jv})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Jv},r}(r0);const WR=HR;var $R=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kp=function(){return kp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},kp.apply(this,arguments)},Zv="thead",KR=function(n){$R(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return kp(kp({},n.prototype.defaults),{type:Zv,tagName:Zv})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Zv},r}(r0);const GR=KR;var qR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ap=function(){return Ap=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ap.apply(this,arguments)},Nb="tr",YR=function(n){qR(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ap(Ap({},n.prototype.defaults),{tagName:Nb,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Ne.toLowerCase)(e.tagName)===Nb},r}(bn);const XR=YR;var JR=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lp=function(){return Lp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Lp.apply(this,arguments)},Qv="video",ol="yt",il="vi",al="ytnc",Db="so",eg=function(n){return n&&n!=="0"},ZR=function(n){JR(r,n);function r(e,t){e===void 0&&(e={});var o=n.call(this,e,t)||this;return o.get("src")&&o.parseFromSrc(),o.updatePropsFromAttr(),o.updateTraits(),o.on("change:provider",o.updateTraits),o.on("change:videoId change:provider",o.updateSrc),o}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Lp(Lp({},n.prototype.defaults),{type:Qv,tagName:Qv,videoId:"",void:!1,provider:Db,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Db){var e=this.get("attributes"),t=e.controls,o=e.autoplay,i=e.loop,s={};(0,Ne.isDef)(t)&&(s.controls=!!t),(0,Ne.isDef)(o)&&(s.autoplay=!!o),(0,Ne.isDef)(i)&&(s.loop=!!i),(0,Ne.isEmptyObj)(s)||this.set(s)}},r.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),o="iframe",i;switch(t){case ol:case al:i=this.getYoutubeTraits();break;case il:i=this.getVimeoTraits();break;default:o="video",i=this.getSourceTraits()}this.set({tagName:o},{silent:!0}),this.set({traits:i}),e.get("ready")&&e.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),o=t.query;switch(e){case ol:case al:case il:this.set("videoId",t.pathname.split("/").pop()),o.list&&this.set("list",o.list),eg(o.autoplay)&&this.set("autoplay",!0),eg(o.loop)&&this.set("loop",!0),parseInt(o.controls)===0&&this.set("controls",!1),eg(o.color)&&this.set("color",o.color),o.rel==="0"&&this.set("rel",0),o.modestbranding==="1"&&this.set("modestbranding",1);break}},r.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case ol:t=this.getYoutubeSrc();break;case al:t=this.getYoutubeNoCookieSrc();break;case il:t=this.getVimeoSrc();break}this.set({src:t})},r.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case ol:case al:case il:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:ol,name:"Youtube"},{value:al,name:"Youtube (no cookie)"},{value:il,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),o=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=o?"&list=".concat(o):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},r.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},r.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},r.isComponent=function(e){var t=e.tagName,o=e.src,i=/youtube\.com\/embed/.test(o),s=/youtube-nocookie\.com\/embed/.test(o),l=/player\.vimeo\.com\/video/.test(o),c=i||s||l;if((0,Ne.toLowerCase)(t)==Qv||(0,Ne.toLowerCase)(t)=="iframe"&&c){var f={type:"video"};return o&&(f.src=o),c&&(i?f.provider=ol:s?f.provider=al:l&&(f.provider=il)),f}},r}(e0);const QR=ZR;var ej=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mp=function(){return Mp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Mp.apply(this,arguments)},tj=function(n){ej(r,n);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o,i,s=n.apply(this,e)||this,l=e[1],c=(o=l==null?void 0:l.em)===null||o===void 0?void 0:o.Components,f=(i=c==null?void 0:c.getType(Rl))===null||i===void 0?void 0:i.model,h=c==null?void 0:c.getType("default").model;return f&&s.set({head:new f({},l),docEl:new h({tagName:"html"},l)},{silent:!0}),s}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Mp(Mp({},n.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,o=(0,D.isUndefined)(e.asDocument)?!!t:e.asDocument,i=this,s=i.head,l=i.docEl,c=n.prototype.toHTML.call(this,e),f=o&&(s==null?void 0:s.toHTML(e))||"",h=o&&(0,et.kk)(l==null?void 0:l.getAttrToHTML())||"",g=h?" ".concat(h):"";return o?"".concat(t,"<html").concat(g,">").concat(f).concat(c,"</html>"):c},r.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(t==null||t.add(this)),n.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t==null||t.remove(this),n.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(bn);const rj=tj;var nj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oj=function(n){nj(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.compView=Vr,e}return r.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},r.prototype.removeChildren=function(e,t,o){var i=this;o===void 0&&(o={}),e.views.forEach(function(l){if(l){var c=l.childrenView,f=l.scriptContainer;c&&c.stopListening(),(0,et.YZ)(f),l.remove.apply(l)}});var s=e.components();s.forEach(function(l){return i.removeChildren(l,t,o)})},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,o){for(var i=this,s=i.config,l=i.opts,c=i.em,f=s.frameView,h=(f==null?void 0:f.model)&&e.getView(f.model),g=l.componentTypes||(c==null?void 0:c.Components.getTypes()),m=e.get("type")||"default",y=this.compView,_=0;_<g.length;_++)if(g[_].id==m){y=g[_].view;break}var x=h||new y({model:e,config:s,componentTypes:g}),C;try{C=x.render().el}catch(N){C=document.createTextNode(""),c.logError(N)}if(t)t.appendChild(C);else{var S=this.parentEl,T=S.childNodes;if((0,D.isUndefined)(o))S.appendChild(C);else{var E=T.length==o;E&&o--,E||!T.length?S.appendChild(C):S.insertBefore(C,T[o])}}return e.opt.temporary||c==null||c.trigger("component:mount",e),C},r.prototype.resetChildren=function(e,t){var o=this,i=t===void 0?{}:t,s=i.previousModels,l=s===void 0?[]:s;this.parentEl.innerHTML="",l.forEach(function(c){return o.removeChildren(c,o.collection)}),e.each(function(c){return o.addToCollection(c)})},r.prototype.render=function(e){var t=this,o=this.el,i=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(s){return t.addToCollection(s,i)}),o.innerHTML="",o.appendChild(i),this},r}(Xe.Ss);const fO=oj;var ij=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fi=function(){return fi=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},fi.apply(this,arguments)},aj=function(n){ij(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,o=e.config||{},i=o.em,s=t.opt||{},l=this,c=l.$el,f=l.el;this.opts=e,this.modelOpt=s,this.config=o,this.em=i,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),c.data("model",t),(0,Ne.setViewEl)(f,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=fi(fi({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var e,t,o=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?o:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var e=this,t=e.model,o=e.config,i=t.attributes.draggable;return o.draggableComponents&&i},r.prototype._clbObj=function(){var e=this,t=e.em,o=e.model,i=e.el;return{editor:t==null?void 0:t.getEditor(),model:o,el:i}},r.prototype.init=function(e){},r.prototype.removed=function(e){},r.prototype.onRender=function(e){},r.prototype.onActive=function(e){},r.prototype.onDisable=function(e){},r.prototype.remove=function(){var e;n.prototype.remove.call(this);var t=this,o=t.model,i=t.$el,s=o.views,l=this.frameView||{};return o.components().forEach(function(c){var f=c.getView(l.model);f==null||f.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:e})},r.prototype.initClasses=function(){var e=this.model,t=e.classes,o="change:classes";t instanceof Pa&&(this.stopListening(e,o,this.initClasses),this.listenTo(e,o,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},r.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,o=t.model,i=t.$el,s=t.childrenView,l="change:components",c=o.get("components"),f=[o,l,this.initComponents];c instanceof Bc&&(i.data("collection",c),s&&s.remove(),this.stopListening.apply(this,f),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,f))},r.prototype.handleChange=function(){var e=this.model,t=(0,D.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var o in e.changed)e.emitUpdate(o)}},r.prototype.importClasses=function(){var e=this,t=e.em,o=e.model,i=t.Selectors;i&&o.classes.forEach(function(s){return i.add(s.getName())})},r.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,o=t.em,i=t.el,s=t.ppfx,l=t.model,c=o==null?void 0:o.Canvas,f=c==null?void 0:c.config.extHl,h=l.get("status"),g="".concat(s,"selected"),m="".concat(g,"-parent"),y="".concat(s,"freezed"),_="".concat(s,"hovered"),x="".concat(s,"no-pointer"),C="".concat(s,"pointer-init"),S=[g,m,y,_,x],T=f&&!e.noExtHl?"":g;this.$el.removeClass(S.join(" "));var E=i.getAttribute("class")||"",N=[E],K=!(c!=null&&c.hasCustomSpot(jo.F.Select)),re=!(c!=null&&c.hasCustomSpot(jo.F.Target));switch(h){case"selected":K&&N.push(T);break;case"selected-parent":re&&N.push(m);break;case"freezed":N.push(y);break;case"freezed-selected":N.push(y),K&&N.push(T);break;case"hovered":!e.avoidHover&&N.push(_);break}(0,D.isBoolean)(l.locked)&&N.push(l.locked?x:C);var ue=N.filter(Boolean).join(" ");ue&&i.setAttribute("class",ue)},r.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),o=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",o?!0:"")},r.prototype.updateStyle=function(e,t,o){o===void 0&&(o={});var i=this,s=i.model,l=i.em;if(Xu(l)&&!o.inline){var c=this.__cmpStyleOpts,f=s.getStyle(fi({inline:!0},c));!(0,D.isEmpty)(f)&&s.setStyle(f,c)}else this.setAttribute("style",s.styleToString(o))},r.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(e,t){var o=this.$el;t?o.attr(e,t):o.removeAttr(e)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var e=[],t=this,o=t.model,i=t.$el,s=t.el,l=o.attributes,c=l.textable,f=l.type,h=fi(fi({id:o.getId(),"data-gjs-type":f||"default"},this.__isDraggable()&&{draggable:!0}),c&&{contenteditable:"false"});(0,D.each)(s.attributes,function(m){return e.push(m.nodeName)}),e.forEach(function(m){return i.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var g=fi(fi({},h),o.getAttributes());(0,D.keys)(g).forEach(function(m){return g[m]===!1&&delete g[m]}),i.attr(g)},r.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},r.prototype.prevDef=function(e){e.preventDefault()},r.prototype.updateScript=function(){var e=this,t=e.model,o=e.em;t.get("script")&&(o==null||o.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},r.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,o=0,i=0,s=function(l){var c=l.offsetParent;c?(o+=c.offsetTop,i+=c.offsetLeft,s(c)):(e.top=t.offsetTop+o,e.left=t.offsetLeft+i,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return s(t),e},r.prototype.isInViewport=function(){var e=this,t=e.el,o=e.em,i=e.frameView,s=o.Canvas.getCanvasView(),l=s.getElBoxRect(t,{local:!0}),c=i.el,f=c.clientHeight,h=c.clientWidth,g=l.y,m=l.x,y=g+l.height,_=m+l.width,x=g>=0&&g<f,C=y>0&&y<f,S=_>=0&&_<h,T=m>0&&m<=h,E=(x||C)&&(S||T);return E},r.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var o=this.isInViewport();if(!o||e.force){var i=this.el;if(e.behavior!=="smooth"){var s=this.getOffsetRect();(t=i.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,s.top)}else i.scrollIntoView(fi({behavior:"smooth",block:"nearest"},e))}},r.prototype.reset=function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,et.bG)(e,this.el),this.render()},r.prototype._setData=function(){var e=this.model,t=e.components(),o=this;this.$el.data({model:e,collection:t,view:o})},r.prototype._createElement=function(e){return this.createDoc.createElement(e)},r.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new fO({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var o=Array.prototype.slice.call(t.el.childNodes),i=0,s=o.length;i<s;i++)e.appendChild(o.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Ne.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,D.result)(this.prototype,"events")},r}(Xe.Ss);const Vr=aj;var sj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lj=function(n){sj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this,t=e.model,o=e.el;return t.opt.temporary?this:(o.textContent=t.content,this)},r}(Vr);const dO=lj;var uj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cj=function(n){uj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(dO);const fj=cj;var dj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pj=function(n){dj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var e=(0,et.I6)(this.el,"iframe")[0];e&&(0,et.X6)(e,{src:this.__getSrc()})},r.prototype.render=function(){n.prototype.render.call(this);var e=(0,et.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(Vr);const hj=pj;var vj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gj=function(n){vj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,o=e.em,i=t.get("file");if(i&&o){var s=o.Assets.FileUploader();s==null||s.uploadFile({dataTransfer:{files:[i]}},function(l){var c=l&&l.data&&l.data[0],f=c&&((0,D.isString)(c)?c:c.src);f&&t.set({src:f})}),t.set("file","")}}},r.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){n.prototype.updateClasses.call(this);var e=this,t=e.el,o=e.classEmpty,i=e.model,s=i.getSrcResult()&&!i.isDefaultSrc(),l=s?"remove":"add";t.classList[l](o)},r.prototype.onActive=function(e){e==null||e.stopPropagation();var t=this,o=t.em,i=t.model,s=o==null?void 0:o.Assets;s&&i.get("editable")&&s.open({select:function(l,c){i.set({src:l.getSrc()}),c&&s.close()},target:i,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var e=this.model.getSrcResult({fallback:!0});e&&(this.el.src=e)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(e){return e.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,o=e.model,i=t.attr("class")||"";return!o.get("src")&&t.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(Vr);const n0=gj;var mj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dc=function(){return dc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},dc.apply(this,arguments)},od=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},id=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},yj=function(n){mj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(e){n.prototype.initialize.call(this,e),(0,D.bindAll)(this,"disableEditing","onDisable");var t=this.model,o=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=o==null?void 0:o.RichTextEditor},r.prototype.updateContentText=function(e,t,o){o===void 0&&(o={}),!o.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var e=this,t=e.model,o=e.rteEnabled,i=e.em,s=i==null?void 0:i.getEditing(),l=s===t,c=!0,f=!1,h;if((o||!t.get("editable")||l||(f=t.isChildOf("text")))&&(c=!1,f&&!t.get("textable"))){for(var g=t.parent();g&&!g.isInstanceOf("text");)g=g.parent();g&&g.get("editable")?h=g:c=!0}return{result:c,delegate:h}},r.prototype.onActive=function(e){return od(this,void 0,void 0,function(){var t,o,i,s,l,c,f,h,g,m,y;return id(this,function(_){switch(_.label){case 0:return t=this,o=t.rte,i=t.em,s=this.canActivate(),l=s.result,c=s.delegate,l?((y=e==null?void 0:e.stopPropagation)===null||y===void 0||y.call(e),f=this,[4,this.getContent()]):(c&&((m=e==null?void 0:e.stopPropagation)===null||m===void 0||m.call(e),i.setSelected(c),c.trigger("active",e)),[2]);case 1:if(f.lastContent=_.sent(),!o)return[3,5];_.label=2;case 2:return _.trys.push([2,4,,5]),h=this,[4,o.enable(this,this.activeRte,{event:e})];case 3:return h.activeRte=_.sent(),[3,5];case 4:return g=_.sent(),i.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(e){this.disableEditing(e)},r.prototype.disableEditing=function(){return od(this,arguments,void 0,function(e){var t,o,i,s,l,c,f,h;return e===void 0&&(e={}),id(this,function(g){switch(g.label){case 0:if(t=this,o=t.model,i=t.rte,s=t.activeRte,l=t.em,c=o&&o.get("editable"),!i)return[3,8];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,i.disable(this,s,e)];case 2:return g.sent(),[3,4];case 3:return f=g.sent(),l.logError(f),[3,4];case 4:return h=c,h?[4,this.getContent()]:[3,6];case 5:h=g.sent()!==this.lastContent,g.label=6;case 6:return h?[4,this.syncContent(e)]:[3,8];case 7:g.sent(),this.lastContent="",g.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return od(this,void 0,void 0,function(){var e,t,o,i;return id(this,function(s){switch(s.label){case 0:return e=this,t=e.rte,o=e.activeRte,i="",t?[4,t.getContent(this,o)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return[2,i]}})})},r.prototype.syncContent=function(){return od(this,arguments,void 0,function(e){var t,o,i,s,l,c,f;return e===void 0&&(e={}),id(this,function(h){switch(h.label){case 0:return t=this,o=t.model,i=t.rte,s=t.rteEnabled,!s&&!e.force?[2]:[4,this.getContent()];case 1:return l=h.sent(),c=o.components(),f=dc({fromDisable:1},e),o.set("content","",f),i!=null&&i.customRte&&!i.customRte.parseContent?(c.length&&c.reset(void 0,dc(dc({},e),{keepIds:_l(c)})),o.set("content",l,f)):c.resetFromString(l,e),[2]}})})},r.prototype.insertComponent=function(e,t){var o;t===void 0&&(t={});var i=this,s=i.model,l=i.el,c=l.ownerDocument,f=c.getSelection();if(f!=null&&f.rangeCount){var h=f.getRangeAt(0),g=h.startContainer,m=h.startOffset,y=(0,Ne.getComponentModel)(g),_=[];if(y&&(!((o=y.is)===null||o===void 0)&&o.call(y,"textnode"))){var x=y.collection;x.forEach(function(T){if(T===y){var E="textnode",N=t.useDomContent?g.textContent||"":T.content;_.push({type:E,content:N.slice(0,m)}),_.push(e),_.push({type:E,content:N.slice(m)})}else _.push(T)});var C=_.filter(Boolean),S=C.indexOf(e);return x.reset(C,t),x.at(S)}}return s.append(e,t)},r.prototype.onInput=function(){var e=this.em,t="component",o=["".concat(t,":update"),"".concat(t,":input")].join(" ");e&&e.trigger(o,this.model)},r.prototype.disablePropagation=function(e){e.stopPropagation()},r.prototype.toggleEvents=function(e){var t=this,o=t.em,i=t.model,s=t.$el,l={on:et.on,off:et.AU},c=e?"on":"off";o.setEditing(e?this:!1),this.rteEnabled=!!e;var f=[this.el.ownerDocument,document];if(l.off(f,"mousedown",this.onDisable),l[c](f,"mousedown",this.onDisable),o[c]("toolbar:run:before",this.onDisable),i&&(i[c]("removed",this.onDisable),i.trigger("rte:".concat(e?"enable":"disable"))),s==null||s.off("mousedown",this.disablePropagation),s&&s[c]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var h=this.el;h;)h.draggable=!e,h=h.parentNode,h&&h.tagName=="BODY"&&(h=0)},r}(Vr);const pO=yj;var wj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_j=function(n){wj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(){return n.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(pO);const hO=_j;var bj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xj=function(n){bj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(hO);const Cj=xj;var Sj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Oj=function(n){Sj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},r.prototype.render=function(){return n.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(n0);const Ej=Oj;var Tj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pj=function(n){Tj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(Vr);const kj=Pj;var Aj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lj=function(n){Aj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},r}(Vr);const Rb=Lj;var Mj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nj=function(n){Mj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Vr);const Dj=Nj;var Rj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jj=function(n){Rj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Vr);const Ij=jj;var Fj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vj=function(n){Fj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Vr);const Uj=Vj;var zj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bj=function(n){zj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Vr);const Hj=Bj;var Wj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$j=function(n){Wj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Vr);const Kj=$j;var Gj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qj=function(n){Gj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r}(Vr);const Yj=qj;var Xj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jj=function(n){Xj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){Vr.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],o=t.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,o,this.updateVideo)},r.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},r.prototype.updateSrc=function(){var e=this,t=e.model,o=e.videoEl;if(o){var i=t.get("provider"),s=t.get("src");switch(i){case"yt":s=t.getYoutubeSrc();break;case"ytnc":s=t.getYoutubeNoCookieSrc();break;case"vi":s=t.getVimeoSrc();break}o.src=s}},r.prototype.updateVideo=function(){var e=this,t=e.model,o=e.videoEl,i=t.get("provider");switch(i){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(o){var s=o;s.loop=t.get("loop"),s.autoplay=t.get("autoplay"),s.controls=t.get("controls"),s.poster=t.get("poster")}}},r.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},r.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},r.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},r.prototype.render=function(){Vr.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},r}(n0);const Zj=Jj;var Qj=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eI=function(n){Qj(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(Vr);const tI=eI;var rI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Np=function(){return Np=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Np.apply(this,arguments)},nI=function(n){rI(r,n);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n.apply(this,e)||this;o.refreshDbn=(0,D.debounce)(function(){return o.refresh()},0);var i=o.events;return o.on(i.update,o.onUpdate),o.on(i.updateInside,o.onUpdateDeep),o}return r.prototype.removeChildren=function(e,t,o){var i;o===void 0&&(o={}),n.prototype.removeChildren.call(this,e,t,o),(i=_o(e))===null||i===void 0||i.forEach(function(s){return Zy(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},r.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.prototype.onAdd.apply(this,e);var o=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:o})},r.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},r.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},r.prototype.refresh=function(){var e=this,t=e.em,o=e.events;t.trigger(o.symbol)},r.prototype.__trgEvent=function(e,t,o){o===void 0&&(o=!1);var i=this,s=i.em,l=i.events,c=o?l.symbolInstance:l.symbolMain;s.trigger(e,t),s.trigger(c,Np(Np({},t),{event:e})),this.refreshDbn()},r}(Bc);const oI=nI;var iI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vn=function(){return vn=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},vn.apply(this,arguments)},aI=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},sI=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},pc;(function(n){n[n.InvalidSource=0]="InvalidSource",n[n.SourceReject=1]="SourceReject",n[n.TargetReject=2]="TargetReject"})(pc||(pc={}));var lI=function(n){iI(r,n);function r(e){var t=n.call(this,e,"DomComponents",new Bc(void 0,{em:e}))||this;t.componentTypes=[{id:"cell",model:zR,view:Ij},{id:"row",model:XR,view:Kj},{id:"table",model:jR,view:Yj},{id:"thead",model:GR,view:Hj},{id:"tbody",model:r0,view:Dj},{id:"tfoot",model:WR,view:Uj},{id:"map",model:OR,view:Ej},{id:"link",model:xR,view:hO},{id:"label",model:wR,view:Cj},{id:"video",model:QR,view:Zj},{id:"image",model:e0,view:n0},{id:"script",model:PR,view:kj},{id:"svg-in",model:NR,view:Rb},{id:"svg",model:cO,view:Rb},{id:"iframe",model:dR,view:hj},{id:"comment",model:uR,view:fj},{id:"textnode",model:uO,view:dO},{id:Rl,model:VD,view:Vr},{id:"wrapper",model:rj,view:tI},{id:"text",model:t0,view:pO},{id:"default",model:bn,view:Vr}],t.componentsById={},t.Component=bn,t.Components=Bc,t.ComponentView=Vr,t.ComponentsView=fO,t.storageKey="components",t.keySymbols="symbols",t.events=wn.I;var o=t.config;t.symbols=new oI([],{em:e,config:o,domc:t}),e&&(t.config.components=e.config.components||t.config.components);for(var i in Ab)i in t.config||(t.config[i]=Ab[i]);var s=t.config.pStylePrefix;if(s&&(t.config.stylePrefix=s+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var l=e.get("selected");e.listenTo(l,"add",function(c,f,h){return t.selectAdd(l.getComponent(c),h)}),e.listenTo(l,"remove",function(c,f,h){return t.selectRemove(l.getComponent(c),h)})}return t}return r.prototype.postLoad=function(){var e=this,t=e.em,o=e.symbols,i=t.UndoManager;i.add(o)},r.prototype.load=function(e){var t=this,o=this.loadProjectData(e,{onResult:function(i){var s=t.getWrapper();if(s||(t.em.Pages.add({},{select:!0}),s=t.getWrapper()),(0,D.isArray)(i))i.length&&s.components(i);else{var l=i.components,c=l===void 0?[]:l,f=aI(i,["components"]);s.set(f),s.components(c)}}});return this.symbols.reset(e[this.keySymbols]||[]),o},r.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},r.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e==null?void 0:e.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},r.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},r.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t==null||t.filter(Boolean).forEach(function(o){return o.remove(e)}),this},r.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},r.prototype.addType=function(e,t){var o=this.em,i=t.model,s=i===void 0?{}:i,l=t.view,c=l===void 0?{}:l,f=t.isComponent,h=t.extend,g=t.extendView,m=t.extendFn,y=m===void 0?[]:m,_=t.extendFnView,x=_===void 0?[]:_,C=t.block,S=this.getType(e),T=this.getType(h),E=this.getType(g),N=T||S||this.getType("default"),K=N.model,re=E?E.view:N.view,ue=function(W,H,ie){return W.reduce(function(M,we){var oe=H[we],xe=ie.prototype[we];return oe&&xe&&(M[we]=function(){for(var De=[],se=0;se<arguments.length;se++)De[se]=arguments[se];xe.bind(this).apply(void 0,De),oe.bind(this).apply(void 0,De)}),M},{})};if(typeof s=="object"){var Q={defaults:s.defaults};delete s.defaults;var $=new Set(K.typeExtends);$.add(K.getDefaults().type),t.model=K.extend(vn(vn({},s),ue(y,s,K)),{typeExtends:$,isComponent:S&&!T&&!f?K.isComponent:f||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return vn(vn({},(0,D.result)(K.prototype,"defaults")||{}),(0,D.result)(Q,"defaults")||{})}})}if(typeof c=="object"&&(t.view=re.extend(vn(vn({},c),ue(x,c,re)))),S?(S.model=t.model,S.view=t.view):(t.id=e,this.componentTypes.unshift(t)),C){var te={id:e,label:e,content:{type:e}},U=C===!0?te:vn(vn({},te),C);o.Blocks.add(U.id||e,U)}var R="component:type:".concat(S?"update":"add");return o==null||o.trigger(R,S||t),this},r.prototype.getType=function(e){for(var t=this.componentTypes,o=0;o<t.length;o++){var i=t[o].id;if(i==e)return t[o]}},r.prototype.removeType=function(e){var t=this.componentTypes,o=this.getType(e);if(o){var i=t.indexOf(o);return t.splice(i,1),o}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(e,t){var o=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return o.em.trigger(i,e,t)}))},r.prototype.selectRemove=function(e,t){var o=this;t===void 0&&(t={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return o.em.trigger(i,e,t)}))},r.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),o=e.previous("componentHovered"),i="hovered";o&&o.get("status")==i&&o.set({status:"",state:""}),t&&(0,D.isEmpty)(t.get("status"))&&t.set("status",i)},r.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,o=e.em;if(!t&&o){var i=o.shallow;if(!i)return;var s=i.Components;if(s.componentTypes=this.componentTypes,t=s.getWrapper(),t){var l=[Ad,Lm].join(" ");t.on(l,(0,D.debounce)(function(){return t==null?void 0:t.components("")},100))}this.shallow=t}return t},r.prototype.isComponent=function(e){return(0,Ne.isComponent)(e)},r.prototype.addSymbol=function(e){if(!((0,D.isSymbol)(e)&&!ks(e))){var t=e.clone({symbol:!0});return ap(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},r.prototype.getSymbols=function(){return sI([],this.symbols.models,!0)},r.prototype.detachSymbol=function(e){sp(e)&&Zy(e)},r.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var o=ap(e),i=As(e),s=!!i,l=_o(o?e:i)||[],c=i||(o?e:void 0),f=ys(e,{changed:t.withChanges}),h=o||s,g=h&&ks(e);return{isSymbol:h,isMain:o,isInstance:s,isRoot:g,main:c,instances:l,relatives:f||[]}},r.prototype.canMove=function(e,t,o){var i={result:!1,reason:pc.InvalidSource,target:e,source:null};if(!t||!e)return i;var s=(0,Ne.isComponent)(t)?t:null;if(!s){var l=this.getShallowWrapper();s=(l==null?void 0:l.append(t)[0])||null}if(i.source=s,!s)return i;var c=s.get("draggable");if((0,D.isFunction)(c))c=!!c(s,e,o);else{var f=e.getEl();c=(0,D.isArray)(c)?c.join(","):c,c=(0,D.isString)(c)?f==null?void 0:f.matches(c):c}if(!c)return vn(vn({},i),{reason:pc.SourceReject});var h=e.get("droppable");if((0,D.isFunction)(h))h=!!h(s,e,o);else if(h===!1&&e.isInstanceOf("text")&&s.get("textable"))h=!0;else{var f=s.getEl();h=(0,D.isArray)(h)?h.join(","):h,h=(0,D.isString)(h)?f==null?void 0:f.matches(h):h}var g=[e].concat(e.parents()).indexOf(s)>-1;return!h||g?vn(vn({},i),{reason:pc.TargetReject}):vn(vn({},i),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(e){return this.componentsById[e]||null},r.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(o){return t[o]&&t[o].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(o){return{}})},r}(Ka);const uI=lI;var cI={stylePrefix:"css-",rules:[]};const fI=cI;var dI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pI=Number.MAX_VALUE,hI=function(n){var r=/(-?\d*\.?\d+)\w{0,}/.exec(n);return r?r[0]:""},vI=function(n){dI(r,n);function r(){var e=n.call(this)||this;return(0,D.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return r.prototype.buildFromModel=function(e,t){var o=this;t===void 0&&(t={});var i="",s=this.em,l=s&&s.getConfig().avoidInlineStyle,c=e.styleToString(),f=e.classes;this.ids.push("#".concat(e.getId())),f.forEach(function(g){return o.compCls.push(g.getFullName())}),!l&&c&&(i="#".concat(e.getId(),"{").concat(c,"}"));var h=e.components();return h.forEach(function(g){return i+=o.buildFromModel(g,t)}),i},r.prototype.build=function(e,t){var o=this;t===void 0&&(t={});var i=t.json,s=t.em,l=t.cssc||(s==null?void 0:s.Css);this.em=s,this.compCls=[],this.ids=[],this.model=e;var c=[],f=e?this.buildFromModel(e,t):"",h=(0,D.isUndefined)(t.clearStyles)&&s?s.getConfig().clearStyles:t.clearStyles;if(l){var g=t.rules||l.getAll(),m={},y=[];t.onlyMatched&&e&&(0,Ne.hasWin)()&&(g=this.matchedRules(e,g)),g.forEach(function(_){var x=_.getAtRule();if(x){var C=m[x];C?C.push(_):m[x]=[_];return}var S=o.buildFromRule(_,y,t);i?c.push(S):f+=S}),this.sortMediaObject(m).forEach(function(_){var x="",C=_.key,S=_.value;S.forEach(function(T){var E=o.buildFromRule(T,y,t);T.get("singleAtRule")?f+="".concat(C,"{").concat(E,"}"):x+=E,i&&c.push(E)}),x&&(f+="".concat(C,"{").concat(x,"}"))}),s&&h&&g.remove&&g.remove(y)}return i?c.filter(function(_){return _}):f},r.prototype.buildFromRule=function(e,t,o){var i=this,s;o===void 0&&(o={});var l="",c=this.model,f=e.selectorsToString({skipAdd:1}),h=e.get("selectorsAdd"),g=e.get("singleAtRule"),m;if((s=e.get("selectors"))===null||s===void 0||s.forEach(function(_){var x=_.getFullName();(i.compCls.indexOf(x)>=0||i.ids.indexOf(x)>=0||o.keepUnusedStyles)&&(m=1)}),f&&m||h||g||!c){var y=e.getDeclaration({body:1});y&&(o.json?l=e:l+=y)}else t.push(e);return l},r.prototype.matchedRules=function(e,t){var o=this,i=e.getEl(),s=[];return t.forEach(function(l){try{l.selectorsToString().split(",").some(function(c){return i==null?void 0:i.matches(o.__cleanSelector(c))})&&s.push(l)}catch{}}),e.components().forEach(function(l){s=s.concat(o.matchedRules(l,t))}),s=s.filter(function(l,c){return s.indexOf(l)===c}),s},r.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):pI},r.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var o=[];return(0,D.each)(e,function(i,s){return o.push({key:s,value:i})}),o.sort(function(i,s){var l=[i.key,s.key].every(function(h){return h.indexOf("min-width")!==-1}),c=l?i.key:s.key,f=l?s.key:i.key;return t.getQueryLength(c)-t.getQueryLength(f)})},r.prototype.sortRules=function(e,t){var o=function(c){return c.get("mediaText")||""},i=[o(e),o(t)].every(function(c){return c.indexOf("min-width")!==-1}),s=o(i?e:t),l=o(i?t:e);return this.getQueryLength(s)-this.getQueryLength(l)},r.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},r}(Xe.Kx);const gI=vI;var mI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hc=function(){return hc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},hc.apply(this,arguments)},yI=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},tg=((0,Ne.hasWin)()?window:{}).CSS,wI=function(n){mI(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e)||this;return o.config=e||{},o.opt=t,o.em=t.em,o.ensureSelectors(null,null,{}),o.on("change",o.__onChange),o}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(e,t){var o=this.em,i=this.changedAttributes();i&&!(0,Ne.isEmptyObj)(i)&&(o==null||o.changesUp(t))},r.prototype.clone=function(){var e=hc({},this.opt),t=hc({},this.attributes);return t.selectors=this.get("selectors").map(function(o){return o.clone()}),new this.constructor(t,e)},r.prototype.ensureSelectors=function(e,t,o){var i=this.em,s=i==null?void 0:i.Selectors,l=[this,"change:selectors",this.ensureSelectors],c=this.getSelectors();if(this.stopListening.apply(this,l),c.models&&(c=yI([],c.models,!0)),c=(0,D.isString)(c)?[c]:c,Array.isArray(c)){var f=c.filter(function(h){return h}).map(function(h){return s?s.add(h):h});c=new Pa(f)}this.set("selectors",c,o),this.listenTo.apply(this,l)},r.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),o=e?"@".concat(e):t?"@media":"";return o+(t&&o?" ".concat(t):"")},r.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],o=this.get("state"),i=this.get("selectorsAdd"),s={escape:function(f){return tg&&tg.escape?tg.escape(f):f}},l=this.getSelectors().getFullString(0,s),c=o&&!e.skipState?":".concat(o):"";return l&&t.push("".concat(l).concat(c)),i&&!e.skipAdd&&t.push(i),t.join(", ")},r.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",o=this.attributes.important,i=this.selectorsToString(e),s=this.styleToString(hc({important:o},e)),l=this.get("singleAtRule");return(i||l)&&(s||e.allowEmpty)&&(t=l?s:"".concat(i,"{").concat(s,"}")),t},r.prototype.getDevice=function(){var e=this.em,t=this.attributes,o=t.atRuleType,i=t.mediaText,s=(e==null?void 0:e.Devices.getDevices())||[],l=s.filter(function(c){return c.getWidthMedia()===""})[0];return o!=="media"||!i?l||null:s.filter(function(c){return c.getWidthMedia()===hI(i)})[0]||null},r.prototype.getState=function(){var e=this.em,t=this.get("state"),o=(e==null?void 0:e.Selectors.getStates())||[];return o.filter(function(i){return i.getName()===t})[0]||null},r.prototype.getComponent=function(){var e,t=this.getSelectors(),o=t.length==1&&t.at(0),i=o&&o.isId()&&o.get("name");return i&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(i))||null},r.prototype.toCSS=function(e){e===void 0&&(e={});var t="",o=this.getAtRule(),i=this.getDeclaration(e);return(i||e.allowEmpty)&&(t=i),o&&t&&(t="".concat(o,"{").concat(t,"}")),t},r.prototype.toJSON=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var i=Xe.Kx.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var s=this.defaults();(0,D.forEach)(s,function(l,c){i[c]===l&&delete i[c]}),delete i.style.__p,(0,D.isEmpty)(i.selectors)&&delete i.selectors,(0,D.isEmpty)(i.style)&&delete i.style}return i},r.prototype.compare=function(e,t,o,i){var s;i===void 0&&(i={});var l=t||"",c=o||"",f=i.selectorsAdd||"",h=i.atRuleType||"",g=!(0,D.isArray)(e)&&!e.models?[e]:e.models||e;c&&!h&&(h="media");var m=g.map(function(C){return C.getFullName()}),y=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(C){return C.getFullName()}),_=m.slice().sort(),x=y.slice().sort();return!(m.length!==y.length||!_.every(function(C,S){return C===x[S]})||this.get("state")!==l||this.get("mediaText")!==c||this.get("selectorsAdd")!==f||this.get("atRuleType")!==h)},r}(Z1);const vO=wI;var _I=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gO=function(n){_I(r,n);function r(e,t){var o=n.call(this,e)||this;return o.editor=t==null?void 0:t.em,setTimeout(function(){o.on("remove",o.onRemove),o.on("add",o.onAdd)}),o}return r.prototype.toJSON=function(e){var t=Xe.pM.prototype.toJSON.call(this,e);return t.filter(function(o){return o.style&&!o.shallow})},r.prototype.onAdd=function(e,t,o){e.ensureSelectors(e,t,o)},r.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,Xe.pM.prototype.add.apply(this,[e,t])},r}(Xe.pM);const bI=gO;gO.prototype.model=vO;var xI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fs=function(){return fs=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},fs.apply(this,arguments)},CI=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},SI=function(n){xI(r,n);function r(e){var t=n.call(this,e,"CssComposer",null,{},fI)||this;t.Selectors=Pa,t.storageKey="styles";var o=t.config,i=o.pStylePrefix;return i&&(o.stylePrefix=i+o.stylePrefix),o.rules=t.em.config.style||o.rules||"",t.rules=new bI([],o),t}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.get("UndoManager");t&&t.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},r.prototype.add=function(e,t,o,i,s){i===void 0&&(i={}),s===void 0&&(s={});var l=t||"",c=o||"",f=fs({},i),h=this.get(e,l,c,f);return h&&h.config&&!h.config.singleAtRule||(f.state=l,f.mediaText=c,f.selectors=[],c&&!f.atRuleType&&(f.atRuleType="media"),h=new vO(f,this.config),h.get("selectors").add(e,s),this.rules.add(h,s)),h},r.prototype.get=function(e,t,o,i){var s=e;if((0,D.isString)(e)){var l=this.em.Selectors,c=e.split(",")[0].trim(),f=this.em.Parser.parserCss.checkNode({selectors:c})[0];s=l.get(f.selectors)}return this.rules.find(function(h){return h.compare(s,t,o,i)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var i=this.em,s=[];(0,D.isString)(e)&&(e=i.Parser.parseCss(e));for(var l=e instanceof Array?e:[e],c=0,f=l.length;c<f;c++){var h=l[c]||{};if(h.selectors){var g=i==null?void 0:i.Selectors;g||console.warn("Selector Manager not found");for(var m=h.selectors,y=m instanceof Array?m:[m],_=[],x=0,C=y.length;x<C;x++){var S=g.add(y[x]);_.push(S)}var T=this.get(_,h.state,h.mediaText,h),E=this.add(_,h.state,h.mediaText,h,t),N=!T||!t.avoidUpdateStyle,K=h.style||{};if((0,Ne.isObject)(o)&&E.set(o,t),N){var re=t.extend?fs(fs({},E.get("style")),K):K;E.set("style",re,t)}s.push(E)}}return s},r.prototype.addRules=function(e){return this.addCollection(e)},r.prototype.setRule=function(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var i=o.atRuleType,s=o.atRuleParams,l=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],c=l.state,f=l.selectorsAdd,h=this.em.Selectors,g=h.add(l.selectors),m=this.add(g,c,s,{selectorsAdd:f,atRule:i});return o.addStyles?m.addStyle(t,o):m.setStyle(t,o),m},r.prototype.getRule=function(e,t){t===void 0&&(t={});var o=this.em,i=o.Selectors,s=o.Parser.parserCss.checkNode({selectors:e})[0],l=i.get(s.selectors),c=s.state,f=s.selectorsAdd,h=t.atRuleType,g=t.atRuleParams;return l?this.get(l,c,g,{selectorsAdd:f,atRuleType:h}):void 0},r.prototype.getRules=function(e){var t=this.getAll();if(!e)return CI([],t.models,!0);var o={sort:!0},i=(0,D.isString)(e)?e.split(",").map(function(l){return l.trim()}):e,s=t.filter(function(l){return i.indexOf(l.getSelectors().getFullString(null,o))>=0});return s},r.prototype.setIdRule=function(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var i=o.addOpts,s=i===void 0?{}:i,l=o.mediaText,c=o.state||"",f=(0,D.isUndefined)(l)?this.em.getCurrentMedia():l,h=this.em.Selectors,g=h.add({name:e,type:Dn.TYPE_ID},s),m=this.add(g,c,f,{},s);return m.setStyle(t,fs(fs({},o),s)),m},r.prototype.getIdRule=function(e,t){t===void 0&&(t={});var o=t.mediaText,i=t.state||"",s=(0,D.isUndefined)(o)?this.em.getCurrentMedia():o,l=this.em.Selectors.get(e,Dn.TYPE_ID);return l&&this.get(l,i,s)},r.prototype.setClassRule=function(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var i=o.state||"",s=o.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors,c=l.add({name:e,type:Dn.TYPE_CLASS}),f=this.add(c,i,s);return f.setStyle(t,o),f},r.prototype.getClassRule=function(e,t){t===void 0&&(t={});var o=t.state||"",i=t.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(e,Dn.TYPE_CLASS);return s&&this.get(s,o,i)},r.prototype.remove=function(e,t){var o=(0,D.isString)(e)?this.getRules(e):e,i=this.getAll().remove(o,t);return(0,D.isArray)(i)?i:[i]},r.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},r.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var o=t.state,i=t.mediaText,s=t.current;s&&(o=this.em.get("state")||"",i=this.em.getCurrentMedia());var l=e.getId(),c=this.getAll().filter(function(f){return!(0,D.isUndefined)(o)&&f.get("state")!==o||!(0,D.isUndefined)(i)&&f.get("mediaText")!==i?!1:f.getSelectorsString()==="#".concat(l)});return c},r.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new Y1({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(e,t){t===void 0&&(t={});var o=t.idMap,i=o===void 0?{}:o,s=[];if(!Object.keys(i).length)return s;var l=Array.isArray(e)?e:[e];return l.forEach(function(c){var f=c.selectors;if(f&&f.length==1){var h=f[0];if((0,D.isString)(h)){if(h[0]==="#"){var g=h.substring(1),m=i[g];g&&m&&(f[0]="#".concat(m),s.push(c))}}else if(h.name&&h.type===Dn.TYPE_ID){var m=i[h.name];m&&(h.name=m,s.push(c))}}}),s},r.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},r}(Ka);const OI=SI;var EI={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const TI=EI;var PI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kI=function(n){PI(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof tf?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,D.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},r}(Xe.Kx);const mO=kI;var AI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yO=function(n){AI(r,n);function r(e,t){var o=n.call(this,e)||this;return o.em=t.em,o.on("add",o.handleAdd),o}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(e){this.initCategory(e)},r}(aO);const ad=yO;yO.prototype.model=mO;var vc;(function(n){n.add="block:add",n.remove="block:remove",n.removeBefore="block:remove:before",n.update="block:update",n.dragStart="block:drag:start",n.drag="block:drag",n.dragEnd="block:drag:stop",n.categoryUpdate="block:category:update",n.custom="block:custom",n.all="block"})(vc||(vc={}));var LI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MI=function(n){LI(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e)||this,i=o.model;return o.em=t.em,o.config=t,o.endDrag=o.endDrag.bind(o),o.ppfx=t.pStylePrefix||"",o.listenTo(i,"destroy remove",o.remove),o.listenTo(i,"change",o.render),o}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(e){var t=this,o=t.config,i=t.model,s=t.em,l=i.get("onClick")||o.appendOnClick;if(s.trigger("block:click",i,e),l){if((0,D.isFunction)(l))return l(i,s==null?void 0:s.getEditor(),{event:e})}else return;var c=o.getSorter(),f=i.get("content"),h=s.getSelected();c.setDropContent(f);var g,m,y;if(h)if(m=c.validTarget(h.getEl(),f),m.valid)g=h;else{var _=h.parent();_&&(m=c.validTarget(_.getEl(),f),m.valid&&(g=_,y=_.components().indexOf(h)+1))}if(!g){var x=s.getWrapper();m=c.validTarget(x.getEl(),f),m.valid&&(g=x)}var C=g&&g.append(f,{at:y})[0];C&&s.setSelected(C,{scroll:1})},r.prototype.startDrag=function(e){var t=this,o=t.config,i=t.em,s=t.model,l=s.get("disable");if(!(e.button!==0||!o.getSorter||this.el.draggable||l)){i.refreshCanvas();var c=o.getSorter();c.__currentBlock=s,c.setDragHelper(this.el,e),c.setDropContent(this.model.get("content")),c.startSort(this.el),(0,et.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},r.prototype.handleDrag=function(e){this.__getModule().__drag(e)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,et.AU)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},r.prototype.render=function(){var e,t=this,o=t.em,i=t.el,s=t.$el,l=t.ppfx,c=t.model,f=c.get("disable"),h=c.get("attributes")||{},g=h.class||"",m="".concat(l,"block"),y=o&&o.t("blockManager.labels.".concat(c.id))||c.get("label"),_=c.get("render"),x=c.get("media"),C=f?"".concat(m,"--disable"):"".concat(l,"four-color-h");s.attr(h),i.className="".concat(g," ").concat(m," ").concat(l,"one-bg ").concat(C).trim(),i.innerHTML=`
      `.concat(x?'<div class="'.concat(m,'__media">').concat(x,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(y,`</div>
    `),i.title=h.title||((e=i.textContent)===null||e===void 0?void 0:e.trim()),i.setAttribute("draggable","".concat(!!((0,Ne.hasDnd)(o)&&!f)));var S=_&&_({el:i,model:c,className:m,prefix:l});return S&&(i.innerHTML=S),this},r}(Xe.Ss);const NI=MI;var DI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RI=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},jI=function(n){DI(r,n);function r(e,t,o){var i=n.call(this,e)||this;i.config=t;var s=t.pStylePrefix||"";return i.em=t.em,i.catName=o,i.pfx=s,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(s,"caret-icon"),i.activeClass="".concat(s,"open"),i.className="".concat(s).concat(o,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(e){var t=e.pfx,o=e.label,i=e.catName;return Jn(jb||(jb=RI([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,o,t,i)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(e){this.getTypeEl().appendChild(e)},r.prototype.render=function(){var e=this,t=e.em,o=e.el,i=e.$el,s=e.model,l=e.pfx,c=e.catName,f=t.t("".concat(c,"Manager.categories.").concat(s.id))||s.get("label");return o.innerHTML=this.template({pfx:l,label:f,catName:c}),i.addClass(this.className),i.css({order:s.get("order")}),this.updateVisibility(),this},r}(Xe.Ss);const wO=jI;var jb,II=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dp=function(){return Dp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Dp.apply(this,arguments)},FI=function(n){II(r,n);function r(e,t){var o=n.call(this,e)||this;o.renderedCategories=new Map,(0,D.bindAll)(o,"getSorter","onDrag","onDrop","onMove"),o.config=t||{},o.categories=e.categories||"";var i=o.config.pStylePrefix||"";o.ppfx=i,o.noCatClass="".concat(i,"blocks-no-cat"),o.blockContClass="".concat(i,"blocks-c"),o.catsClass="".concat(i,"block-categories");var s=o.collection;return o.listenTo(s,"add",o.addTo),o.listenTo(s,"reset",o.render),o.em=o.config.em,o.em&&(o.config.getSorter=o.getSorter),o}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=Dp(Dp({},this.config),e)},r.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,o=e.Canvas;this.sorter=new t.Sorter({container:o.getBody(),placer:o.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:o.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:e,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},r.prototype.onMove=function(e){this.__getModule().__drag(e)},r.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},r.prototype.addTo=function(e){this.add(e)},r.prototype.add=function(e,t){var o=this,i=o.config,s=o.renderedCategories,l=e.get("attributes"),c=new NI({model:e,attributes:l},i),f=c.render().el,h=e.parent.initCategory(e);if(h&&this.categories&&!i.ignoreCategories){var g=h.getId(),m=this.getCategoriesEl(),y=s.get(g);!y&&m&&(y=new wO({model:h},i,"block").render(),s.set(g,y),m.appendChild(y.el)),y==null||y.append(f);return}t?t.appendChild(f):this.append(f)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},r.prototype.render=function(){var e=this,t=this.ppfx,o=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return e.add(s,o)}),this.append(o);var i="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(i),this.rendered=!0,this},r}(Xe.Ss);const Ib=FI;var VI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wa=function(){return wa=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},wa.apply(this,arguments)},UI=function(n){VI(r,n);function r(e){var t,o=n.call(this,e,"BlockManager",new ad(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),vc,TI)||this;return o.events=vc,o.Block=mO,o.Blocks=ad,o.Category=tf,o.Categories=lp,o.storageKey="",o.blocks=o.all,o.blocksVisible=new ad(o.blocks.models,{em:e}),o.categories=new lp([],{em:e,events:{update:vc.categoryUpdate}}),o.blocks.on("add",function(i){return o.blocksVisible.add(i)}),o.blocks.on("remove",function(i){return o.blocksVisible.remove(i)}),o.blocks.on("reset",function(i){return o.blocksVisible.reset(i.models)}),o.__onAllEvent=(0,D.debounce)(function(){return o.__trgCustom()},0),o}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(o,i){return e.startDrag(o,i)},drag:function(o){return e.__drag(o)},dragStop:function(o){return e.endDrag(o)}}},r.prototype.__startDrag=function(e,t){var o=this,i=o.em,s=o.events,l=o.blocks,c=e.getContent?e.getContent():e;this._dragBlock=e,i.set({dragResult:null,dragContent:c}),[i,l].map(function(f){return f.trigger(s.dragStart,e,t)})},r.prototype.__drag=function(e){var t=this,o=t.em,i=t.events,s=t.blocks,l=this._dragBlock;[o,s].map(function(c){return c.trigger(i.drag,l,e)})},r.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,o=t.em,i=t.events,s=t.blocks,l=this._dragBlock,c=e.component||o.get("dragResult");if(delete this._dragBlock,c&&l){var f="activeOnRender",h=c.get&&c.get(f),g=l.get("activate")||h,m=l.get("select"),y=(0,D.isArray)(c)?c[0]:c;(m||g&&m!==!1)&&o.setSelected(y),g&&(y.trigger("active"),h&&y.unset(f)),l.get("resetId")&&y.onAll(function(_){return _.resetId()})}o.set({dragResult:null,dragContent:null}),l&&[o,s].map(function(_){return _.trigger(i.dragEnd,c,l)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=wa(wa({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(o){var i;return(i=o.droppable)===null||i===void 0?void 0:i.startCustom()})},r.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var o;return(o=t.droppable)===null||o===void 0?void 0:o.endCustom(e)}),this.__endDrag()},r.prototype.postRender=function(){var e=this,t=e.categories,o=e.config,i=e.em,s=this.blocksVisible;this.blocksView=new Ib({collection:s,categories:t},wa(wa({},o),{em:i})),this.__appendTo(s.models),this.__trgCustom()},r.prototype.add=function(e,t,o){o===void 0&&(o={});var i=t||{};return i.id=e,this.blocks.add(i,o)},r.prototype.get=function(e){return this.blocks.get(e)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(e){return iO(e||this.getAll().models)},r.prototype.render=function(e,t){t===void 0&&(t={});var o=this,i=o.categories,s=o.config,l=o.em,c=e||this.getAll().models;if(t.external){var f=new ad(c,{em:l});return new Ib({collection:f,categories:i},wa(wa({em:l},s),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(c),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(o){return o.stopListening()}),t.map(function(o){return o.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},r}(Ka);const zI=UI;var BI={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const HI=BI;var WI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_O=function(n){WI(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(Xe.Kx);const rg=_O;_O.prototype.idAttribute="name";var $I=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KI=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},Fb="contentEditable",GI=function(n){$I(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this,o=e.config||{};return t.config=o,t.module=e.module,t.coll=e.coll||null,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.em=o.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return r.prototype.template=function(){var e=this,t=e.pfx,o=e.model,i=e.config,s=o.get("label")||"";return Jn(Vb||(Vb=KI([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,s,t,t,i.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[Fb]="true",t.focus(),e==null||e.setEditing(!0)},r.prototype.endEditTag=function(){var e=this,t=e.model,o=e.em,i=this.getInputEl(),s=i.textContent||"",l=o==null?void 0:o.Selectors;i[Fb]="false",o==null||o.setEditing(!1),l&&l.rename(t,s)!==t&&(i.innerText=t.getLabel())},r.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var e=this,t=e.model,o=e.$el,i=e.config,s=i.iconTagOn,l=i.iconTagOff,c=o.find("[data-tag-status]");t.get("active")?(c.html(s),o.removeClass("opac50")):(c.html(l),o.addClass("opac50"))},r.prototype.render=function(){var e=this,t=e.pfx,o=e.ppfx,i=e.$el,s=e.model,l="".concat(t,"tag"),c=["".concat(l," ").concat(o,"three-bg")];return s.get("protected")&&c.push("".concat(l,"-protected")),i.html(this.template()),i.attr("class",c.join(" ")),this.updateStatus(),this},r}(Xe.Ss);const qI=GI;var Vb,YI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hu=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},XI=function(n){YI(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var o=t.config.em,i=t.collection;t.target=o;var s=o.Selectors;t.module=s,t.em=o,t.componentChanged=(0,D.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,D.debounce)(t.checkSync.bind(t),0);var l=wn.I.update,c="".concat(l,":classes"),f="component:toggled ".concat(c),h="".concat(c," ").concat(l,":attributes:id change:state");return t.listenTo(o,f,t.componentChanged),t.listenTo(o,"styleManager:update",t.componentChanged),t.listenTo(o,h,t.__handleStateChange),t.listenTo(o,"styleable:change change:device",t.checkSync),t.listenTo(i,"add",t.addNew),t.listenTo(i,"reset",t.renderClasses),t.listenTo(i,"remove",t.tagRemoved),t.listenTo(s.getAll(),s.events.state,(0,D.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.labelInfo,o=e.labelHead,i=e.iconSync,s=e.iconAdd,l=e.pfx,c=e.ppfx;return Jn(Ub||(Ub=Hu([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),l,l,l,l,o,l,l,l,c,c,c,l,c,c,l,c,l,l,l,l,l,s,l,l,i,l,l,t,l)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),o=e.Css,i={noDisabled:1},s=this.getCommonSelectors({opts:i}),l=e.get("state"),c=e.getCurrentMedia(),f=[],h=o.get(s,l,c)||o.add(s,l,c),g;this.getTargets().forEach(function(m){var y=o.getIdRule(m.getId(),{state:l,mediaText:c});g=y.getStyle(),y.setStyle({}),f.push(y)}),g&&h.addStyle(g),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:s,mediaText:c,rule:h,ruleComponents:f,state:l})},r.prototype.tagRemoved=function(e){this.updateStateVis()},r.prototype.addNew=function(e){this.addToClasses(e)},r.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},r.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},r.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},r.prototype.componentChanged=function(e){var t=e===void 0?{}:e,o=t.targets;this.updateSelection(o)},r.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,D.isArray)(t)?t:[t];var o=[];return t&&t.length&&(o=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:o})),this.collection.reset(o),this.updateStateVis(t),this.module.__trgCustom(),o},r.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,o=t.targets,i=t.opts,s=i===void 0?{}:i,l=o||this.getTargets();return this.module.__getCommonSelectors(l,s)},r.prototype._commonSelectors=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return(e=this.module).__common.apply(e,t)},r.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,o=e.config,i=e.collection,s=this.getTarget(),l;if(s&&o.componentFirst&&i.length){var c=s.getStyle();l=!(0,D.isEmpty)(c)}t&&t[l?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(e){var t=this.em,o=t&&t.getConfig().avoidInlineStyle,i=this.collection.length||o?"":"none";this.getStatesC().css("display",i),this.updateSelector(e)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(e){var t=this,o=this.el.querySelector("[data-selected]"),i=[],s=e||this.getTargets();s=(0,D.isArray)(s)?s:[s],s.forEach(function(l){return i.push(t.__getName(l))}),o&&(o.innerHTML=i.join(", ")),this.checkStates()},r.prototype.__getName=function(e){var t=this,o=t.pfx,i=t.config,s=t.em,l=i.selectedName,c=i.componentFirst,f;if((0,D.isString)(e))f=Jn(zb||(zb=Hu(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),o,e);else{var h=e==null?void 0:e.getSelectors();if(!h)return"";var g=h.getStyleable(),m=s.get("state"),y=e.getId?Jn(Bb||(Bb=Hu(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),o,e.getName(),o,e.getId()):"";f=this.collection.getFullString(g),f=f?Jn(Hb||(Hb=Hu(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),o,f):e.get("selectorsAdd")||y,f=c&&y?y:f,f+=m?Jn(Wb||(Wb=Hu(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),o,m):"",f=l?l({result:f,state:m,target:e}):f}return f&&'<span class="'.concat(o,'sel">').concat(f,"</span>")},r.prototype.stateChanged=function(e){var t=this.em,o=e.target.value;t.set("state",o)},r.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},r.prototype.addToClasses=function(e,t){var o=t,i=this.getClasses(),s=new qI({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return o?o.appendChild(s):i.append(s),s},r.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),o=this.getClasses();o.empty(),this.collection.each(function(i){return e.addToClasses(i,t)}),o.append(t)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var e=this,t=e.module,o=e.em,i=o.t("selectorManager.emptyState"),s=t.getStates().map(function(c){var f=o.t("selectorManager.states.".concat(c.id))||c.getLabel()||c.id;return'<option value="'.concat(c.id,'">').concat(f,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(i,"</option>").concat(s)),this.checkStates()},r.prototype.render=function(){var e=this,t=e.em,o=e.pfx,i=e.ppfx,s=e.config,l=e.$el,c=e.el,f=s.render,h=s.iconSync,g=s.iconAdd,m={iconSync:h,iconAdd:g,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:i,pfx:o,el:c};l.html(this.template(m));var y=f&&f(m);return y&&y!==c&&l.empty().append(y),this.$input=l.find("[data-input]"),this.$addBtn=l.find("[data-add]"),this.$classes=l.find("#"+o+"tags-c"),this.$btnSyncEl=l.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),l.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},r}(Xe.Ss);const JI=XI;var Ub,zb,Bb,Hb,Wb,ZI=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gc=function(){return gc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},gc.apply(this,arguments)},ng=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},$b=function(n){return(0,D.isString)(n)&&n[0]=="#"},Kb=function(n){return(0,D.isString)(n)&&n[0]=="."},bO="selector",rf="".concat(bO,":"),QI="".concat(rf,"add"),eF="".concat(rf,"update"),xO="".concat(rf,"remove"),tF="".concat(xO,":before"),rF="".concat(rf,"custom"),CO="".concat(rf,"state"),nF={all:bO,update:eF,add:QI,remove:xO,removeBefore:tF,state:CO,custom:rF},oF=function(n){ZI(r,n);function r(e){var t=n.call(this,e,"SelectorManager",new Pa([]),nF,HI,{skipListen:!0})||this;t.Selector=Dn,t.Selectors=Pa,t.storageKey="",(0,D.bindAll)(t,"__updateSelectedByComponents");var o=t.config,i=o.pStylePrefix;i&&(o.stylePrefix=i+o.stylePrefix),t.all=new Pa(o.selectors),t.selected=new Pa([],{em:e,config:o}),t.states=new Xe.pM(o.states.map(function(c){return new rg(c)}),{model:rg}),t.model=new Xe.Kx({cFirst:o.componentFirst,_undo:!0}),t.__update=(0,D.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(c,f){return e.trigger(CO,f)}),t.model.on("change:cFirst",function(c,f){return e.trigger("selector:type",f)});var s="".concat(wn.I.update,":classes");e.on("component:toggled ".concat(s),t.__updateSelectedByComponents);var l="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,l,function(){return t.__update()}),t}return r.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},r.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?ng([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(e,t){t===void 0&&(t={});var o=Array.isArray(e)?e:[e],i=this.em.Styles.select(o,t);this.selected.reset(this.__getCommonSelectors(i));var s=this.selectorTags,l=i.filter(function(c){return c}).map(function(c){return(0,Ne.isComponent)(c)||(0,Ne.isRule)(c)&&!c.get("selectorsAdd")?c:c.getSelectorsString()});return s&&s.componentChanged({targets:l}),this},r.prototype.addSelector=function(e,t,o){t===void 0&&(t={}),o===void 0&&(o={});var i=gc({},t);(0,D.isObject)(e)?i=e:i.name=e,$b(i.name)?(i.name=i.name.substr(1),i.type=Dn.TYPE_ID):Kb(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var s=i.name,l=this.getConfig(),c=this,f=c.all,h=c.em,g=s?this.get(s,i.type):f.where(i)[0];if(!g){var m=i instanceof Dn?i:new Dn(i,gc(gc({},o),{config:l,em:h}));return f.add(m,o)}return g},r.prototype.getSelector=function(e,t){return t===void 0&&(t=Dn.TYPE_CLASS),$b(e)?(e=e.substr(1),t=Dn.TYPE_ID):Kb(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},r.prototype.add=function(e,t){var o=this;t===void 0&&(t={});var i=(0,D.isString)(e)?{}:t;return(0,D.isArray)(e)?e.map(function(s){return o.addSelector(s,t,i)}):this.addSelector(e,t,i)},r.prototype.addClass=function(e){var t=this,o=[];return(0,D.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(i){return o.push(t.addSelector(i))}),o},r.prototype.get=function(e,t){var o=this;if((0,D.isArray)(e)){var i=[],s=e.map(function(l){return o.getSelector(l)}).filter(Boolean);return s.forEach(function(l){return i.indexOf(l)<0&&i.push(l)}),i}else return this.getSelector(e,t)},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.rename=function(e,t,o){var i=this.escapeName(t),s=this.get(i);return s||e.set({name:i,label:t},o)},r.prototype.setState=function(e){return this.em.setState(e),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return ng([],this.states.models,!0)},r.prototype.setStates=function(e,t){return this.states.reset(e.map(function(o){return new rg(o)}),t)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return ng([],this.selected.models,!0)},r.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(o){o.getSelectors().add(t)})},r.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},r.prototype.duplicateSelected=function(e,t){var o=this;t===void 0&&(t={});var i=this.em,s=this.getSelected();if(!(s.indexOf(e)<0)){var l=this.getState(),c=i.getCurrentMedia(),f=i.Css.get(s,l,c),h=f==null?void 0:f.getStyle();if(i.getSelectedAll().forEach(function(m){var y=m.getSelectors();if(y.includes(e)){var _=t.suffix||" copy",x=e.getLabel(),C=o.addSelector("".concat(x).concat(_)),S=y.indexOf(e);y.remove(e),y.add(C,{at:S})}}),h){var g=i.Css.add(this.getSelected(),l,c);g.setStyle(h)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):Dn.escapeName(e)},r.prototype.render=function(e){var t=this.selectorTags,o=this.getConfig(),i=t==null?void 0:t.el;return this.selected.reset(e),this.selectorTags=new JI({el:i,collection:this.selected,module:this,config:o}),this.selectorTags.render().el},r.prototype.destroy=function(){var e=this,t=e.selectorTags,o=e.model;o.stopListening(),this.__update.cancel(),this.__destroy(),t==null||t.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var o=e.map(function(i){return i.getSelectors&&i.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,o)},r.prototype.__common=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(i){return t[1].indexOf(i)>=0}):t.slice(1).reduce(function(i,s){return e.__common(i,s)},t[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(Ka);const iF=oF;var aF={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const sF=aF;var Xo,vo={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},jl=(Xo={},Xo[vo.MEDIA_RULE]="media",Xo[vo.FONT_FACE_RULE]="font-face",Xo[vo.PAGE_RULE]="page",Xo[vo.KEYFRAMES_RULE]="keyframes",Xo[vo.COUNTER_STYLE_RULE]="counter-style",Xo[vo.SUPPORTS_RULE]="supports",Xo[vo.DOCUMENT_RULE]="document",Xo[vo.FONT_FEATURE_VALUES_RULE]="font-feature-values",Xo[vo.VIEWPORT_RULE]="viewport",Xo),SO=(0,D.keys)(jl),o0=[vo.FONT_FACE_RULE,vo.PAGE_RULE,vo.COUNTER_STYLE_RULE,vo.VIEWPORT_RULE],lF=SO.filter(function(n){return o0.indexOf(Number(n))<0}).map(function(n){return jl[n]}).concat(["container","layer"]),uF=o0.map(function(n){return jl[n]}),OO=function(n){n===void 0&&(n="");for(var r=[],e=[],t=n.split(","),o=0,i=t.length;o<i;o++){var s=t[o].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var l=s.split(".").filter(Boolean);e.push(l)}else r.push(s)}return{result:e,add:r}},cF=function(n){for(var r=n.style,e={},t=0,o=r.length;t<o;t++){var i=r[t],s=r.getPropertyValue(i),l=r.getPropertyPriority(i);e[i]="".concat(s).concat(l?" !".concat(l):"")}return e},Gb=function(n){var r=n.conditionText||n.media&&n.media.mediaText||n.name||n.selectorText||"";return r.trim()},Dm=function(n,r,e){r===void 0&&(r={}),e===void 0&&(e={});var t={},o=n.length,i=n[o-1],s=i?i.split(/:(.+)/):[],l=s[1],c=e.atRule,f=e.selectorsAdd,h=e.mediaText,g=uF.indexOf(c)>=0;return g&&(t.singleAtRule=!0),c&&(t.atRuleType=c),f&&(t.selectorsAdd=f),h&&(t.mediaText=h),l&&(n[o-1]=s[0],t.state=l,s.splice(s.length-1,1)),t.selectors=n,t.style=r,t},qb=function(n){var r=n.cssText,e=r===void 0?"":r;return lF.find(function(t){return e.indexOf("@".concat(t))===0})},EO=function(n){for(var r=[],e=n.cssRules||[],t=0,o=e.length;t<o;t++){var i=e[t],s=i.type,l=!1,c="",f="",h=i.selectorText||i.keyText||"",g=o0.indexOf(s)>=0;if(g)l=!0,c=jl[s],f=Gb(i);else if(SO.indexOf("".concat(s))>=0||!s&&qb(i)){var m=EO(i),y=jl[s]||qb(i);f=Gb(i);for(var _=0,x=m.length;_<x;_++){var C=m[_];f&&(C.mediaText=f),C.atRuleType=y}r=r.concat(m)}if(!(!h&&!g)){for(var S=cF(i),T=OO(h),E=T.add,N=T.result,K=void 0,re=0,ue=N.length;re<ue;re++){var Q=Dm(N[re],S,{atRule:jl[s]});r.push(Q),K=Q}if(E.length){var $=E.join(", ");if(K)K.selectorsAdd=$;else{var Q={selectors:[],selectorsAdd:$,style:S};l&&(Q.singleAtRule=l),c&&(Q.atRuleType=c),f&&(Q.mediaText=f),r.push(Q)}}}}return r};const fF=function(n){var r=document.createElement("style");r.innerHTML=n,document.head.appendChild(r);var e=r.sheet;return document.head.removeChild(r),e?EO(e):[]};var dF=function(n,r){return r===void 0&&(r={}),{parse:function(e){var t=this,o=[],i=r.parserCss,s=n==null?void 0:n.Editor,l=i?i(e,s):fF(e);return l.forEach(function(c){return o=o.concat(t.checkNode(c))}),n==null||n.trigger("parse:css",{input:e,output:o,nodes:l}),o},checkNode:function(e){var t=e.selectors,o=e.style,i=[e];if((0,D.isString)(t)){var s=[],l=e,c=OO(t),f=c.result,h=c.add.join(", "),g={atRule:l.atRule,mediaText:l.params};if(f.length?f.forEach(function(y){s.push(Dm(y,o,g))}):s.push(Dm([],o,g)),h){var m=s[s.length-1];m.selectorsAdd=h}i=s}return i}}};const pF=dF;var hF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vF=function(n){hF(r,n);function r(e){var t=n.call(this,e,"Parser",sF)||this,o=t.config;return t.parserCss=pF(e,o),t.parserHtml=J1(e,o),t}return r.prototype.parseHtml=function(e,t){t===void 0&&(t={});var o=this,i=o.em,s=o.parserHtml;return s.compTypes=i.Components.getTypes()||[],s.parse(e,this.parserCss,t)},r.prototype.parseCss=function(e){return this.parserCss.parse(e)},r.prototype.destroy=function(){},r}(oo);const gF=vF;var mF={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(n){return n},onLoad:function(n){return n},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(n){return n},onLoad:function(n){return n}}}};const yF=mF;var Yb=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},Xb=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},wF=function(){function n(){}return n.prototype.store=function(r){return Yb(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Xb(this,function(o){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},n.prototype.load=function(){return Yb(this,arguments,void 0,function(r){var e;return r===void 0&&(r={}),Xb(this,function(t){return e={},this.hasLocal(r,!0)&&(e=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,e]})})},n.prototype.hasLocal=function(r,e){if(r===void 0&&(r={}),r.checkLocal&&(!(0,Ne.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},n}();const _F=wF;function Hc(n){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hc(n)}function bF(n){var r=this.constructor;return this.then(function(e){return r.resolve(n()).then(function(){return e})},function(e){return r.resolve(n()).then(function(){return r.reject(e)})})}const xF=bF;var CF=setTimeout;function TO(n){return!!(n&&typeof n.length<"u")}function SF(){}function OF(n,r){return function(){n.apply(r,arguments)}}function Lr(n){if(!(this instanceof Lr))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],kO(n,this)}function PO(n,r){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(r);return}n._handled=!0,Lr._immediateFn(function(){var e=n._state===1?r.onFulfilled:r.onRejected;if(e===null){(n._state===1?Rm:Wc)(r.promise,n._value);return}var t;try{t=e(n._value)}catch(o){Wc(r.promise,o);return}Rm(r.promise,t)})}function Rm(n,r){try{if(r===n)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(Hc(r)==="object"||typeof r=="function")){var e=r.then;if(r instanceof Lr){n._state=3,n._value=r,jm(n);return}else if(typeof e=="function"){kO(OF(e,r),n);return}}n._state=1,n._value=r,jm(n)}catch(t){Wc(n,t)}}function Wc(n,r){n._state=2,n._value=r,jm(n)}function jm(n){n._state===2&&n._deferreds.length===0&&Lr._immediateFn(function(){n._handled||Lr._unhandledRejectionFn(n._value)});for(var r=0,e=n._deferreds.length;r<e;r++)PO(n,n._deferreds[r]);n._deferreds=null}function EF(n,r,e){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function kO(n,r){var e=!1;try{n(function(t){e||(e=!0,Rm(r,t))},function(t){e||(e=!0,Wc(r,t))})}catch(t){if(e)return;e=!0,Wc(r,t)}}Lr.prototype.catch=function(n){return this.then(null,n)};Lr.prototype.then=function(n,r){var e=new this.constructor(SF);return PO(this,new EF(n,r,e)),e};Lr.prototype.finally=xF;Lr.all=function(n){return new Lr(function(r,e){if(!TO(n))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(n);if(t.length===0)return r([]);var o=t.length;function i(l,c){try{if(c&&(Hc(c)==="object"||typeof c=="function")){var f=c.then;if(typeof f=="function"){f.call(c,function(h){i(l,h)},e);return}}t[l]=c,--o===0&&r(t)}catch(h){e(h)}}for(var s=0;s<t.length;s++)i(s,t[s])})};Lr.resolve=function(n){return n&&Hc(n)==="object"&&n.constructor===Lr?n:new Lr(function(r){r(n)})};Lr.reject=function(n){return new Lr(function(r,e){e(n)})};Lr.race=function(n){return new Lr(function(r,e){if(!TO(n))return e(new TypeError("Promise.race accepts an array"));for(var t=0,o=n.length;t<o;t++)Lr.resolve(n[t]).then(r,e)})};Lr._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){CF(n,0)};Lr._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const Im=Lr;(0,Ne.hasWin)()&&(window.Promise=window.Promise||Im);const AO=typeof fetch=="function"?fetch.bind():function(n,r){return new Im(function(e,t){var o=new XMLHttpRequest;o.open(r.method||"get",n),o.withCredentials=r.credentials=="include";for(var i in r.headers||{})o.setRequestHeader(i,r.headers[i]);o.onload=function(s){return e({status:o.status,statusText:o.statusText,text:function(){return Im.resolve(o.responseText)}})},o.onerror=t,o.upload&&r.onProgress&&(o.upload.onprogress=r.onProgress),r.body?o.send(r.body):o.send()})};var Rp=function(){return Rp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Rp.apply(this,arguments)},Jb=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},Zb=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},TF=function(){function n(){}return n.prototype.store=function(r){return Jb(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Zb(this,function(o){switch(o.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,o.sent()]}})})},n.prototype.load=function(){return Jb(this,arguments,void 0,function(r){return r===void 0&&(r={}),Zb(this,function(e){switch(e.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,e.sent()]}})})},n.prototype.request=function(r,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),AO(r,e).then(function(o){var i=o.text(),s=(o.status/200|0)===1;return s?i:i.then(Promise.reject)}).then(function(o){var i=o&&(0,D.isString)(o);return t.contentTypeJson&&i?JSON.parse(o):o})},n.prototype.__props=function(r,e){r===void 0&&(r={});var t=r.contentTypeJson,o=r.headers||{},i=r.fetchOptions||{},s="X-Requested-With",l="Content-Type",c;if((0,D.isUndefined)(o[s])&&(o[s]="XMLHttpRequest"),(0,D.isUndefined)(o[l])&&t&&(o[l]="application/json; charset=utf-8"),e)if(t)c=JSON.stringify(e);else{c=new FormData;for(var f in e)c.append(f,e[f])}var h={method:c?"POST":"GET",credentials:r.credentials,headers:o,body:c};return Rp(Rp({},h),(0,D.isFunction)(i)?i(h):i)},n}();const PF=TF;var Fm;(function(n){n.start="storage:start",n.startStore="storage:start:store",n.startLoad="storage:start:load",n.load="storage:load",n.store="storage:store",n.after="storage:after",n.afterStore="storage:after:store",n.afterLoad="storage:after:load",n.end="storage:end",n.endStore="storage:end:store",n.endLoad="storage:end:load",n.error="storage:error",n.errorStore="storage:error:store",n.errorLoad="storage:error:load"})(Fm||(Fm={}));const An=Fm;var kF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xl=function(){return xl=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},xl.apply(this,arguments)},og=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},ig=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},sd="local",Qb="remote",AF=function(n){kF(r,n);function r(e){var t=n.call(this,e,"StorageManager",yF)||this;t.storages={},t.events=An;var o=t.config;return o._disable&&(o.type=void 0),t.storages={},t.add(sd,new _F),t.add(Qb,new PF),t.setCurrent(o.type),t}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},r.prototype.add=function(e,t){return this.storages[e]=t,this},r.prototype.get=function(e){return this.storages[e]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},r.prototype.store=function(e){return og(this,arguments,void 0,function(t,o){var i,s,l,c,f,h;return o===void 0&&(o={}),ig(this,function(g){switch(g.label){case 0:i=this.getCurrentStorage(),s=xl(xl({},this.getCurrentOptions()),o),l=this.getRecoveryStorage(),c=this.getCurrentOptions(sd),g.label=1;case 1:return g.trys.push([1,5,,9]),[4,this.__exec(i,s,t)];case 2:return g.sent(),f=l,f?[4,this.__exec(l,c,{})]:[3,4];case 3:f=g.sent(),g.label=4;case 4:return[3,9];case 5:return h=g.sent(),l?[4,this.__exec(l,c,t)]:[3,7];case 6:return g.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(){return og(this,arguments,void 0,function(e){var t,o,i,s,l;return e===void 0&&(e={}),ig(this,function(c){switch(c.label){case 0:return t=this.getCurrentStorage(),o=xl(xl({},this.getCurrentOptions()),e),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(sd))]:[3,5];case 1:if(l=c.sent(),(0,D.isEmpty)(l))return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return c.sent(),s=l,[3,5];case 4:return c.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(t,o)];case 6:s=c.sent(),c.label=7;case 7:return[2,s||{}]}})})},r.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(o,i){(0,D.isFunction)(t)?t(o,i,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?o(null):i()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===Qb&&this.get(sd)},r.prototype.__exec=function(e,t,o){return og(this,void 0,void 0,function(){var i,s,l,c,f,h,g,m,y,_,x,C,S,T;return ig(this,function(E){switch(E.label){case 0:if(i=o?"store":"load",s=this.getConfig(),l=s.onStore,c=s.onLoad,!e)return[2,o||{}];this.onStart(i,o),E.label=1;case 1:return E.trys.push([1,14,,15]),h=(T=this.em)===null||T===void 0?void 0:T.getEditor(),g=void 0,o?(y=l,y?[4,l(o,h)]:[3,3]):[3,7];case 2:y=E.sent(),E.label=3;case 3:return m=y||o,_=t.onStore,_?[4,t.onStore(m,h)]:[3,5];case 4:_=E.sent(),E.label=5;case 5:return m=_||m,[4,e.store(m,t)];case 6:return g=E.sent(),f=o,[3,13];case 7:return[4,e.load(t)];case 8:return g=E.sent(),f=this.__clearKeys(g),x=t.onLoad,x?[4,t.onLoad(f,h)]:[3,10];case 9:x=E.sent(),E.label=10;case 10:return f=x||f,C=c,C?[4,c(f,h)]:[3,12];case 11:C=E.sent(),E.label=12;case 12:f=C||f,E.label=13;case 13:return this.onAfter(i,f,g),this.onEnd(i,f,g),[3,15];case 14:throw S=E.sent(),this.onError(i,S),S;case 15:return[2,f]}})})},r.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),o=new RegExp("^".concat(t.id)),i={};for(var s in e){var l=s.replace(o,"");i[l]=e[s]}return i},r.prototype.getCurrentOptions=function(e){var t=this.getConfig(),o=e||this.getCurrent();return t.options[o]||{}},r.prototype.onStart=function(e,t){var o=this.em;if(o){var i=e==="load"?An.startLoad:An.startStore;o.trigger(An.start,e,t),o.trigger(i,t)}},r.prototype.onAfter=function(e,t,o){var i=this.em;if(i){var s=e==="load"?An.afterLoad:An.afterStore;i.trigger(An.after),i.trigger(s,t,o);var l=e==="load"?An.load:An.store;i.trigger(l,t,o)}},r.prototype.onEnd=function(e,t,o){var i=this.em;if(i){var s=e==="load"?An.endLoad:An.endStore;i.trigger(An.end,e,t,o),i.trigger(s,t,o)}},r.prototype.onError=function(e,t){var o=this.em;if(o){var i=e==="load"?An.errorLoad:An.errorStore;o.trigger(An.error,t,e),o.trigger(i,t),this.onEnd(e,t)}},r.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(oo);const LF=AF;var MF={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const NF=MF;var DF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mc=function(){return mc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},mc.apply(this,arguments)},LO=function(n){DF(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.events={},t.appendInput=!0;var o=e.config,i=o===void 0?{}:o,s=t,l=s.model,c=s.eventCapture,f=l.target,h=l.attributes.type;t.config=i,t.em=i.em,t.pfx=i.stylePrefix||"",t.ppfx=i.pStylePrefix||"",t.target=f,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(h);var g=[["change:value",t.onValueChange],["remove",t.removeView]];return g.forEach(function(m){var y=m[0],_=m[1];l.off(y,_),t.listenTo(l,y,_)}),l.view=t,t.listenTo(l,"change:label",t.render),t.listenTo(l,"change:placeholder",t.rerender),t.events={},c.forEach(function(m){return t.events[m]="onChange"}),t.delegateEvents(),t.init(),t}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(e){var t=this.ppfx,o=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(o,'">').concat(o,"</div>")},r.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(e){},r.prototype.onUpdate=function(e){},r.prototype.onEvent=function(e){},r.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,D.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(mc(mc({},this.getClbOpts()),{event:e}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},r.prototype.onValueChange=function(e,t,o){if(o===void 0&&(o={}),o.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var i=this.getValueForTarget();e.setTargetValue(i,o)}},r.prototype.renderLabel=function(){var e=this,t=e.$el,o=e.target,i=this.getLabel(),s=this.templateLabel(o);this.createLabel&&(s=this.createLabel({label:i,component:o,trait:this})||""),t.find("[data-label]").append(s)},r.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,o=t.label,i=t.name;return e.t("traitManager.traits.labels.".concat(i))||(0,Ne.capitalize)(o||i).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,o=e.model,i=o,s=o.attributes.name,l=i.get("placeholder")||i.get("default")||"",c=i.get("type")||"text",f=i.get("min"),h=i.get("max"),g=this.getModelValue(),m=(0,pr.default)('<input type="'.concat(c,'">')),y=t.t("traitManager.traits.attributes.".concat(s))||{};m.attr(mc({placeholder:l},y)),(0,D.isUndefined)(g)||(i.set({value:g},{silent:!0}),m.prop("value",g)),f&&m.prop("min",f),h&&m.prop("max",h),this.$input=m}return this.$input.get(0)},r.prototype.getInputElem=function(){var e=this,t=e.input,o=e.$input;return t||o&&o.get&&o.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var e=this,t=e.$el,o=e.appendInput,i=e.model,s=t.find("[data-input]"),l=s[s.length-1],c=i.el;c||(c=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,D.isString)(c)?(l.innerHTML=c,this.elInput=l.firstChild):(o?l.appendChild(c):l.insertBefore(c,l.firstChild),this.elInput=c),i.el=this.elInput},r.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var e=this,t=e.$el,o=e.pfx,i=e.ppfx,s=e.model,l=s.attributes,c=l.type,f=l.id,h=this.hasLabel&&this.hasLabel(),g="".concat(o,"trait");delete this.$input;var m='<div class="'.concat(g," ").concat(g,"--").concat(c,`">
      `).concat(h?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(c,`" data-input>
        `).concat(this.templateInput?(0,D.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(m),h&&this.renderLabel(),this.renderField(),this.el.className="".concat(g,"__wrp ").concat(g,"__wrp-").concat(f),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(Xe.Ss);const $i=LO;LO.prototype.eventCapture=["change"];var RF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MO=function(n){RF(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&$i.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var e=this,t=e.model,o=e.ppfx,i=t.props(),s=i.labelButton,l=i.text,c=i.full,f=s||l,h="".concat(o,"btn"),g='<button type="button" class="'.concat(h,"-prim").concat(c?" ".concat(h,"--full"):"",'">').concat(f,"</button>");return g},r}($i);const jF=MO;MO.prototype.eventCapture=["click button"];var IF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),FF=function(n){IF(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return e.appendInput=!1,e}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,o=e.clsField;return'<label class="'.concat(o,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},r.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=!this.$input,i=$i.prototype.getInputEl.apply(this,e);if(o){var s=void 0,l=void 0,c=this,f=c.model,h=c.target,g=f.attributes.valueFalse,m=f.getName();f.changeProp?(s=h.get(m),l=s):(l=h.get("attributes")[m],s=!!(l||l==="")),!(0,D.isUndefined)(g)&&l===g&&(s=!1),i.checked=s}return i},r}($i);const VF=FF;function UF(n,r){if(!(0,Ne.hasWin)())return;var e={beforeShow:y,move:y,change:y,show:y,hide:y,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],o=!!/msie/i.exec(window.navigator.userAgent),i=function(){function B(Ae,ye){return!!~(""+Ae).indexOf(ye)}var ae=document.createElement("div"),I=ae.style;return I.cssText="background-color:rgba(0,0,0,.5)",B(I.backgroundColor,"rgba")||B(I.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var B="";if(o)for(var ae=1;ae<=6;ae++)B+="<div class='sp-"+ae+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",B,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function c(B,ae,I,Ae){for(var ye=[],Ie=0;Ie<B.length;Ie++){var rt=B[Ie];if(rt){var tt=R(rt),qe=tt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";qe+=R.equals(ae,rt)?" sp-thumb-active":"";var ut=tt.toString(Ae.preferredFormat||"rgb"),Et=i?"background-color:"+tt.toRgbString():"filter:"+tt.toFilter();ye.push('<span title="'+ut+'" data-color="'+tt.toRgbString()+'" class="'+qe+'"><span class="sp-thumb-inner" style="'+Et+';"></span></span>')}else{var Rt="sp-clear-display";ye.push(n("<div />").append(n('<span data-color="" style="background-color:transparent;" class="'+Rt+'"></span>').attr("title",Ae.noColorSelectedText)).html())}}return"<div class='sp-cf "+I+"'>"+ye.join("")+"</div>"}function f(){for(var B=0;B<t.length;B++)t[B]&&t[B].hide()}function h(B,ae){var I=n.extend({},e,B);return I.callbacks={move:x(I.move,ae),change:x(I.change,ae),show:x(I.show,ae),hide:x(I.hide,ae),beforeShow:x(I.beforeShow,ae)},I}function g(B,ae){var I=h(ae,B),Ae=I.flat,ye=I.showSelectionPalette,Ie=I.localStorageKey,rt=I.theme,tt=I.callbacks,qe=S(fo,10),ut=!1,Et=!1,Rt=!0,kt=0,fr=0,Mr=0,V=0,ee=0,pe=0,Me=0,Ge=0,dt=0,bt=0,Zt=1,_r=[],Qt=[],io={},er=I.selectionPalette.slice(0),sn=I.maxSelectionSize,Vn="sp-dragging",Vt=null,br=B.ownerDocument;br.body;var jt=n(B),Qr=!1,mt=n(l,br).addClass(rt),Un=mt.find(".sp-picker-container"),xn=mt.find(".sp-color"),Sr=mt.find(".sp-dragger"),Or=mt.find(".sp-hue"),ln=mt.find(".sp-slider"),Ut=mt.find(".sp-alpha-inner"),it=mt.find(".sp-alpha"),Ur=mt.find(".sp-alpha-handle"),or=mt.find(".sp-input"),zr=mt.find(".sp-palette"),Mt=mt.find(".sp-initial"),qt=mt.find(".sp-cancel"),zn=mt.find(".sp-clear"),ao=mt.find(".sp-choose"),je=mt.find(".sp-palette-toggle"),vt=jt.is("input"),so=vt&&jt.attr("type")==="color"&&T(),j=vt&&!Ae,X=j?n(s).addClass(rt).addClass(I.className).addClass(I.replacerClassName):n([]),Oe=j?X:jt,Fe=X.find(".sp-preview-inner"),Ue=I.color||vt&&jt.val(),Ot=!1,At=I.preferredFormat,tr=!I.showButtons||I.clickoutFiresChange,Bt=!Ue,Bn=I.allowEmpty&&!so;function Gi(){if(I.showPaletteOnly&&(I.showPalette=!0),je.text(I.showPaletteOnly?I.togglePaletteMoreText:I.togglePaletteLessText),I.palette){_r=I.palette.slice(0),Qt=n.isArray(_r[0])?_r:[_r],io={};for(var ft=0;ft<Qt.length;ft++)for(var ct=0;ct<Qt[ft].length;ct++){var It=R(Qt[ft][ct]).toRgbString();io[It]=!0}}mt.toggleClass("sp-flat",Ae),mt.toggleClass("sp-input-disabled",!I.showInput),mt.toggleClass("sp-alpha-enabled",I.showAlpha),mt.toggleClass("sp-clear-enabled",Bn),mt.toggleClass("sp-buttons-disabled",!I.showButtons),mt.toggleClass("sp-palette-buttons-disabled",!I.togglePaletteOnly),mt.toggleClass("sp-palette-disabled",!I.showPalette),mt.toggleClass("sp-palette-only",I.showPaletteOnly),mt.toggleClass("sp-initial-disabled",!I.showInitial),mt.addClass(I.className).addClass(I.containerClassName),fo()}function gi(){if(o&&mt.find("*:not(input)").attr("unselectable","on"),Gi(),j&&jt.after(X).hide(),Bn||zn.hide(),Ae)jt.after(mt).hide();else{var ft=I.appendTo==="parent"?jt.parent():n(I.appendTo);ft.length!==1&&(ft=n("body")),ft.append(mt)}mi(),Oe.bind("click.spectrum touchstart.spectrum",function(wt){Qr||Xi(),wt.stopPropagation(),n(wt.target).is("input")||wt.preventDefault()}),(jt.is(":disabled")||I.disabled===!0)&&To(),mt.click(_),or.change(zo),or.bind("paste",function(){setTimeout(zo,1)}),or.keydown(function(wt){wt.keyCode==13&&zo()}),qt.text(I.cancelText),qt.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),Bo(),lo()}),zn.attr("title",I.clearText),zn.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),Bt=!0,Ho(),Ae&&co(!0)}),ao.text(I.chooseText),ao.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),o&&or.is(":focus")&&or.trigger("change"),Rs()&&(co(!0),lo())}),je.text(I.showPaletteOnly?I.togglePaletteMoreText:I.togglePaletteLessText),je.bind("click.spectrum",function(wt){wt.stopPropagation(),wt.preventDefault(),I.showPaletteOnly=!I.showPaletteOnly,!I.showPaletteOnly&&!Ae&&mt.css("left","-="+(Un.outerWidth(!0)+5)),Gi()}),C(it,function(wt,ir,Tr){Zt=wt/ee,Bt=!1,Tr.shiftKey&&(Zt=Math.round(Zt*10)/10),Ho()},wi,ii),C(Or,function(wt,ir){Ge=parseFloat(ir/V),Bt=!1,I.showAlpha||(Zt=1),Ho()},wi,ii),C(xn,function(wt,ir,Tr){if(!Tr.shiftKey)Vt=null;else if(!Vt){var cn=dt*kt,Po=fr-bt*fr,Cn=Math.abs(wt-cn)>Math.abs(ir-Po);Vt=Cn?"x":"y"}var Sn=!Vt||Vt==="x",Hn=!Vt||Vt==="y";Sn&&(dt=parseFloat(wt/kt)),Hn&&(bt=parseFloat((fr-ir)/fr)),Bt=!1,I.showAlpha||(Zt=1),Ho()},wi,ii),Ue?(un(Ue),uo(),At=I.preferredFormat||R(Ue).getFormat(),yi(Ue)):uo(),Ae&&Er();function ct(wt){return wt.data&&wt.data.ignore?(un(n(wt.target).closest(".sp-thumb-el").data("color")),Ho()):(un(n(wt.target).closest(".sp-thumb-el").data("color")),Ho(),I.hideAfterPaletteSelect&&(co(!0),lo())),!1}var It=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";zr.delegate(".sp-thumb-el",It,ct),Mt.delegate(".sp-thumb-el:nth-child(1)",It,{ignore:!0},ct)}function mi(){if(Ie&&window.localStorage){try{var ft=window.localStorage[Ie].split(",#");ft.length>1&&(delete window.localStorage[Ie],n.each(ft,function(ct,It){yi(It)}))}catch{}try{er=window.localStorage[Ie].split(";")}catch{}}}function yi(ft){if(ye){var ct=R(ft).toRgbString();if(!io[ct]&&n.inArray(ct,er)===-1)for(er.push(ct);er.length>sn;)er.shift();if(Ie&&window.localStorage)try{window.localStorage[Ie]=er.join(";")}catch{}}}function Ga(){var ft=[];if(I.showPalette)for(var ct=0;ct<er.length;ct++){var It=R(er[ct]).toRgbString();io[It]||ft.push(er[ct])}return ft.reverse().slice(0,I.maxSelectionSize)}function qi(){var ft=Dr(),ct=n.map(Qt,function(It,wt){return c(It,ft,"sp-palette-row sp-palette-row-"+wt,I)});mi(),er&&ct.push(c(Ga(),ft,"sp-palette-row sp-palette-row-selection",I)),zr.html(ct.join(""))}function Yi(){if(I.showInitial){var ft=Ot,ct=Dr();Mt.html(c([ft,ct],ct,"sp-palette-row-initial",I))}}function wi(){(fr<=0||kt<=0||V<=0)&&fo(),Et=!0,mt.addClass(Vn),Vt=null,jt.trigger("dragstart.spectrum",[Dr()])}function ii(){Et=!1,mt.removeClass(Vn),jt.trigger("dragstop.spectrum",[Dr()])}function zo(){var ft=or.val();if((ft===null||ft==="")&&Bn)un(null),co(!0);else{var ct=R(ft);ct.isValid()?(un(ct),co(!0)):or.addClass("sp-validation-error")}}function Xi(){ut?lo():Er()}function Er(){var ft=n.Event("beforeShow.spectrum");if(ut){fo();return}if(jt.trigger("beforeShow.spectrum",[Dr()]),!(tt.beforeShow(Dr())===!1||ft.isDefaultPrevented())){f(),ut=!0;var ct=n(br);ct.bind("keydown.spectrum",Nr),ct.bind("click.spectrum",qa),n(window).bind("resize.spectrum",qe),X.addClass("sp-active"),mt.removeClass("sp-hidden"),fo(),uo(),Ot=Dr(),Yi(),tt.show(Ot),jt.trigger("show.spectrum",[Ot])}}function Nr(ft){ft.keyCode===27&&lo()}function qa(ft){ft.button!=2&&(Et||(tr?co(!0):Bo(),lo()))}function lo(){!ut||Ae||(ut=!1,n(br).unbind("keydown.spectrum",Nr),n(br).unbind("click.spectrum",qa),n(window).unbind("resize.spectrum",qe),X.removeClass("sp-active"),mt.addClass("sp-hidden"),tt.hide(Dr()),jt.trigger("hide.spectrum",[Dr()]))}function Bo(){un(Ot,!0)}function un(ft,ct){if(R.equals(ft,Dr())){uo();return}var It,wt;!ft&&Bn?Bt=!0:(Bt=!1,Rt=!ft,It=R(ft),wt=It.toHsv(),Ge=wt.h%360/360,dt=wt.s,bt=wt.v,Zt=wt.a),uo(),It&&It.isValid()&&!ct&&(At=I.preferredFormat||It.getFormat())}function Dr(ft){return ft=ft||{},Bn&&Bt?null:R.fromRatio({h:Ge,s:dt,v:bt,a:Math.round(Zt*100)/100},{format:ft.format||At})}function Rs(){return!or.hasClass("sp-validation-error")}function Ho(){uo(),tt.move(Dr()),jt.trigger("move.spectrum",[Dr()])}function uo(){or.removeClass("sp-validation-error"),_i();var ft=R.fromRatio({h:Ge,s:1,v:1});xn.css("background-color",ft.toHexString());var ct=At;Zt<1&&!(Zt===0&&ct==="name")&&(ct==="hex"||ct==="hex3"||ct==="hex6"||ct==="name")&&(ct="rgb");var It=Dr({format:ct}),wt="";if(Fe.removeClass("sp-clear-display"),Fe.css("background-color","transparent"),!It&&Bn)Fe.addClass("sp-clear-display");else{var ir=It.toHexString(),Tr=It.toRgbString();if(i||It.alpha===1?Fe.css("background-color",Tr):(Fe.css("background-color","transparent"),Fe.css("filter",It.toFilter())),I.showAlpha){var cn=It.toRgb();cn.a=0;var Po=R(cn).toRgbString(),Cn="linear-gradient(left, "+Po+", "+ir+")";o?Ut.css("filter",R(Po).toFilter({gradientType:1},ir)):(Ut.css("background","-webkit-"+Cn),Ut.css("background","-moz-"+Cn),Ut.css("background","-ms-"+Cn),Ut.css("background","linear-gradient(to right, "+Po+", "+ir+")"))}wt=It.toString(ct)}I.showInput&&or.val(wt),I.showPalette&&qi(),Yi()}function _i(){var ft=dt,ct=bt;if(Bn&&Bt)Ur.hide(),ln.hide(),Sr.hide();else{Ur.show(),ln.show(),Sr.show();var It=ft*kt,wt=fr-ct*fr;It=Math.max(-Mr,Math.min(kt-Mr,It-Mr)),wt=Math.max(-Mr,Math.min(fr-Mr,wt-Mr)),Sr.css({top:wt+"px",left:It+"px"});var ir=Zt*ee;Ur.css({left:ir-pe/2+"px"});var Tr=Ge*V;ln.css({top:Tr-Me+"px"})}}function co(ft){var ct=Dr(),It="",wt=Rt?!0:!R.equals(ct,Ot);ct&&(It=ct.toString(At),!ut&&yi(ct)),vt&&jt.val(It),ft&&wt&&(tt.change(ct),jt.trigger("change",[ct]))}function fo(){ut&&(kt=xn.width(),fr=xn.height(),Mr=Sr.height(),Or.width(),V=Or.height(),Me=ln.height(),ee=it.width(),pe=Ur.width(),Ae||(mt.css("position","absolute"),I.offset?mt.offset(I.offset):mt.offset(m(mt,Oe))),_i(),I.showPalette&&qi(),jt.trigger("reflow.spectrum"))}function Ya(){jt.show(),Oe.unbind("click.spectrum touchstart.spectrum"),mt.remove(),X.remove(),t[Wo.id]=null}function Ji(ft,ct){if(ft===r)return n.extend({},I);if(ct===r)return I[ft];I[ft]=ct,ft==="preferredFormat"&&(At=I.preferredFormat),Gi()}function bi(){Qr=!1,jt.attr("disabled",!1),Oe.removeClass("sp-disabled")}function To(){lo(),Qr=!0,jt.attr("disabled",!0),Oe.addClass("sp-disabled")}function xi(ft){I.offset=ft,fo()}gi();var Wo={show:Er,hide:lo,toggle:Xi,reflow:fo,option:Ji,enable:bi,disable:To,offset:xi,set:function(ft){un(ft),co()},get:Dr,destroy:Ya,container:mt};return Wo.id=t.push(Wo)-1,Wo}function m(B,ae){for(var I=ae[0],Ae=B[0],ye=Ae.parentElement,Ie=I.getBoundingClientRect(),rt=Ae.offsetWidth,tt=Ae.offsetHeight,qe={top:0,left:0,width:I.offsetWidth,height:I.offsetHeight};I&&(qe.top+=I.offsetTop-I.scrollTop,qe.left+=I.offsetLeft-I.scrollLeft,!(I===ye||!ye.contains(I.offsetParent)));)I=I.offsetParent;return Ie.right+rt>window.innerWidth-window.scrollX&&Ie.right-rt>0&&(qe.left-=rt-qe.width),Ie.bottom+tt<window.innerHeight-window.scrollY?qe.top+=qe.height:qe.top-=tt,qe}function y(){}function _(B){B.stopPropagation()}function x(B,ae){var I=Array.prototype.slice,Ae=I.call(arguments,2);return function(){return B.apply(ae,Ae.concat(I.call(arguments)))}}function C(B,ae,I,Ae){ae=ae||function(){},I=I||function(){},Ae=Ae||function(){};var ye=document,Ie=!1,rt={},tt=0,qe=0,ut="ontouchstart"in window,Et={};Et.selectstart=Rt,Et.dragstart=Rt,Et["touchmove mousemove"]=kt,Et["touchend mouseup"]=Mr;function Rt(V){V.stopPropagation&&V.stopPropagation(),V.preventDefault&&V.preventDefault(),V.returnValue=!1}function kt(V){if(Ie){if(o&&ye.documentMode<9&&!V.button)return Mr();var ee=V&&V.touches&&V.touches[0],pe=ee&&ee.pageX||V.pageX,Me=ee&&ee.pageY||V.pageY,Ge=Math.max(0,Math.min(pe-rt.left,qe)),dt=Math.max(0,Math.min(Me-rt.top,tt));ut&&Rt(V),ae.apply(B,[Ge,dt,V])}}function fr(V){var ee=V.which?V.which==3:V.button==2;!ee&&!Ie&&I.apply(B,arguments)!==!1&&(Ie=!0,tt=n(B).height(),qe=n(B).width(),rt=n(B).offset(),n(ye).bind(Et),n(ye.body).addClass("sp-dragging"),kt(V),Rt(V))}function Mr(){Ie&&(n(ye).unbind(Et),n(ye.body).removeClass("sp-dragging"),setTimeout(function(){Ae.apply(B,arguments)},0)),Ie=!1}n(B).bind("touchstart mousedown",fr)}function S(B,ae,I){var Ae;return function(){var ye=this,Ie=arguments,rt=function(){Ae=null,B.apply(ye,Ie)};Ae||(Ae=setTimeout(rt,ae))}}function T(){return n.fn.spectrum.inputTypeColorSupport()}var E="spectrum.id";n.fn.spectrum=function(B,ae){if(typeof B=="string"){var I=this,Ae=Array.prototype.slice.call(arguments,1);return this.each(function(){var ye=t[n(this).data(E)];if(ye){var Ie=ye[B];if(!Ie)throw new Error("Spectrum: no such method: '"+B+"'");B=="get"?I=ye.get():B=="container"?I=ye.container:B=="option"?I=ye.option.apply(ye,Ae):B=="destroy"?(ye.destroy(),n(this).removeData(E)):Ie.apply(ye,Ae)}}),I}return this.spectrum("destroy").each(function(){var ye=n.extend({},B,n(this).data()),Ie=g(this,ye);n(this).data(E,Ie.id)})},n.fn.spectrum.load=!0,n.fn.spectrum.loadOpts={},n.fn.spectrum.draggable=C,n.fn.spectrum.defaults=e,n.fn.spectrum.inputTypeColorSupport=function B(){if(typeof B._cachedResult>"u"){var ae=n("<input type='color'/>")[0];B._cachedResult=ae.type==="color"&&ae.value!==""}return B._cachedResult},n.spectrum={},n.spectrum.localization={},n.spectrum.palettes={},n.fn.spectrum.processNativeColorInputs=function(){var B=n("input[type=color]");B.length&&!T()&&B.spectrum({preferredFormat:"hex6"})};var N=/^[\s,#]+/,K=/\s+$/,re=0,ue=Math,Q=ue.round,$=ue.min,te=ue.max,U=ue.random,R=function(B,ae){if(B=B||"",ae=ae||{},B instanceof R)return B;if(!(this instanceof R))return new R(B,ae);var I=W(B);this._originalInput=B,this._r=I.r,this._g=I.g,this._b=I.b,this._a=I.a,this._roundA=Q(100*this._a)/100,this._format=ae.format||I.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=Q(this._r)),this._g<1&&(this._g=Q(this._g)),this._b<1&&(this._b=Q(this._b)),this._ok=I.ok,this._tc_id=re++};R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(B.r*299+B.g*587+B.b*114)/1e3},setAlpha:function(B){return this._a=_t(B),this._roundA=Q(100*this._a)/100,this},toHsv:function(){var B=we(this._r,this._g,this._b);return{h:B.h*360,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=we(this._r,this._g,this._b),ae=Q(B.h*360),I=Q(B.s*100),Ae=Q(B.v*100);return this._a==1?"hsv("+ae+", "+I+"%, "+Ae+"%)":"hsva("+ae+", "+I+"%, "+Ae+"%, "+this._roundA+")"},toHsl:function(){var B=ie(this._r,this._g,this._b);return{h:B.h*360,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=ie(this._r,this._g,this._b),ae=Q(B.h*360),I=Q(B.s*100),Ae=Q(B.l*100);return this._a==1?"hsl("+ae+", "+I+"%, "+Ae+"%)":"hsla("+ae+", "+I+"%, "+Ae+"%, "+this._roundA+")"},toHex:function(B){return xe(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(){return De(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Q(this._r),g:Q(this._g),b:Q(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+")":"rgba("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Q(A(this._r,255)*100)+"%",g:Q(A(this._g,255)*100)+"%",b:Q(A(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Q(A(this._r,255)*100)+"%, "+Q(A(this._g,255)*100)+"%, "+Q(A(this._b,255)*100)+"%)":"rgba("+Q(A(this._r,255)*100)+"%, "+Q(A(this._g,255)*100)+"%, "+Q(A(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:nr[xe(this._r,this._g,this._b,!0)]||!1},toFilter:function(B){var ae="#"+De(this._r,this._g,this._b,this._a),I=ae,Ae=this._gradientType?"GradientType = 1, ":"";if(B){var ye=R(B);I=ye.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Ae+"startColorstr="+ae+",endColorstr="+I+")"},toString:function(B){var ae=!!B;B=B||this._format;var I=!1,Ae=this._a<1&&this._a>=0,ye=!ae&&Ae&&(B==="hex"||B==="hex6"||B==="hex3"||B==="name");return ye?B==="name"&&this._a===0?this.toName():this.toRgbString():(B==="rgb"&&(I=this.toRgbString()),B==="prgb"&&(I=this.toPercentageRgbString()),(B==="hex"||B==="hex6")&&(I=this.toHexString()),B==="hex3"&&(I=this.toHexString(!0)),B==="hex8"&&(I=this.toHex8String()),B==="name"&&(I=this.toName()),B==="hsl"&&(I=this.toHslString()),B==="hsv"&&(I=this.toHsvString()),I||this.toHexString())},_applyModification:function(B,ae){var I=B.apply(null,[this].concat([].slice.call(ae)));return this._r=I._r,this._g=I._g,this._b=I._b,this.setAlpha(I._a),this},lighten:function(){return this._applyModification(Pe,arguments)},brighten:function(){return this._applyModification(Ce,arguments)},darken:function(){return this._applyModification(le,arguments)},desaturate:function(){return this._applyModification(se,arguments)},saturate:function(){return this._applyModification(Ee,arguments)},greyscale:function(){return this._applyModification(ze,arguments)},spin:function(){return this._applyModification(be,arguments)},_applyCombination:function(B,ae){return B.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(nt,arguments)},complement:function(){return this._applyCombination(Te,arguments)},monochromatic:function(){return this._applyCombination(Dt,arguments)},splitcomplement:function(){return this._applyCombination(He,arguments)},triad:function(){return this._applyCombination(We,arguments)},tetrad:function(){return this._applyCombination(Je,arguments)}},R.fromRatio=function(B,ae){if(typeof B=="object"){var I={};for(var Ae in B)B.hasOwnProperty(Ae)&&(Ae==="a"?I[Ae]=B[Ae]:I[Ae]=ve(B[Ae]));B=I}return R(B,ae)};function W(B){var ae={r:0,g:0,b:0},I=1,Ae=!1,ye=!1;return typeof B=="string"&&(B=yt(B)),typeof B=="object"&&(B.hasOwnProperty("r")&&B.hasOwnProperty("g")&&B.hasOwnProperty("b")?(ae=H(B.r,B.g,B.b),Ae=!0,ye=String(B.r).substr(-1)==="%"?"prgb":"rgb"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("v")?(B.s=ve(B.s),B.v=ve(B.v),ae=oe(B.h,B.s,B.v),Ae=!0,ye="hsv"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("l")&&(B.s=ve(B.s),B.l=ve(B.l),ae=M(B.h,B.s,B.l),Ae=!0,ye="hsl"),B.hasOwnProperty("a")&&(I=B.a)),I=_t(I),{ok:Ae,format:B.format||ye,r:$(255,te(ae.r,0)),g:$(255,te(ae.g,0)),b:$(255,te(ae.b,0)),a:I}}function H(B,ae,I){return{r:A(B,255)*255,g:A(ae,255)*255,b:A(I,255)*255}}function ie(B,ae,I){B=A(B,255),ae=A(ae,255),I=A(I,255);var Ae=te(B,ae,I),ye=$(B,ae,I),Ie,rt,tt=(Ae+ye)/2;if(Ae==ye)Ie=rt=0;else{var qe=Ae-ye;switch(rt=tt>.5?qe/(2-Ae-ye):qe/(Ae+ye),Ae){case B:Ie=(ae-I)/qe+(ae<I?6:0);break;case ae:Ie=(I-B)/qe+2;break;case I:Ie=(B-ae)/qe+4;break}Ie/=6}return{h:Ie,s:rt,l:tt}}function M(B,ae,I){var Ae,ye,Ie;B=A(B,360),ae=A(ae,100),I=A(I,100);function rt(ut,Et,Rt){return Rt<0&&(Rt+=1),Rt>1&&(Rt-=1),Rt<1/6?ut+(Et-ut)*6*Rt:Rt<1/2?Et:Rt<2/3?ut+(Et-ut)*(2/3-Rt)*6:ut}if(ae===0)Ae=ye=Ie=I;else{var tt=I<.5?I*(1+ae):I+ae-I*ae,qe=2*I-tt;Ae=rt(qe,tt,B+1/3),ye=rt(qe,tt,B),Ie=rt(qe,tt,B-1/3)}return{r:Ae*255,g:ye*255,b:Ie*255}}function we(B,ae,I){B=A(B,255),ae=A(ae,255),I=A(I,255);var Ae=te(B,ae,I),ye=$(B,ae,I),Ie,rt,tt=Ae,qe=Ae-ye;if(rt=Ae===0?0:qe/Ae,Ae==ye)Ie=0;else{switch(Ae){case B:Ie=(ae-I)/qe+(ae<I?6:0);break;case ae:Ie=(I-B)/qe+2;break;case I:Ie=(B-ae)/qe+4;break}Ie/=6}return{h:Ie,s:rt,v:tt}}function oe(B,ae,I){B=A(B,360)*6,ae=A(ae,100),I=A(I,100);var Ae=ue.floor(B),ye=B-Ae,Ie=I*(1-ae),rt=I*(1-ye*ae),tt=I*(1-(1-ye)*ae),qe=Ae%6,ut=[I,rt,Ie,Ie,tt,I][qe],Et=[tt,I,I,rt,Ie,Ie][qe],Rt=[Ie,Ie,tt,I,I,rt][qe];return{r:ut*255,g:Et*255,b:Rt*255}}function xe(B,ae,I,Ae){var ye=[G(Q(B).toString(16)),G(Q(ae).toString(16)),G(Q(I).toString(16))];return Ae&&ye[0].charAt(0)==ye[0].charAt(1)&&ye[1].charAt(0)==ye[1].charAt(1)&&ye[2].charAt(0)==ye[2].charAt(1)?ye[0].charAt(0)+ye[1].charAt(0)+ye[2].charAt(0):ye.join("")}function De(B,ae,I,Ae){var ye=[G(fe(Ae)),G(Q(B).toString(16)),G(Q(ae).toString(16)),G(Q(I).toString(16))];return ye.join("")}R.equals=function(B,ae){return!B||!ae?!1:R(B).toRgbString()==R(ae).toRgbString()},R.random=function(){return R.fromRatio({r:U(),g:U(),b:U()})};function se(B,ae){ae=ae===0?0:ae||10;var I=R(B).toHsl();return I.s-=ae/100,I.s=z(I.s),R(I)}function Ee(B,ae){ae=ae===0?0:ae||10;var I=R(B).toHsl();return I.s+=ae/100,I.s=z(I.s),R(I)}function ze(B){return R(B).desaturate(100)}function Pe(B,ae){ae=ae===0?0:ae||10;var I=R(B).toHsl();return I.l+=ae/100,I.l=z(I.l),R(I)}function Ce(B,ae){ae=ae===0?0:ae||10;var I=R(B).toRgb();return I.r=te(0,$(255,I.r-Q(255*-(ae/100)))),I.g=te(0,$(255,I.g-Q(255*-(ae/100)))),I.b=te(0,$(255,I.b-Q(255*-(ae/100)))),R(I)}function le(B,ae){ae=ae===0?0:ae||10;var I=R(B).toHsl();return I.l-=ae/100,I.l=z(I.l),R(I)}function be(B,ae){var I=R(B).toHsl(),Ae=(Q(I.h)+ae)%360;return I.h=Ae<0?360+Ae:Ae,R(I)}function Te(B){var ae=R(B).toHsl();return ae.h=(ae.h+180)%360,R(ae)}function We(B){var ae=R(B).toHsl(),I=ae.h;return[R(B),R({h:(I+120)%360,s:ae.s,l:ae.l}),R({h:(I+240)%360,s:ae.s,l:ae.l})]}function Je(B){var ae=R(B).toHsl(),I=ae.h;return[R(B),R({h:(I+90)%360,s:ae.s,l:ae.l}),R({h:(I+180)%360,s:ae.s,l:ae.l}),R({h:(I+270)%360,s:ae.s,l:ae.l})]}function He(B){var ae=R(B).toHsl(),I=ae.h;return[R(B),R({h:(I+72)%360,s:ae.s,l:ae.l}),R({h:(I+216)%360,s:ae.s,l:ae.l})]}function nt(B,ae,I){ae=ae||6,I=I||30;var Ae=R(B).toHsl(),ye=360/I,Ie=[R(B)];for(Ae.h=(Ae.h-(ye*ae>>1)+720)%360;--ae;)Ae.h=(Ae.h+ye)%360,Ie.push(R(Ae));return Ie}function Dt(B,ae){ae=ae||6;for(var I=R(B).toHsv(),Ae=I.h,ye=I.s,Ie=I.v,rt=[],tt=1/ae;ae--;)rt.push(R({h:Ae,s:ye,v:Ie})),Ie=(Ie+tt)%1;return rt}R.mix=function(B,ae,I){I=I===0?0:I||50;var Ae=R(B).toRgb(),ye=R(ae).toRgb(),Ie=I/100,rt=Ie*2-1,tt=ye.a-Ae.a,qe;rt*tt==-1?qe=rt:qe=(rt+tt)/(1+rt*tt),qe=(qe+1)/2;var ut=1-qe,Et={r:ye.r*qe+Ae.r*ut,g:ye.g*qe+Ae.g*ut,b:ye.b*qe+Ae.b*ut,a:ye.a*Ie+Ae.a*(1-Ie)};return R(Et)},R.readability=function(B,ae){var I=R(B),Ae=R(ae),ye=I.toRgb(),Ie=Ae.toRgb(),rt=I.getBrightness(),tt=Ae.getBrightness(),qe=Math.max(ye.r,Ie.r)-Math.min(ye.r,Ie.r)+Math.max(ye.g,Ie.g)-Math.min(ye.g,Ie.g)+Math.max(ye.b,Ie.b)-Math.min(ye.b,Ie.b);return{brightness:Math.abs(rt-tt),color:qe}},R.isReadable=function(B,ae){var I=R.readability(B,ae);return I.brightness>125&&I.color>500},R.mostReadable=function(B,ae){for(var I=null,Ae=0,ye=!1,Ie=0;Ie<ae.length;Ie++){var rt=R.readability(B,ae[Ie]),tt=rt.brightness>125&&rt.color>500,qe=3*(rt.brightness/125)+rt.color/500;(tt&&!ye||tt&&ye&&qe>Ae||!tt&&!ye&&qe>Ae)&&(ye=tt,Ae=qe,I=R(ae[Ie]))}return I};var ht=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nr=R.hexNames=Kt(ht);function Kt(B){var ae={};for(var I in B)B.hasOwnProperty(I)&&(ae[B[I]]=I);return ae}function _t(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function A(B,ae){de(B)&&(B="100%");var I=_e(B);return B=$(ae,te(0,parseFloat(B))),I&&(B=parseInt(B*ae,10)/100),ue.abs(B-ae)<1e-6?1:B%ae/parseFloat(ae)}function z(B){return $(1,te(0,B))}function Y(B){return parseInt(B,16)}function de(B){return typeof B=="string"&&B.indexOf(".")!=-1&&parseFloat(B)===1}function _e(B){return typeof B=="string"&&B.indexOf("%")!=-1}function G(B){return B.length==1?"0"+B:""+B}function ve(B){return B<=1&&(B=B*100+"%"),B}function fe(B){return Math.round(parseFloat(B)*255).toString(16)}function st(B){return Y(B)/255}var xt=function(){var B="[-\\+]?\\d+%?",ae="[-\\+]?\\d*\\.\\d+%?",I="(?:"+ae+")|(?:"+B+")",Ae="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",ye="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?";return{rgb:new RegExp("rgb"+Ae),rgba:new RegExp("rgba"+ye),hsl:new RegExp("hsl"+Ae),hsla:new RegExp("hsla"+ye),hsv:new RegExp("hsv"+Ae),hsva:new RegExp("hsva"+ye),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function yt(B){B=B.replace(N,"").replace(K,"").toLowerCase();var ae=!1;if(ht[B])B=ht[B],ae=!0;else if(B=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var I;return(I=xt.rgb.exec(B))?{r:I[1],g:I[2],b:I[3]}:(I=xt.rgba.exec(B))?{r:I[1],g:I[2],b:I[3],a:I[4]}:(I=xt.hsl.exec(B))?{h:I[1],s:I[2],l:I[3]}:(I=xt.hsla.exec(B))?{h:I[1],s:I[2],l:I[3],a:I[4]}:(I=xt.hsv.exec(B))?{h:I[1],s:I[2],v:I[3]}:(I=xt.hsva.exec(B))?{h:I[1],s:I[2],v:I[3],a:I[4]}:(I=xt.hex8.exec(B))?{a:st(I[1]),r:Y(I[2]),g:Y(I[3]),b:Y(I[4]),format:ae?"name":"hex8"}:(I=xt.hex6.exec(B))?{r:Y(I[1]),g:Y(I[2]),b:Y(I[3]),format:ae?"name":"hex"}:(I=xt.hex3.exec(B))?{r:Y(I[1]+""+I[1]),g:Y(I[2]+""+I[2]),b:Y(I[3]+""+I[3]),format:ae?"name":"hex"}:!1}window.tinycolor=R,n(function(){n.fn.spectrum.load&&n.fn.spectrum.processNativeColorInputs()})}var zF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),NO=function(n){zF(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this,o=e.ppfx||"";return t.opts=e,t.ppfx=o,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(e,t){var o=this.model,i=e||o.get("defaults"),s=this.getInputEl();s&&(s.value=i)},r.prototype.handleModelChange=function(e,t,o){this.setValue(t,o)},r.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},r.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,o=e.opts,i=o.type||"text",s=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,pr.default)('<input type="'.concat(i,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(Xe.Ss);const jp=NO;NO.prototype.events={change:"handleChange"};var BF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yc=function(){return yc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},yc.apply(this,arguments)};pr.default&&UF(pr.default);var ld=function(n){var r=n.getFormat()==="name"&&n.toName(),e=n.getAlpha()==1?n.toHexString():n.toRgbString();return r||e.replace(/ /g,"")},HF=function(n){BF(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return n.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,D.isUndefined)(t)||this.__onInputChange(t)},r.prototype.__onInputChange=function(e){var t=this,o=t.model,i=t.opts,s=i.onChange,l=e,c=this.getColorEl();if(c){c.spectrum("set",l);var f=c.spectrum("get"),h=l&&ld(f);h&&(l=h)}s?s(l):o.set({value:l},{fromInput:1})},r.prototype.setValue=function(e,t){t===void 0&&(t={});var o=this.model,i=(0,D.isUndefined)(t.def)?o.get("defaults"):t.def,s=(0,D.isUndefined)(e)?(0,D.isUndefined)(i)?"":i:e,l=this.getInputEl(),c=this.getColorEl(),f=s!="none"?s:"";l.value=s,c.get(0).style.backgroundColor=f,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(c.spectrum("set",f),this.noneColor=s=="none",this.movedColor=f)},r.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,o=t.em,i=t.model,s=t.opts,l=this.ppfx,c=s.onChange,f=(0,pr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),h=f.get(0).style,g=o&&o.getConfig&&o.getConfig().colorPicker||{};this.movedColor="";var m=!1,y;this.$el.find("[data-colorp-c]").append(f);var _=function(x,C){C===void 0&&(C=!0),c?c(x,!C):(C&&i.setValueFromInput(0,!1),i.setValueFromInput(x,C))};f.spectrum(yc(yc(yc({color:i.getValue()||!1,containerClassName:"".concat(l,"one-bg ").concat(l,"two-color ").concat(l,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},g),i.get("colorPicker")||{}),{move:function(x){var C=ld(x);e.movedColor=C,h.backgroundColor=C,_(C,!1)},change:function(x){m=!0;var C=ld(x);h.backgroundColor=C,_(C),e.noneColor=!1},show:function(x){m=!1,e.movedColor="",y=c?i.getValue({noDefault:!0}):ld(x)},hide:function(){!m&&(y||c)&&(e.noneColor&&(y=""),h.backgroundColor=y,f.spectrum("set",y),_(y,!1))}})),o&&o.on&&this.listenTo(o,"component:selected",function(){e.movedColor&&_(e.movedColor),m=!0,e.movedColor="",f.spectrum("hide")}),this.colorEl=f}return this.colorEl},r.prototype.render=function(){return jp.prototype.render.call(this),this.getColorEl(),this},r}(jp);const DO=HF;var WF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$F=function(n){WF(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),o=new DO({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=o.render();i.setValue(t,{fromTarget:1}),this.input=i.el}return this.input},r}($i);const KF=$F;var GF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RO=function(n){GF(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;return(0,D.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return r.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},r.prototype.setValue=function(e,t){var o=t||{},i=this.validateInputValue(e,{deepCheck:1}),s={value:i.value,unit:""};(i.unit||i.force)&&(s.unit=i.unit),this.model.set(s,o),o.silent&&this.handleModelChange()},r.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},r.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var o=['<option value="" disabled hidden>-</option>'];t.forEach(function(s){var l=s==e.get("unit")?"selected":"";o.push("<option ".concat(l,">").concat(s,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(o.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),o=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(o+t)),this.elementUpdated()},r.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),o=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(o-t)),this.elementUpdated()},r.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,et.on)(this.doc,"mousemove",this.moveIncrement),(0,et.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,o=t.get("step"),i=this.current,s=this.normalizeValue(i.val+(i.y-e.pageY)*o),l=this.validateInputValue(s),c=l.value,f=l.unit;return this.prValue=c,t.set({value:c,unit:f},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,et.AU)(this.doc,"mouseup",this.upIncrement),(0,et.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var o=this.prValue-t;e.set("value",o,{avoidStore:1}).set("value",o+t),this.elementUpdated()}},r.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var o=this.model,i=o.get("step"),s=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var l=i.toString().split(".")[1];s=l?l.length:0}return s?parseFloat(e.toFixed(s)):e},r.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var o=0,i=t||{},s=this.model,l="",c=(0,D.isUndefined)(e)?l:e,f=t.units||s.get("units")||[],h=s.get("unit")||f.length&&f[0]||"",g=(0,D.isUndefined)(t.max)?s.get("max"):t.max,m=(0,D.isUndefined)(t.min)?s.get("min"):t.min,y=!!s.get("limitlessMax"),_=!!s.get("limitlessMin");if(i.deepCheck){var x=s.get("fixedValues")||[];if(c===""&&(h=""),c){var C=new RegExp("^"+x.join("|"),"g");if(x.length&&C.test(c))c=c.match(C)[0],h="",o=1;else{var S=c+"";c+="",c=parseFloat(c.replace(",",".")),c=isNaN(c)?l:c;var T=S.replace(c,"");(0,D.indexOf)(f,T)>=0&&(h=T)}}}return!y&&!(0,D.isUndefined)(g)&&g!==""&&(c=c>g?g:c),!_&&!(0,D.isUndefined)(m)&&m!==""&&(c=c<m?m:c),{force:o,value:c,unit:h}},r.prototype.render=function(){jp.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},r}(jp);const jO=RO;RO.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var qF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YF=function(n){qF(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,o=t.value,i=t.unit;return!(0,D.isUndefined)(o)&&o!==""?o+i:e.get("default")},r.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,o=e.model,i=this.getModelValue(),s=new jO({contClass:"".concat(t,"field-int"),type:"number",model:o,ppfx:t});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,o.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=s.el}return this.input},r}($i);const XF=YF;var JF=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ZF=function(n){JF(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,o=e.clsField;return'<div class="'.concat(o,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,o=e.em,i=t.get("name"),s=t.get("options")||[],l=[],c="<select>";s.forEach(function(g){var m="",y,_,x;(0,D.isString)(g)?(y=g,_=g):(y=g.name||g.label||g.value,_="".concat((0,D.isUndefined)(g.value)?g.id:g.value).replace(/"/g,"&quot;"),x=g.style?g.style.replace(/"/g,"&quot;"):"",m+=x?' style="'.concat(x,'"'):"");var C=o.t("traitManager.traits.options.".concat(i,".").concat(_))||y;c+='<option value="'.concat(_,'"').concat(m,">").concat(C,"</option>"),l.push(_)}),c+="</select>",this.$input=(0,pr.default)(c);var f=t.getTargetValue(),h=l.indexOf(f)>=0?f:t.get("default");!(0,D.isUndefined)(h)&&this.$input.val(h)}return this.$input.get(0)},r}($i);const QF=ZF;var eV=$t(754),tV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ex="data-categories",tx="data-no-categories",IO=function(n){tV(r,n);function r(e,t){var o=n.call(this,e)||this;o.reuseView=!0,o.renderedCategories=new Map,o.itemsView=t;var i=e.config||{};o.config=i;var s=e.editor;o.em=s;var l=i.pStylePrefix||"";return o.ppfx=l,o.pfx=l+i.stylePrefix||"",o.className="".concat(o.pfx,"traits"),o.traitContClass="".concat(l,"traits-c"),o.classNoCat="".concat(l,"traits-empty-c"),o.catsClass="".concat(l,"trait-categories"),o.collection=new dp([],{em:s}),o.listenTo(s,"component:toggled",o.updatedCollection),o.updatedCollection(),o}return r.prototype.updatedCollection=function(){var e=this,t=e.ppfx,o=e.em,i=o.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=(i==null?void 0:i.traits)||new dp([],{em:o}),this.render()},r.prototype.add=function(e,t){var o=this,i=o.config,s=o.renderedCategories,l=this.itemView,c=e.get(this.itemType);this.itemsView&&this.itemsView[c]&&(l=this.itemsView[c]);var f=new l({config:i,model:e,attributes:e.get("attributes")}),h=f.render().el,g=e.parent.initCategory(e);if(g){var m=g.getId(),y=this.getCategoriesEl(),_=s.get(m);!_&&y&&(_=new wO({model:g},i,"trait").render(),s.set(m,_),y.appendChild(_.el)),_==null||_.append(h);return}t?t.appendChild(h):this.append(h)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(ex,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(tx,"]"))),this.traitsEl},r.prototype.append=function(e){var t=this.getTraitsEl();t==null||t.appendChild(e)},r.prototype.render=function(){var e=this,t=this,o=t.el,i=t.ppfx,s=t.catsClass,l=t.traitContClass,c=t.classNoCat,f=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,o.innerHTML=`
      <div class="`.concat(s,'" ').concat(ex,`></div>
      <div class="`).concat(c," ").concat(l,'" ').concat(tx,`></div>
    `),this.collection.forEach(function(g){return e.add(g,f)}),this.append(f);var h="".concat(l,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(h),this.rendered=!0,this},r}(eV.A);const rx=IO;IO.prototype.itemView=$i;var rV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nV=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},oV=function(n){rV(r,n);function r(e){var t=n.call(this,e,"TraitManager",NF)||this;t.TraitsView=rx,t.events=up,t.state=new Xe.Kx({traits:[]}),t.types={text:$i,number:XF,select:QF,checkbox:VF,color:KF,button:jF};var o=t,i=o.state,s=o.config,l=o.events,c=s.pStylePrefix;c&&(s.stylePrefix="".concat(c).concat(s.stylePrefix)),(0,D.bindAll)(t,"__onSelect");var f=(0,D.debounce)(function(){return t.__upSel()},0),h=(0,D.debounce)(function(){return t.__onUp()},0);return i.listenTo(e,"component:toggled",f),i.listenTo(e,l.value,h),i.on("change:traits",t.__onSelect),t.debounced=[f,h],t}return r.prototype.select=function(e){var t=(e==null?void 0:e.getTraits())||[];this.state.set({component:e,traits:t}),this.__trgCustom()},r.prototype.getCategories=function(){var e,t=this.getComponent(),o=((e=t==null?void 0:t.traits.categories)===null||e===void 0?void 0:e.models)||[];return nV([],o,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(e){return iO(e||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(e,t){var o=this.getType("text");this.types[e]=o.extend(t)},r.prototype.getType=function(e){return this.getTypes()[e]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var e=this.view,t=this.em;return e=new rx({el:e==null?void 0:e.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var e=this,t=e.em,o=e.events,i=e.state,s=i.attributes,l=s.component,c=s.traits;t.trigger(o.select,{component:l,traits:c})},r.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,o=t.em,i=t.events,s=t.__ctn;this.__ctn=s||e.container,o.trigger(i.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(oo);const iV=oV;var aV={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const sV=aV;var lV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uV=function(n){lV(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.items=[],t.opt=e;var o=e.config||{};t.config=o,t.module=e.module,t.parentView=e.parentView;var i=o.stylePrefix||"",s=o.pStylePrefix||"",l=t.collection;t.listenTo(l,"add",t.addTo),t.listenTo(l,"reset resetNavigator",t.render),t.listenTo(l,"remove",t.removeChildren),t.className="".concat(i,"layers");var c=o.em;if(o.sortable&&!t.opt.sorter){var f=c.Utils;t.opt.sorter=new f.Sorter({container:o.sortContainer||t.el,containerSel:".".concat(t.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:s,pfx:i,em:c})}return t.$el.data("collection",l),e.parent&&t.$el.data("model",e.parent),t}return r.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,o){var i=this,s=i.parentView,l=i.opt,c=i.config,f=i.el,h=l.ItemView,g=l.opened,m=l.module,y=l.level,_=l.sorter,x=e.viewLayer||new h({ItemView:h,level:y,model:e,parentView:s,config:c,sorter:_,opened:g,module:m}),C=x.render().el;if(t)t.appendChild(C);else{var S=f,T=S.childNodes;if((0,D.isUndefined)(o))S.appendChild(C);else{var E=T.length==o;E&&o--,E||!T.length?S.appendChild(C):S.insertBefore(C,T[o])}}return this.items.push(x),C},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xe.Ss.prototype.remove.apply(this,e),this.items.map(function(o){return o.remove()}),this},r.prototype.render=function(){var e=this,t=this,o=t.el,i=t.module,s=document.createDocumentFragment();return o.innerHTML="",this.collection.map(function(l){return i.__getLayerFromComponent(l)}).forEach(function(l){return e.addToCollection(l,s)}),o.appendChild(s),o.className=this.className,this},r}(Xe.Ss);const cV=uV;var ag=$t(570),fV={stylePrefix:"com-",defaults:{},strict:!0};const dV=fV;var pV=$t(242),hV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ip=function(){return Ip=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ip.apply(this,arguments)},nx=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},ox=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],FO={preserveSelected:1},VO=function(n){return function(r){return n.trigger("".concat(Qy,":start"),r)}},UO=function(n){return function(r){return n.trigger(Qy,r)}},zO=function(n,r,e){return e===void 0&&(e={}),function(t,o,i){r.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),n.setSelected(r),r[0].emitUpdate(),n.trigger("".concat(Qy,":end"),i),setTimeout(function(){return n.runDefault(FO)}),(e.altMode||i.cancelled)&&n.set("_cmpDrag",1)}},vV=function(n){hV(r,n);function r(e){var t=n.call(this,e,"Commands",dV)||this;t.CommandAbstract=ag.default,t.defaultCommands={},t.commands={},t.active={},t.events=pV.A;var o=t.config,i=o.pStylePrefix,s=t.defaultCommands;i&&(o.stylePrefix=i+o.stylePrefix),Object.keys(o.defaults).forEach(function(c){var f=o.defaults[c];f.id&&t.add(f.id,f)}),s["tlb-delete"]={run:function(c){return c.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(c){c.runCommand("core:copy"),c.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(c,f,h){var g;h===void 0&&(h={});var m=c.getModel(),y=h.event,_=h.target,x=_?[_]:nx([],c.getSelectedAll(),!0),C=x.map(function(U){var R,W;return((W=(R=U.delegate)===null||R===void 0?void 0:R.move)===null||W===void 0?void 0:W.call(R,U))||U}).filter(Boolean),S=C[C.length-1],T=(y==null?void 0:y.type)==="dragstart",E=["absolute","translate"];if(!(S!=null&&S.get("draggable")))return m.logWarning("The element is not draggable");var N=S.get("dmode")||m.get("dmode"),K=function(){return m.stopDefault(FO)},re=(0,D.includes)(E,N);C.forEach(function(U){return U.trigger("disable",{fromMove:!0})}),T?setTimeout(K,0):K();var ue=VO(m),Q=UO(m),$=zO(m,C,{altMode:re});if(re)c.runCommand("core:component-drag",{guidesInfo:1,mode:N,target:S,onStart:ue,onDrag:Q,onEnd:$,event:y});else{T&&y.dataTransfer.setDragImage((g=S.view)===null||g===void 0?void 0:g.el,0,0);var te=c.Commands.get("move-comp");te.onStart=ue,te.onDrag=Q,te.onEndMoveFromModel=$,te.initSorterFromModels(C)}C.filter(function(U){return U.get("selectable")}).forEach(function(U){return U.set("status","freezed-selected")})}},s["core:undo"]=function(c){return c.UndoManager.undo()},s["core:redo"]=function(c){return c.UndoManager.redo()},ox.forEach(function(c){var f=c[2],h=$t(585)("./".concat(c[1])).default,g="core:".concat(c[0]);s[g]=h,f&&(s[f]=h,["run","stop"].forEach(function(m){e.on("".concat(m,":").concat(f),function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];return e.trigger.apply(e,nx(["".concat(m,":").concat(g)],y,!1))})}))}),o.model=e.Canvas;for(var l in s)t.add(l,s[l]);return t}return r.prototype.add=function(e,t){var o=(0,D.isFunction)(t)?{run:t}:t;return o.stop||(o.noStop=!0),delete o.initialize,o.id=e,this.commands[e]=ag.default.extend(o),this},r.prototype.get=function(e){var t=this.commands[e];return(0,D.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},r.prototype.extend=function(e,t){t===void 0&&(t={});var o=this.get(e);if(o){var i=Ip(Ip({},o.constructor.prototype),t);this.add(e,i);var s=ox.filter(function(l){return"core:".concat(l[0])===e&&l[2]})[0];s&&this.add(s[2],i)}return this},r.prototype.has=function(e){return!!this.commands[e]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},r.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},r.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(e,t){t===void 0&&(t={});var o;if(e&&e.run){var i=this,s=i.em,l=i.config,c=e.id,f=s.Editor;(!this.isActive(c)||t.force||!l.strict)&&(o=f&&e.callRun(f,t),c&&e.stop&&!e.noStop&&!t.abort&&(this.active[c]=o))}return o},r.prototype.stopCommand=function(e,t){t===void 0&&(t={});var o;if(e&&e.run){var i=this,s=i.em,l=i.config,c=e.id,f=s.Editor;(this.isActive(c)||t.force||!l.strict)&&(c&&delete this.active[c],o=e.callStop(f,t))}return o},r.prototype.create=function(e){e.stop||(e.noStop=!0);var t=ag.default.extend(e);return new t(this.config)},r.prototype.__onRun=function(e,t){var o=this,i=o.em,s=o.events;i.on("".concat(s.runCommand).concat(e),t)},r.prototype.__onStop=function(e,t){var o=this,i=o.em,s=o.events;i.on("".concat(s.stopCommand).concat(e),t)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(oo);const gV=vV;var mV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ix="contentEditable",ud="data-toggle-move",yV=function(n){mV(r,n);function r(e){var t=n.call(this,e)||this;(0,D.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var o=t,i=o.model,s=o.pfx,l=o.ppfx,c=i.get("type")||"default";return t.className="".concat(s,"layer ").concat(s,"layer__t-").concat(c," no-select ").concat(l,"two-color"),t.inputNameCls="".concat(l,"layer-name"),t.clsTitleC="".concat(s,"layer-title-c"),t.clsTitle="".concat(s,"layer-title"),t.clsCaret="".concat(s,"layer-caret"),t.clsCount="".concat(s,"layer-count"),t.clsMove="".concat(s,"layer-move"),t.clsChildren="".concat(s,"layer-children"),t.clsNoChild="".concat(s,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return r.prototype.events=function(){var e;return e={},e["mousedown [".concat(ud,"]")]="startSort",e["touchstart [".concat(ud,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},r.prototype.template=function(e){var t=this,o=t.pfx,i=t.ppfx,s=t.config,l=t.clsNoEdit,c=t.module,f=t.opt,h=t.em,g=s.hidable,m=c.getComponents(e).length,y=m?"":this.clsNoChild,_="".concat(this.clsTitle," ").concat(y),x="".concat(this.clsTitleC),C="".concat(this.inputNameCls," ").concat(l," ").concat(i,"no-app"),S=f.level||0,T="".concat(S*10,"px"),E=e.getName(),N=e.getIcon(),K="".concat(o,"layer"),re=(h==null?void 0:h.getConfig()).icons,ue=re,Q=ue.move,$=ue.eye,te=ue.eyeOff,U=ue.chevron;return`
      <div class="`.concat(o,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(o,`layer-item-left">
          `).concat(g?'<i class="'.concat(o,`layer-vis" data-toggle-visible>
                <i class="`).concat(o,'layer-vis-on">').concat($,`</i>
                <i class="`).concat(o,'layer-vis-off">').concat(te,`</i>
              </i>`):"",`
          <div class="`).concat(x,`">
            <div class="`).concat(_,'" style="padding-left: ').concat(T,`">
              <div class="`).concat(o,'layer-title-inn" title="').concat(E,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(U,`</i>
                  `).concat(N?'<span class="'.concat(K,'__icon">').concat(N,"</span>"):"",`
                <span class="`).concat(C,'" data-name>').concat(E,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(o,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(ud,">").concat(Q||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var e=this,t=this,o=t.model,i=t.config,s=i.onInit,l=o.components();this.listenTo(l,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(c){return e.listenTo(o,c[0],c[1])}),this.$el.data("model",o),this.$el.data("collection",l),o.viewLayer=this,s.bind(this)({component:o,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var e=this,t=e.pfx,o=e.model,i=e.module,s="".concat(t,"layer-hidden"),l=!i.isVisible(o),c=l?"addClass":"removeClass";this.$el[c](s),this.getVisibilityEl()[c]("".concat(t,"layer-off"))},r.prototype.updateMove=function(){var e=this,t=e.model,o=e.config,i=this.getItemContainer().find("[".concat(ud,"]"))[0];if(i){var s=t.get("draggable")&&o.sortable;i.style.display=s?"":"none"}},r.prototype.toggleVisibility=function(e){e==null||e.stopImmediatePropagation();var t=this,o=t.module,i=t.model;o.setVisible(i,!o.isVisible(i))},r.prototype.handleEdit=function(e){e==null||e.stopPropagation();var t=this,o=t.em,i=t.$el,s=t.clsNoEdit,l=t.clsEdit,c=this.getInputName();c[ix]="true",c.focus(),document.execCommand("selectAll",!1),o.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(s).addClass(l)},r.prototype.handleEditKey=function(e){e.stopPropagation(),((0,et.v$)(e)||(0,et.Ci)(e))&&this.handleEditEnd(e)},r.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var t=this,o=t.em,i=t.$el,s=t.clsNoEdit,l=t.clsEdit,c=t.model,f=this.getInputName(),h=f.textContent;f.scrollLeft=0,f[ix]="false",c.setName(h),o.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(s).removeClass(l),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var e=this,t=e.$el,o=e.model,i=e.pfx,s="open",l="".concat(i,"layer-open"),c=this.getCaret();this.module.isOpen(o)?(t.addClass(s),c.addClass(l)):(t.removeClass(s),c.removeClass(l))},r.prototype.toggleOpening=function(e){var t=this,o=t.model,i=t.module;e==null||e.stopImmediatePropagation(),o.get("components").length&&i.setOpen(o,!i.isOpen(o))},r.prototype.handleSelect=function(e){e==null||e.stopPropagation();var t=this,o=t.module,i=t.model;o.setLayerData(i,{selected:!0},{event:e})},r.prototype.handleHover=function(e){e==null||e.stopPropagation();var t=this,o=t.module,i=t.model;o.setLayerData(i,{hovered:!0})},r.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var t=this,o=t.module,i=t.model;o.setLayerData(i,{hovered:!1})},r.prototype.startSort=function(e){var t,o,i;e.stopPropagation();var s=this,l=s.em,c=s.sorter,f=s.model;if(!(e.button&&e.button!==0)&&c){var h=((o=(t=f.delegate)===null||t===void 0?void 0:t.move)===null||o===void 0?void 0:o.call(t,f))||f;c.onStart=VO(l),c.onMoveClb=UO(l),c.onEndMove=zO(l,[h]);var g=((i=h.viewLayer)===null||i===void 0?void 0:i.el)||e.target;c.startSort(g)}},r.prototype.updateStatus=function(){Vr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var e=this,t=e.model,o=e.clsNoChild,i=e.module,s=i.getComponents(t).length,l=this.getItemContainer(),c=l.find(".".concat(this.clsTitle)),f=l.find("[data-count]");c[s?"removeClass":"addClass"](o),f.html("".concat(s||"")),!s&&i.setOpen(t,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(e){var t,o=(0,D.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;o&&(this.stopListening(),this.model=o,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},r.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xe.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var e=this,t=e.model,o=e.config,i=e.pfx,s=e.ppfx,l=e.opt,c=e.sorter;this.__clearItems();var f=l.opened,h=l.module,g=l.ItemView,m=!h.__isLayerable(t),y=this.$el.empty(),_=l.level+1;delete this.inputName,this.items=new cV({ItemView:g,collection:t.get("components"),config:o,sorter:c,opened:f,parentView:this,parent:t,level:_,module:h});var x=this.items.render().$el;return!o.showWrapper&&_===1?y.append(x):(y.html(this.template(t)),y.find(".".concat(this.clsChildren)).append(x)),!h.isVisible(t)&&(this.className+=" ".concat(i,"hide")),m&&(this.className+=" ".concat(s,"hidden")),y.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var e=this,t=e.model,o=e.config,i=e.el,s=o.onRender,l={component:t,el:i};s.bind(this)(l),this.em.trigger("layer:render",l)},r}(Xe.Ss);const wV=yV;var _V=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vm=function(){return Vm=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Vm.apply(this,arguments)},BO="layer",i0="".concat(BO,":"),HO="".concat(i0,"root"),WO="".concat(i0,"component"),bV="".concat(i0,"custom"),xV={all:BO,root:HO,component:WO,custom:bV},sg={mediaText:""},CV=["open","status","locked","custom-name","components","classes"].map(function(n){return"".concat(wn.I.update,":").concat(n)}).join(" "),SV=function(n){return n===void 0&&(n={}),(n.display||"").trim().indexOf("none")===0},OV=function(n){_V(r,n);function r(e){var t=n.call(this,e,"LayerManager",sV)||this;return t.events=xV,(0,D.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new Ua.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return r.prototype.onLoad=function(){var e=this,t=this,o=t.em,i=t.config,s=t.model;s.listenTo(o,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(o,CV,this.__onComponent),this.componentChanged(),s.listenToOnce(o,"load",function(){e.setRoot(i.root),e.__appendTo()})},r.prototype.setRoot=function(e){var t=this.em.getWrapper(),o=(0,Ne.isComponent)(e)?e:t;e&&(0,D.isString)(e)&&(0,Ne.hasWin)()&&(o=t.find(e)[0]||t);var i=this.__getLayerFromComponent(o);return this.model.set("root",i),i},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(e){var t=this;return e.components().map(function(o){return t.__getLayerFromComponent(o)}).filter(function(o){return t.__isLayerable(o)})},r.prototype.setOpen=function(e,t){e.set("open",t)},r.prototype.isOpen=function(e){return!!e.get("open")},r.prototype.setVisible=function(e,t){var o="__prev-display",i=e.getStyle(sg),s=i.display;if(t){var l=e.get(o);delete i.display,l&&(i.display=l,e.unset(o))}else s&&e.set(o,s),i.display="none";e.setStyle(i,sg),this.updateLayer(e),this.em.trigger("component:toggled")},r.prototype.isVisible=function(e){return!SV(e.getStyle(sg))},r.prototype.setLocked=function(e,t){e.set("locked",t)},r.prototype.isLocked=function(e){return!!e.get("locked")},r.prototype.setName=function(e,t){e.set("custom-name",t)},r.prototype.getName=function(e){return e.getName()},r.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},r.prototype.setLayerData=function(e,t,o){var i;o===void 0&&(o={});var s=this,l=s.em,c=s.config,f=t.open,h=t.selected,g=t.hovered,m=t.visible,y=t.locked,_=t.name,x=Vm({fromLayers:!0},o);if((0,Ne.isDef)(f)&&this.setOpen(e,f),(0,Ne.isDef)(h))if(h){l.setSelected(e,x);var C=c.scrollCanvas;C&&((i=e.views)===null||i===void 0||i.forEach(function(S){return S.scrollIntoView(C)}))}else l.removeSelected(e,x);(0,Ne.isDef)(g)&&c.showHover&&(g?l.setHovered(e,x):l.setHovered(null,x)),(0,Ne.isDef)(m)&&m!==this.isVisible(e)&&this.setVisible(e,m),(0,Ne.isDef)(y)&&this.setLocked(e,y),(0,Ne.isDef)(_)&&this.setName(e,_)},r.prototype.componentChanged=function(e,t){var o;if(t===void 0&&(t={}),!t.fromLayers){var i=this,s=i.em,l=i.config,c=l.scrollLayers,f=this.model.get("opened"),h=s.getSelected(),g=h==null?void 0:h.parent();for(var m in f)f[m].set("open",!1),delete f[m];for(;g;)g.set("open",!0),f[g.cid]=g,g=g.parent();if(h&&c){var y=(o=h.viewLayer)===null||o===void 0?void 0:o.el;y==null||y.scrollIntoView(c)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var e,t,o=this,i=o.config,s=o.model,l=wV.extend(i.extend);return this.view=new l({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:l,level:0,config:i,opened:s.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},r.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},r.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(HO,t),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(e){var t,o;return((o=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||o===void 0?void 0:o.call(t,e))||e},r.prototype.__onComponent=function(e){this.updateLayer(e)},r.prototype.__isLayerable=function(e){var t=e.tagName,o=this.config.hideTextnode,i=!o||!e.isInstanceOf("textnode")&&t!=="br";return i&&e.get("layerable")},r.prototype.__trgCustom=function(e){var t=this,o=t.__ctn,i=t.em,s=t.events;this.__ctn=o||(e==null?void 0:e.container),i.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(e,t){this.em.trigger(WO,e,t)},r}(oo);const EV=OV;var TV={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const PV=TV;var kV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$O=function(n){kV(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(Xe.Kx);const Um=$O;$O.prototype.idAttribute="src";var AV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fp=function(){return Fp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Fp.apply(this,arguments)},LV=function(n){AV(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return Fp(Fp({},Um.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(Um);const MV=LV;var NV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DV=function(n){NV(r,n);function r(e){var t=n.call(this,e)||this;t.options=e,t.collection=e.collection;var o=e.config||{};t.config=o,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.em=o.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var i=t.init&&t.init.bind(t);return i&&i(e),t}return r.prototype.__getBhv=function(){var e=this.em,t=e==null?void 0:e.Assets;return(t==null?void 0:t.__getBehaviour())||{}},r.prototype.template=function(e,t){var o=this.pfx;return`
      <div class="`.concat(o,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(o,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(o,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,D.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},r}(Xe.Ss);const RV=DV;var jV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ax=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},KO=function(n){jV(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getPreview=function(){var e=this,t=e.pfx,o=e.ppfx,i=e.model,s=i.get("src");return Jn(sx||(sx=ax([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,s,t,o)},r.prototype.getInfo=function(){var e=this,t=e.pfx,o=e.model,i=o.get("name"),s=o.get("width"),l=o.get("height"),c=o.get("unitDim"),f=s&&l?"".concat(s,"x").concat(l).concat(c):"";return i=i||o.getFilename(),Jn(lx||(lx=ax([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,i,t,f)},r.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},r.prototype.onClick=function(){var e=this,t=e.model,o=e.pfx,i=this.__getBhv().select,s=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(o+"highlight"),(0,D.isFunction)(i)?i(t,!1):(0,D.isFunction)(s)?s(t):this.updateTarget(l.target)},r.prototype.onDblClick=function(){var e=this,t=e.em,o=e.model,i=this.__getBhv().select,s=this.config.onDblClick,l=this.collection,c=l.target,f=l.onSelect;(0,D.isFunction)(i)?i(o,!0):(0,D.isFunction)(s)?s(o):(this.updateTarget(c),t==null||t.Modal.close()),(0,D.isFunction)(f)&&f(o)},r.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(RV);const IV=KO;KO.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var sx,lx,Vp=function(){return Vp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Vp.apply(this,arguments)},FV={types:[],initialize:function(n,r){var e=this;r===void 0&&(r={});var t=r.em;this.em=t,this.opts=r,this.model=function(i,s){i===void 0&&(i={}),s===void 0&&(s={});var l,c,f;if(i&&i.type){var h=e.getBaseType();f=e.getType(i.type),l=f?f.model:h.model,c=f?f.view:h.view}else{var g=e.recognizeType(i);f=g.type,l=f.model,c=f.view,i=g.attributes}var m=new l(i,Vp(Vp({},s),{em:t}));return m.typeView=c,e.model.prototype=l.prototype,m};var o=this.init&&this.init.bind(this);o&&o()},recognizeType:function(n){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e],o=t.isType(n);if(o=typeof o=="boolean"&&o?{type:t.id}:o,o)return{type:t,attributes:o}}return{type:this.getBaseType(),attributes:n}},getBaseType:function(){var n=this.getTypes();return n[n.length-1]},getTypes:function(){return this.types},getType:function(n){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e];if(t.id===n)return t}},addType:function(n,r){var e=this.getType(n),t=this.getBaseType(),o=e?e.model:t.model,i=e?e.view:t.view,s=r.model,l=r.view,c=r.isType;s=s instanceof Xe.Kx||(0,D.isFunction)(s)?s:o.extend(s||{}),l=l instanceof Xe.Ss||(0,D.isFunction)(l)?l:i.extend(l||{}),this.extendViewApi&&!r.model&&!r.view&&(l=l.extend(r)),e?(e.model=s,e.view=l,e.isType=c||e.isType):(r.id=n,r.model=s,r.view=l,r.isType=c||function(f){if(f&&f.type==n)return!0},this.getTypes().unshift(r))}};const GO=FV;var VV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),UV=Xe.pM.extend(GO),qO=function(n){VV(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(UV);const lg=qO;qO.prototype.types=[{id:"image",model:MV,view:IV,isType:function(n){return typeof n=="string"?{type:"image",src:n}:n}}];var zm;(function(n){n.add="asset:add",n.remove="asset:remove",n.removeBefore="asset:remove:before",n.update="asset:update",n.open="asset:open",n.close="asset:close",n.uploadStart="asset:upload:start",n.uploadEnd="asset:upload:end",n.uploadError="asset:upload:error",n.uploadResponse="asset:upload:response",n.custom="asset:custom",n.all="asset"})(zm||(zm={}));const ux=zm;var zV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YO=function(n){zV(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var o=t.collection;return t.listenTo(o,"reset",t.renderAssets),t.listenTo(o,"add",t.addToAsset),t.listenTo(o,"remove",t.removedAsset),t.listenTo(o,"deselectAll",t.deselectAll),t}return r.prototype.template=function(e){var t=e.pfx,o=e.ppfx,i=e.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(o,"field ").concat(t,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(o,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),o=t&&t.value.trim(),i=this.config.handleAdd;if(o){t.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),i?i.bind(this)(o):this.options.globalCollection.add(o,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},r.prototype.addAsset=function(e,t){t===void 0&&(t=null);var o=t,i=this.collection,s=this.config,l=new e.typeView({model:e,collection:i,config:s}).render().el;if(o)o.appendChild(l);else{var c=this.getAssetsEl();c&&c.insertBefore(l,c.firstChild)}return l},r.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var o=this.config.noAssets;o&&t.append(o)}},r.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},r.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),o=this.$el.find(".".concat(this.pfx,"assets"));o.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return e.addAsset(i,t)}),o.append(t)},r.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(Xe.Ss);const BV=YO;YO.prototype.events={submit:"handleSubmit"};var HV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WV=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},$V=function(n){HV(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;t.options=e;var o=e.config||{};t.module=e.module,t.config=o,t.em=t.config.em,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=o.disableUpload!==void 0?o.disableUpload:!o.upload&&!o.embedAsBase64,t.multiUpload=o.multiUpload!==void 0?o.multiUpload:!0;var i=o.uploadFile;return i?t.uploadFile=i.bind(t):!o.upload&&o.embedAsBase64&&(t.uploadFile=r.embedAsBase64),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.pfx,o=e.title,i=e.uploadId,s=e.disabled,l=e.multiUpload;return Jn(cx||(cx=WV([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,o,i,s?"disabled":"",l?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var e=this.module;e==null||e.__propEv(e.events.uploadStart)},r.prototype.onUploadEnd=function(e){var t=this,o=t.$el,i=t.module;i==null||i.__propEv(i.events.uploadEnd,e);var s=o.find("input");s&&s.val("")},r.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t==null||t.__propEv(t.events.uploadError,e)},r.prototype.onUploadResponse=function(e,t){var o=this,i=o.module,s=o.config,l=o.target,c;try{c=typeof e=="string"?JSON.parse(e):e}catch{c=e}i==null||i.__propEv(i.events.uploadResponse,c),s.autoAdd&&l&&l.add(c.data,{at:0}),this.onUploadEnd(e),t==null||t(c)},r.prototype.uploadFile=function(e,t){var o=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s=this.config,l=s.beforeUpload,c=l&&l(i);if(c!==!1){var f=new FormData,h=s.params,g=s.customFetch,m=s.fetchOptions;for(var y in h)f.append(y,h[y]);if(this.multiUpload)for(var _=0;_<i.length;_++)f.append("".concat(s.uploadName).concat(s.multiUploadSuffix),i[_]);else i.length&&f.append(s.uploadName,i[0]);var x=s.upload,C=s.headers,S="X-Requested-With";if(typeof C[S]>"u"&&(C[S]="XMLHttpRequest"),x){this.onUploadStart();var T={method:"post",credentials:s.credentials||"include",headers:C,body:f},E=(m==null?void 0:m(T))||T,N=g?g(x,E):AO(x,E).then(function(K){return(K.status/200|0)==1?K.text():K.text().then(function(re){return Promise.reject(re)})});return N.then(function(K){return o.onUploadResponse(K,t)}).catch(function(K){return o.onUploadError(K)})}}},r.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(o){t.className="",o.preventDefault(),e.uploadFile(o)})}},r.prototype.initDropzone=function(e){var t=this,o=0,i=this.config,s=e.model,l=e.el,c=s.Editor,f=s.Canvas.getBody(),h=this.ppfx,g="".concat(h,"dropzone-active"),m="".concat(h,"dropzone"),y=function(){l.className=l.className.replace(g,"").trim(),o=0},_=function(){return o||(l.className+=" ".concat(g),o=1),!1},x=function(){return y(),!1},C=function(S){if(y(),S.preventDefault(),S.stopPropagation(),t.uploadFile(S),i.openAssetsOnDrop&&c){var T=c.getSelected();c.runCommand("open-assets",{target:T,onSelect:function(){c.Modal.close(),c.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(m,'">').concat(i.dropzoneContent,"</div>")),y(),"draggable"in l&&[l,f].forEach(function(S){S.ondragover=_,S.ondragleave=x,S.ondrop=C})},r.prototype.render=function(){var e=this,t=e.$el,o=e.pfx,i=e.em;return t.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:o})),this.initDrop(),t.attr("class",o+"file-uploader"),this},r.embedAsBase64=function(e,t){var o=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var l=[],c=/^(.+)\/(.+)$/,f=function(y){var _=new Promise(function(x,C){var S=new FileReader;S.addEventListener("load",function(T){var E,N=y.name,K=c.exec(y.type);if(K?E=K[1]:E=y.type,E==="image"){var re={src:S.result,name:N,type:E,height:0,width:0},ue=new Image;ue.addEventListener("error",function(Q){C(Q)}),ue.addEventListener("load",function(){re.height=ue.height,re.width=ue.width,x(re)}),ue.src=re.src}else x(E?{src:S.result,name:N,type:E}:S.result)}),S.addEventListener("error",function(T){C(T)}),S.addEventListener("abort",function(T){C("Aborted")}),S.readAsDataURL(y)});l.push(_)},h=0,g=i;h<g.length;h++){var m=g[h];f(m)}return Promise.all(l).then(function(y){s.data=y,o.onUploadResponse(s,t)},function(y){o.onUploadError(y)})},r}(Xe.Ss);const KV=$V;var cx,GV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cl=function(){return Cl=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Cl.apply(this,arguments)},fx=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},Wu="open-assets",qV=function(n){GV(r,n);function r(e){var t=n.call(this,e,"AssetManager",new lg([],e),ux,PV)||this;t.storageKey="assets",t.Asset=Um,t.Assets=lg,t.events=ux;var o=t,i=o.all,s=o.config;t.assetsVis=new lg([]);var l=s.pStylePrefix;return l&&(s.stylePrefix="".concat(l).concat(s.stylePrefix)),i.on("add",function(c){return t.getAllVisible().add(c)}),i.on("remove",function(c){return t.getAllVisible().remove(c)}),t.__onAllEvent=(0,D.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(Wu,Cl({types:["image"],select:function(){}},e))},r.prototype.close=function(){var e=this.em.Commands;e.stop(Wu)},r.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(Wu))},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},r.prototype.get=function(e){return this.all.where({src:e})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e)},r.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},r.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},r.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var o=this.__viewParams();o.fu=this.FileUploader(),this.am=new BV(Cl({},o)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(e,t){this.getAll().addType(e,t)},r.prototype.getType=function(e){return this.getAll().getType(e)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new KV(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,o=t.em,i=t.events;o.Commands.__onRun(Wu,function(){return e.__propEv(i.open)}),o.Commands.__onStop(Wu,function(){return e.__propEv(i.close)})},r.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},r.prototype.setTarget=function(e){this.assetsVis.target=e},r.prototype.onSelect=function(e){this.assetsVis.onSelect=e},r.prototype.onClick=function(e){this.config.onClick=e},r.prototype.onDblClick=function(e){this.config.onDblClick=e},r.prototype.__propEv=function(e){for(var t,o,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];(t=this.em).trigger.apply(t,fx([e],i,!1)),(o=this.getAll()).trigger.apply(o,fx([e],i,!1))},r.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(o,i){return e.remove(o,i)},select:function(o,i){var s=e.add(o);(0,D.isFunction)(t.select)&&t.select(s,i)},options:t.options||{}}},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Cl(Cl({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(e){return this._bhv||{}},r.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},r}(Ka);const YV=qV;var XV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),JV=function(n){XV(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e,t)||this,i=t.em,s={};o.em=i,e.frames||(s.component=e.component,s.styles=e.styles,["component","styles"].map(function(f){return o.unset(f)}));var l=e.frames||[s],c=new G1(i.Canvas,l);return c.page=o,o.set("frames",c),!o.getId()&&o.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(c),o}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(e){return this.set({name:e})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=Xe.Kx.prototype.toJSON.call(this,e),o=(0,D.result)(this,"defaults");return(0,D.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,D.forEach)(o,function(i,s){t[s]===i&&delete t[s]}),t},r}(Xe.Kx);const Bm=JV;var ZV=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Up=function(){return Up=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Up.apply(this,arguments)},QV=function(n){ZV(r,n);function r(e,t){var o=n.call(this,e)||this;return o.on("reset",o.onReset),o.on("remove",o.onRemove),o.model=function(i,s){return s===void 0&&(s={}),new Bm(i,Up(Up({},s),{em:t}))},o}return r.prototype.onReset=function(e,t){var o=this,i;(i=t==null?void 0:t.previousModels)===null||i===void 0||i.map(function(s){return o.onRemove(s)})},r.prototype.onRemove=function(e){e==null||e.onRemove()},r}(Xe.pM);const eU=QV;var tU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rU=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},dx="change:selected",px="main",nU=function(n){tU(r,n);function r(e){var t=n.call(this,e,"PageManager",new eU([],e),Tm)||this;t.events=Tm,t.storageKey="pages",(0,D.bindAll)(t,"_onPageChange");var o=new Ua.A({_undo:!0});return t.model=o,t.pages.on("reset",function(i){return i.at(0)&&t.select(i.at(0))}),t.pages.on("all",t.__onChange,t),o.on(dx,t._onPageChange),t}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return rU([],this.all.models,!0)},r.prototype.__onChange=function(e,t,o,i){var s=this,l=s.em,c=s.events,f=i||o;l.trigger(c.all,{event:e,page:t,options:f})},r.prototype.onLoad=function(){var e,t=this,o=t.pages,i=t.config,s=t.em,l={silent:!0},c=((e=i.pages)===null||e===void 0?void 0:e.map(function(h){return new Bm(h,{em:s,config:i})}))||[];o.add(c,l);var f=o.length?this._initPage():this.add({type:px},l);f&&this.select(f,l)},r.prototype._onPageChange=function(e,t,o){var i=this,s=i.em,l=i.events,c=s.Layers,f=t.getMainComponent();c&&f&&c.setRoot(f),s.trigger(l.select,t,e.previous("selected")),this.__onChange(dx,t,o)},r.prototype.postLoad=function(){var e=this,t=e.em,o=e.model,i=e.pages,s=t.UndoManager;s.add(o),s.add(i),i.on("add remove reset change",function(l,c,f){return t.changesUp(f||c)})},r.prototype.add=function(e,t){var o=this;t===void 0&&(t={});var i=this,s=i.em,l=i.events;e.id=e.id||this._createId();var c=function(){var f=o.pages.add(new Bm(e,{em:o.em,config:o.config}),t);return t.select&&o.select(f),f};return!t.silent&&s.trigger(l.addBefore,e,c,t),t.abort?void 0:c()},r.prototype.remove=function(e,t){var o=this;t===void 0&&(t={});var i=this,s=i.em,l=i.events,c=(0,D.isString)(e)?this.get(e):e,f=function(){return c&&o.pages.remove(c,t),c};return!t.silent&&s.trigger(l.removeBefore,c,f,t),!t.abort&&f()},r.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},r.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===px})[0]||e.at(0)},r.prototype.getAllWrappers=function(){var e=this.getAll();return(0,D.unique)((0,D.flatten)(e.map(function(t){return t.getAllFrames().map(function(o){return o.getComponent()})})))},r.prototype.select=function(e,t){t===void 0&&(t={});var o=this,i=o.em,s=o.model,l=o.events,c=(0,D.isString)(e)?this.get(e):e;return c&&(i.trigger(l.selectBefore,c,t),s.set("selected",c,t)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(o){return o.getFrames().initRefs()}),t},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var e=this.getAll(),t=e.length+16,o=this.getAllMap(),i;do i=(0,Ne.createId)(t);while(o[i]);return i},r}(Ka);const oU=nU;var ug={placeholder:"eg. Text here"};const iU={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:ug,alt:ug,title:ug,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var aU={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:iU},messagesAdd:void 0};const sU=aU;var Hm;(function(n){n.add="i18n:add",n.update="i18n:update",n.locale="i18n:locale"})(Hm||(Hm={}));const lU=Hm;var uU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cU=function(n){uU(r,n);function r(e){var t=n.call(this,e,"I18n",sU)||this;t.events=lU;var o=t.config.messagesAdd;return o&&t.addMessages(o),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return r.prototype.setLocale=function(e){var t=this,o=t.em,i=t.config,s=t.events;return o.trigger(s.locale,{value:e,valuePrev:i.locale}),i.locale=e,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(e,t){t===void 0&&(t={});var o=this.config.messages;return e&&!o[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?o[e]:o},r.prototype.setMessages=function(e){var t=this,o=t.em,i=t.config,s=t.events;return i.messages=e,o.trigger(s.update,e),this},r.prototype.addMessages=function(e){var t=this,o=t.em,i=t.events,s=t.config,l=s.messages;return o.trigger(i.add,e),this.setMessages((0,Ne.deepMerge)(l,e)),this},r.prototype.t=function(e,t){t===void 0&&(t={});var o=this.config,i=t.params||{},s=t.l||this.getLocale(),l=t.lFlb||o.localeFallback,c=this._getMsg(e,s,t);return c||(c=this._getMsg(e,l,t)),!c&&this._debug("'".concat(e,"' i18n key not found in '").concat(s,"' lang"),t),c=c&&(0,D.isString)(c)?this._addParams(c,i):c,c},r.prototype._localLang=function(){var e=(0,Ne.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},r.prototype._addParams=function(e,t){var o=new RegExp("{([\\w\\d-]*)}","g");return e.replace(o,function(i,s){return t[s]||""}).trim()},r.prototype._getMsg=function(e,t,o){o===void 0&&(o={});var i=this.getMessages(t,o);if(i){var s=i[e];return!s&&e.indexOf(".")>0&&(s=e.split(".").reduce(function(l,c){if(!(0,D.isUndefined)(l))return l[c]},i)),s}},r.prototype._debug=function(e,t){t===void 0&&(t={});var o=this,i=o.em,s=o.config;(t.debug||s.debug)&&i&&i.logWarning(e)},r.prototype.destroy=function(){},r}(oo);const fU=cU;var dU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),di=function(){return di=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},di.apply(this,arguments)},pU=function(){},hU=jo.F.Target,hx={id:"sorter-target",type:hU},vU=function(n){dU(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.initialize=function(e){e===void 0&&(e={}),this.opt=e||{},(0,D.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var t=e||{};this.elT=0,this.elL=0,this.borderOffset=t.borderOffset||10;var o=t.container;this.el=typeof o=="string"?document.querySelector(o):o,this.$el=(0,pr.default)(this.el),this.containerSel=t.containerSel||"div",this.itemSel=t.itemSel||"div",this.draggable=t.draggable||!0,this.nested=!!t.nested,this.pfx=t.pfx||"",this.ppfx=t.ppfx||"",this.freezeClass=t.freezeClass||this.pfx+"freezed",this.onStart=t.onStart||pU,this.onEndMove=t.onEndMove,this.customTarget=t.customTarget,this.onEnd=t.onEnd,this.direction=t.direction||"v",this.onMoveClb=t.onMove,this.relative=t.relative||!1,this.ignoreViewChildren=!!t.ignoreViewChildren,this.plh=t.placer,this.wmargin=t.wmargin||0,this.offTop=t.offsetTop||0,this.offLeft=t.offsetLeft||0,this.document=t.document||document,this.em=t.em,this.canvasRelative=!!t.canvasRelative,this.selectOnEnd=!t.avoidSelectOnEnd,this.scale=t.scale;var i=this.em;i!=null&&i.on&&(i.on(i.Canvas.events.refresh,this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,D.result)(this,"scale")||1},r.prototype.getContainerEl=function(e){if(e&&(this.el=e),!this.el){var t=this.opt.container;this.el=typeof t=="string"?document.querySelector(t):t,this.$el=(0,pr.default)(this.el)}return this.el},r.prototype.getDocuments=function(e){var t=this.em,o=e?e.ownerDocument:t==null?void 0:t.Canvas.getBody().ownerDocument,i=[document];return o&&i.push(o),i},r.prototype.updateOffset=function(){var e,t=((e=this.em)===null||e===void 0?void 0:e.get("canvasOffset"))||{};this.offTop=t.top,this.offLeft=t.left},r.prototype.setDropContent=function(e){delete this.dropModel,this.dropContent=e},r.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var o=t.Canvas,i=o.getDocument(),s=null;if(i.caretRangeFromPoint){var l=(0,et.G2)(e);s=i.caretRangeFromPoint(l.clientX,l.clientY)}else e.rangeParent&&(s=i.createRange(),s.setStart(e.rangeParent,e.rangeOffset));var c=o.getWindow().getSelection();o.getFrameEl().focus(),c==null||c.removeAllRanges(),s&&(c==null||c.addRange(s)),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(e,t){if(e){var o=e.getEl();o.contentEditable!=t&&(o.contentEditable=t)}},r.prototype.toggleSortCursor=function(e){var t=this.em,o=t==null?void 0:t.Canvas;o&&(e?o.startAutoscroll():o.stopAutoscroll())},r.prototype.setDragHelper=function(e,t){for(var o=t||"",i=e.cloneNode(!0),s=e.getBoundingClientRect(),l=getComputedStyle(e),c="",f=0;f<l.length;f++){var h=l[f];c+="".concat(h,":").concat(l.getPropertyValue(h),";")}if(document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",c),this.dragHelper=i,i.style.width="".concat(s.width,"px"),i.style.height="".concat(s.height,"px"),o&&this.moveDragHelper(o),this.em){var g=(0,pr.default)(this.em.Canvas.getBody().ownerDocument);g.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,pr.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(e){var t=e.target.ownerDocument;if(!(!this.dragHelper||!t)){var o=e.pageY,i=e.pageX,s=0,l=0,c=t.defaultView||t.parentWindow,f=c.frameElement,h=this.dragHelper.style;if(f){var g=f.getBoundingClientRect();s=g.top+document.documentElement.scrollTop,l=g.left+document.documentElement.scrollLeft,o=e.clientY,i=e.clientX}h.top=o+s+"px",h.left=i+l+"px"}},r.prototype.matches=function(e,t){return Ne.matches.call(e,t)},r.prototype.closest=function(e,t){if(e)for(var o=e.parentNode;o&&o.nodeType===1;){if(this.matches(o,t))return o;o=o.parentNode}},r.prototype.offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var e=this.pfx,t=document.createElement("div"),o=document.createElement("div");return t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",o.className=e+"placeholder-int",t.appendChild(o),t},r.prototype.startSort=function(e,t){var o,i;t===void 0&&(t={});var s=this,l=s.em,c=s.itemSel,f=s.containerSel,h=s.plh,g=this.getContainerEl(t.container),m=this.getDocuments(e),y;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,e&&!this.matches(e,"".concat(c,", ").concat(f))&&(e=this.closest(e,c)),this.sourceEl=e,h||(this.plh=this.createPlaceholder(),g.appendChild(this.plh)),e&&(y=this.getSourceModel(e),y!=null&&y.set&&y.set("status","freezed"),this.srcModel=y),(0,et.on)(g,"mousemove dragover",this.onMove),(0,et.on)(m,"mouseup dragend touchend",this.endMove),(0,et.on)(m,"keydown",this.rollback),this.onStart({sorter:this,target:y,parent:y&&((o=y.parent)===null||o===void 0?void 0:o.call(y)),index:y&&((i=y.index)===null||i===void 0?void 0:i.call(y))}),l==null||l.clearSelection(),this.toggleSortCursor(!0),l==null||l.trigger("sorter:drag:start",e,y)},r.prototype.getTargetModel=function(e){var t=e||this.target;return(0,pr.default)(t).data("model")},r.prototype.getSourceModel=function(e,t){var o=this,i=t===void 0?{}:t,s=i.target,l=i.avoidChildren,c=l===void 0?1:l,f=this,h=f.em,g=f.sourceEl,m=e||g,y=this,_=y.dropModel,x=y.dropContent,C=function(N){return N&&s&&N.opt&&N.opt.avoidChildren&&o.isTextableActive(N,s)};if(x&&h){if(C(_)&&(_=void 0),!_){var S=h.Components.getComponents(),T={avoidChildren:c,avoidStore:1,avoidUpdateStyle:1},E=S.add(x,di(di({},T),{temporary:!0}));if(_=S.remove(E,T),_=_ instanceof Array?_[0]:_,this.dropModel=_,C(_))return this.getSourceModel(m,{target:s,avoidChildren:0})}return _}return m&&(0,pr.default)(m).data("model")},r.prototype.selectTargetModel=function(e,t){if(!(e instanceof Xe.pM)&&!(t&&t===e)){var o=this.targetModel;if(o&&o!==this.srcModel&&o.set("status",""),e!=null&&e.set){var i=this.em.Canvas,s=jo.F.Select,l=jo.F.Hover,c=jo.F.Spacing;[s,l,c].forEach(function(f){return i.removeSpots({type:f})}),i.addSpot(di(di({},hx),{component:e})),e.set("status","selected-parent"),this.targetModel=e}}},r.prototype.onMove=function(e){var t=e,o=this,i=o.em,s=o.onMoveClb,l=o.plh,c=o.customTarget;this.moved=!0;var f=l.style.display;(!f||f==="none")&&(l.style.display="block");var h=this.offset(this.el);this.elT=this.wmargin?Math.abs(h.top):h.top,this.elL=this.wmargin?Math.abs(h.left):h.left;var g=e.pageY-this.elT+this.el.scrollTop,m=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&i){var y=i.Canvas.getMouseRelativeCanvas(e,{noScroll:1});m=y.x,g=y.y}this.rX=m,this.rY=g,this.eventMove=e;var _=this.getSourceModel(),x=c?c({sorter:this,event:e}):e.target,C=this.dimsFromTarget(x,m,g),S=this.target,T=S&&this.getTargetModel(S);if(this.selectTargetModel(T,_),T||(l.style.display="none"),!!S){this.lastDims=C;var E=this.findPosition(C,m,g);this.isTextableActive(_,T)?(this.activeTextModel=T,l.style.display="none",this.lastPos=E,this.updateTextViewCursorPosition(t)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=E.index||this.lastPos.method!=E.method)&&(this.movePlaceholder(this.plh,C,E,this.prevTargetDim),this.$plh||(this.$plh=(0,pr.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=E)),(0,D.isFunction)(s)&&s({event:e,target:_,parent:T,index:E.index+(E.method=="after"?1:0)}),i&&i.trigger("sorter:drag",{target:S,targetModel:T,sourceModel:_,dims:C,pos:E,x:m,y:g})}},r.prototype.isTextableActive=function(e,t){var o;return((o=e==null?void 0:e.get)===null||o===void 0?void 0:o.call(e,"textable"))&&(t==null?void 0:t.isInstanceOf("text"))},r.prototype.disableTextable=function(){var e=this.activeTextModel;e==null||e.getView().disableEditing(),this.setContentEditable(e,!1)},r.prototype.isInFlow=function(e,t){if(!e)return!1;t=t||document.body;var o=e;return o.offsetHeight,!!this.styleInFlow(o,t)},r.prototype.styleInFlow=function(e,t){if(!(0,et.ir)(e)){var o=e.style||{},i=(0,pr.default)(e),s=t&&(0,pr.default)(t);if(!(o.overflow&&o.overflow!=="visible")){var l=i.css("float");if(!(l&&l!=="none")&&!(s&&s.css("display")=="flex"&&s.css("flex-direction")!=="column")){switch(o.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(e,t){var o,i,s=this.lastPos,l=this.getTargetModel(e),c=this.getSourceModel(t,{target:l});t=(o=c==null?void 0:c.view)===null||o===void 0?void 0:o.el,e=(i=l==null?void 0:l.view)===null||i===void 0?void 0:i.el;var f={valid:!0,src:t,srcModel:c,trg:e,trgModel:l,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!t||!e)return f.valid=!1,f;var h=s?s.method==="after"?s.indexEl+1:s.indexEl:l.components().length,g=c.get("draggable");if((0,D.isFunction)(g)){var m=g(c,l,h);f.dragInfo=m,f.draggable=m,g=m}else g=g instanceof Array?g.join(", "):g,f.dragInfo=g,g=(0,D.isString)(g)?this.matches(e,g):g,f.draggable=g;var y=l.get("droppable");if((0,D.isFunction)(y)){var m=y(c,l,h);f.droppable=m,f.dropInfo=m,y=m}else y=y instanceof Xe.pM?1:y,y=y instanceof Array?y.join(", "):y,f.dropInfo=y,y=(0,D.isString)(y)?this.matches(t,y):y,y=g&&this.isTextableActive(c,l)?1:y,f.droppable=y;return(!y||!g)&&(f.valid=!1),f},r.prototype.dimsFromTarget=function(e,t,o){t===void 0&&(t=0),o===void 0&&(o=0);var i=this.em,s=[];if(!e||(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e))return s;if(this.prevTarget&&this.prevTarget!=e&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var l=this.validTarget(e);if(i&&i.trigger("sorter:drag:validation",l),!l.valid&&this.targetP)return this.dimsFromTarget(this.targetP,t,o);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(s=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,t,o)||!this.nested&&!this.cacheDims.length){var c=this.targetP;c&&this.validTarget(c).valid&&(s=this.cacheDimsP,this.target=c)}return delete this.lastPos,s},r.prototype.getTargetFromEl=function(e){var t=e,o,i=this.targetPrev,s=this.em,l=this.containerSel,c=this.itemSel;if(this.matches(t,"".concat(c,", ").concat(l))||(t=this.closest(t,c)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),i&&i!=t&&delete this.targetPrev,!this.targetPrev){o=this.closest(t,l);var f=this.validTarget(t);if(s&&s.trigger("sorter:drag:validation",f),!f.valid&&o)return this.getTargetFromEl(o);this.targetPrev=t}return this.nearElBorders(t)&&(o=this.closest(t,l),o&&this.validTarget(o).valid&&(t=o)),t},r.prototype.nearElBorders=function(e){var t=10,o=e.getBoundingClientRect(),i=e.ownerDocument.body,s=this.getCurrentPos(),l=s.x,c=s.y,f=o.top+i.scrollTop,h=o.left+i.scrollLeft,g=o.width,m=o.height;if(c<f+t||c>f+m-t||l<h+t||l>h+g-t)return 1},r.prototype.getCurrentPos=function(){var e=this.eventMove,t=(e==null?void 0:e.pageX)||0,o=(e==null?void 0:e.pageY)||0;return{x:t,y:o}},r.prototype.getDim=function(e){var t=this,o=t.em,i=t.canvasRelative,s=o==null?void 0:o.Canvas,l=s?s.getElementOffsets(e):{},c,f,h,g;if(i&&o){var m=s.getElementPos(e,{noScroll:1});c=m.top,f=m.left,h=m.height,g=m.width}else{var y=this.offset(e);c=this.relative?e.offsetTop:y.top-(this.wmargin?-1:1)*this.elT,f=this.relative?e.offsetLeft:y.left-(this.wmargin?-1:1)*this.elL,h=e.offsetHeight,g=e.offsetWidth}return{top:c,left:f,height:h,width:g,offsets:l}},r.prototype.getChildrenDim=function(e){var t=this,o=[];if(!e)return o;var i=this.getTargetModel(e);if(i&&i.view&&!this.ignoreViewChildren){var s=i.getCurrentView?i.getCurrentView():i.view;e=s.getChildrenContainer()}return(0,D.each)(e.children,function(l,c){var f=l,h=(0,Ne.getModel)(f,pr.default),g=h&&h.index?h.index():c;if(!(!(0,et.ir)(f)&&!t.matches(f,t.itemSel))){var m=t.getDim(f),y=t.direction,_;y=="v"?_=!0:y=="h"?_=!1:_=t.isInFlow(f,e),m.dir=_,m.el=f,m.indexEl=g,o.push(m)}}),o},r.prototype.nearBorders=function(e,t,o){var i=!1,s=this.borderOffset,l=t||0,c=o||0,f=e.top,h=e.left,g=e.height,m=e.width;return(f+s>c||c>f+g-s||h+s>l||l>h+m-s)&&(i=!0),i},r.prototype.findPosition=function(e,t,o){for(var i={index:0,indexEl:0,method:"before"},s=0,l=0,c=0,f=0,h=0,g=0,m=0,y,_=0,x=e.length;_<x;_++){y=e[_];var C=y.top,S=y.left,T=y.height,E=y.width;if(c=S+E,m=C+T,h=S+E/2,g=C+T/2,!(l&&S>l||f&&g>=f||s&&c<s))if(i.index=_,i.indexEl=y.indexEl,!y.dir)o<m&&(f=m),t<h?(l=h,i.method="before"):(s=h,i.method="after");else if(o<g){i.method="before";break}else i.method="after"}return i},r.prototype.movePlaceholder=function(e,t,o,i){var s=0,l=0,c=0,f="",h="",g="px",m=5,y=o.method,_=t[o.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),_){var x=_.top,C=_.left,S=_.height,T=_.width;_.dir?(f=T+g,h="auto",l=y=="before"?x-s:x+S-s,c=C):(f="auto",h=S-s*2+g,l=x+s,c=y=="before"?C-s:C+T-s,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested){e.style.display="none";return}if(i){var E=i.offsets||{},N=E.paddingTop||m,K=E.paddingLeft||m,re=E.borderTopWidth||0,ue=E.borderLeftWidth||0,Q=E.borderRightWidth||0,$=ue+Q;l=i.top+N+re,c=i.left+K+ue,f=parseInt("".concat(i.width))-K*2-$+g,h="auto"}}e.style.top=l+g,e.style.left=c+g,f&&(e.style.width=f),h&&(e.style.height=h)},r.prototype.parents=function(e){return e?[e].concat(this.parents(e.parent())):[]},r.prototype.sort=function(e,t){var o=e.parents.filter(function(c){return t.parents.includes(c)}),i=o[0];if(!i)return t.model.index()-e.model.index();var s=e.parents[e.parents.indexOf(i)-1],l=t.parents[t.parents.indexOf(i)-1];return l.index()-s.index()},r.prototype.endMove=function(){var e=this,t,o=this.sourceEl,i=[],s=this.getDocuments(),l=this.getContainerEl(),c=this.onEndMove,f=this.onEnd,h=this,g=h.target,m=h.lastPos,y;if((0,et.AU)(l,"mousemove dragover",this.onMove),(0,et.AU)(s,"mouseup dragend touchend",this.endMove),(0,et.AU)(s,"keydown",this.rollback),this.plh.style.display="none",o&&(y=this.getSourceModel()),this.moved&&g){var _=this.toMove,x=(0,D.isArray)(_)?_:_?[_]:[o],C=0;x.length===1?i.push(this.move(g,x[0],m)):x.map(function(E){return{model:E,parents:e.parents(E)}}).sort(this.sort).forEach(function(E){var N=E.model,K=N.index(),re=N.parent().getEl();i.push(e.move(g,N,di(di({},m),{indexEl:m.indexEl-C,index:m.index-C}))),re===g&&K<=m.index&&C++})}this.plh&&(this.plh.style.display="none");var S=this.dragHelper;if(S&&(S.parentNode.removeChild(S),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(t=this.em)===null||t===void 0||t.Canvas.removeSpots(hx),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,D.isFunction)(c)){var T={target:y,parent:y&&y.parent(),index:y&&y.index()};i.length?i.forEach(function(E){return c(E,e,T)}):c(null,this,di(di({},T),{cancelled:1}))}(0,D.isFunction)(f)&&f({sorter:this})},r.prototype.move=function(e,t,o){var i=this,s=i.em,l=i.dropContent,c=(0,Ne.getElement)(t),f=[],h=o.method==="after"?o.indexEl+1:o.indexEl,g=this.validTarget(e,c),m=(0,pr.default)(e).data("collection"),y=g.trgModel,_=g.srcModel,x=g.draggable,C=y instanceof Xe.pM?1:g.droppable,S,T;if(m&&C&&x){var E={at:h,action:"move-component"},N=this.isTextableActive(_,y);if(l)S=(0,D.isFunction)(l)?l():l,E.avoidUpdateStyle=!0,E.action="add-component";else{var K=_.collection.indexOf(_),re=m===_.collection,ue=K===h||K===h-1,Q=!re||!ue||N;Q&&(S=_.collection.remove(_,{temporary:!0}),re&&h>K&&(E.at=h-1))}S&&(N?(delete E.at,T=y.getView().insertComponent(S,E)):T=m.add(S,E)),delete this.dropContent,delete this.prevTarget}else if(s){var $=g.dropInfo||(y==null?void 0:y.get("droppable")),te=g.dragInfo||(_==null?void 0:_.get("draggable"));!m&&f.push("Target collection not found"),!C&&$&&f.push("Target is not droppable, accepts [".concat($,"]")),!x&&te&&f.push("Component not draggable, acceptable by [".concat(te,"]")),s.logWarning("Invalid target position",{errors:f,model:_,context:"sorter",target:y})}return s==null||s.trigger("sorter:drag:end",{targetCollection:m,modelToDrop:S,warns:f,validResult:g,dst:e,srcEl:c}),T},r.prototype.rollback=function(e){(0,et.AU)(this.getDocuments(),"keydown",this.rollback);var t=e.which||e.keyCode;t==27&&(this.moved=!1,this.endMove())},r}(Xe.Ss);const gU=vU;var ds=function(){return ds=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ds.apply(this,arguments)},mU=function(n,r){r===void 0&&(r={});var e=r.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+n,t.setAttribute("data-"+e+"handler",n),t},yU=function(n,r){var e=window,t=n.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},wU=function(){function n(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=ds({},this.defOpts),this.setOptions(r),(0,D.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return n.prototype.getConfig=function(){return this.opts},n.prototype.setOptions=function(r,e){r===void 0&&(r={}),this.opts=ds(ds({},e?this.defOpts:this.opts),r),this.setup()},n.prototype.setup=function(){var r=this.opts,e=r.prefix||"",t=r.appendTo||document.body,o=this.container;for(o||(o=document.createElement("div"),o.className="".concat(e,"resizer-c"),t.appendChild(o),this.container=o);o.firstChild;)o.removeChild(o.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(c){return i[c]=r[c]?mU(c,r):null});for(var s in i){var l=i[s];l&&o.appendChild(l)}this.handlers=i,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},n.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,D.each)(e,function(t){return t.style.pointerEvents=r?"none":""})}},n.prototype.isHandler=function(r){var e=this.handlers;for(var t in e)if(e[t]===r)return!0;return!1},n.prototype.getFocusedEl=function(){return this.el},n.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},n.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},n.prototype.getElementPos=function(r,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(r,e):yU(r)},n.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,et.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},n.prototype.blur=function(){this.container.style.display="none",this.el&&((0,et.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},n.prototype.start=function(r){var e=r;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,o=this.getParentEl(),i=this,s=this.opts||{},l=this.mousePosFetcher,c="data-"+s.prefix+"handler",f=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(o),g=e.target;this.handlerAttr=g.getAttribute(c),this.clickedHandler=g,this.startDim={t:f.top,l:f.left,w:f.width,h:f.height},this.rectDim={t:f.top,l:f.left,w:f.width,h:f.height},this.startPos=l?l(e):{x:e.clientX,y:e.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var m=this.getDocumentEl();this.docs=m,(0,et.on)(m,"pointermove",this.move),(0,et.on)(m,"keydown",this.handleKeyDown),(0,et.on)(m,"pointerup",this.stop),(0,D.isFunction)(this.onStart)&&this.onStart(e,{docs:m,config:s,el:t,resizer:i}),this.toggleFrames(!0),this.move(e)}},n.prototype.move=function(r){var e=r,t=this.onMove,o=this.mousePosFetcher,i=o?o(e):{x:e.clientX,y:e.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},n.prototype.stop=function(r){var e=this.el,t=this.opts,o=this.docs||this.getDocumentEl();(0,et.AU)(o,"pointermove",this.move),(0,et.AU)(o,"keydown",this.handleKeyDown),(0,et.AU)(o,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,D.isFunction)(this.onEnd)&&this.onEnd(r,{docs:o,config:t,el:e,resizer:this}),delete this.docs},n.prototype.updateRect=function(r){var e=this.el,t=this,o=this.opts,i=this.rectDim,s=this.updateTarget,l=this.getSelectedHandler(),c=o.unitHeight,f=o.unitWidth,h=o.keyWidth,g=o.keyHeight;if((0,D.isFunction)(s))s(e,i,{store:r,selectedHandler:l,resizer:t,config:o});else{var m=e.style;m[h]=i.w+f,m[g]=i.h+c}this.updateContainer()},n.prototype.updateContainer=function(r){var e;r===void 0&&(r={});var t=this,o=t.opts,i=t.container,s=t.el,l=i.style;!o.avoidContainerUpdate&&s&&r.forceShow&&(l.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:i,resizer:this,opts:ds(ds({},o),r)})},n.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var e in r)if(r[e]===this.selectedHandler)return e}},n.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},n.prototype.handleMouseDown=function(r){var e=r.target;this.isHandler(e)?(this.selectedHandler=e,this.start(r)):e!==this.el&&(delete this.selectedHandler,this.blur())},n.prototype.calc=function(r){var e,t=this.opts||{},o=t.step,i=this.startDim,s=t.minDim,l=t.maxDim,c=r.delta.x,f=r.delta.y,h=this.parentDim.w,g=this.parentDim.h,m=this.opts.unitWidth,y=this.opts.unitHeight,_=m==="%"?i.w/100*h:i.w,x=y==="%"?i.h/100*g:i.h,C={t:i.t,l:i.l,w:_,h:x};if(r){var S=r.handlerAttr;~S.indexOf("r")&&(e=m==="%"?(0,Ne.normalizeFloat)((_+c*o)/h*100,.01):(0,Ne.normalizeFloat)(_+c*o,o),e=Math.max(s,e),l&&(e=Math.min(l,e)),C.w=e),~S.indexOf("b")&&(e=y==="%"?(0,Ne.normalizeFloat)((x+f*o)/g*100,.01):(0,Ne.normalizeFloat)(x+f*o,o),e=Math.max(s,e),l&&(e=Math.min(l,e)),C.h=e),~S.indexOf("l")&&(e=m==="%"?(0,Ne.normalizeFloat)((_-c*o)/h*100,.01):(0,Ne.normalizeFloat)(_-c*o,o),e=Math.max(s,e),l&&(e=Math.min(l,e)),C.w=e),~S.indexOf("t")&&(e=y==="%"?(0,Ne.normalizeFloat)((x-f*o)/g*100,.01):(0,Ne.normalizeFloat)(x-f*o,o),e=Math.max(s,e),l&&(e=Math.min(l,e)),C.h=e);var T=t.ratioDefault?!r.keys.shift:r.keys.shift;if(S.indexOf("c")<0&&T){var E=i.w/i.h;C.w/C.h>E?C.h=Math.round(C.w/E):C.w=Math.round(C.h*E)}~S.indexOf("l")&&(C.l+=i.w-C.w),~S.indexOf("t")&&(C.t+=i.h-C.h);for(var N in C){var K=N;C[K]=parseInt("".concat(C[K]),10)}return C}},n}();const _U=wU;var bU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wm=function(){return Wm=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Wm.apply(this,arguments)},xU=function(n){bU(r,n);function r(e){var t=n.call(this,e,"Utils")||this;return t.Sorter=gU,t.Resizer=_U,t.Dragger=lO.A,t.helpers=Wm({},Ne),t}return r.prototype.destroy=function(){},r}(oo);const CU=xU;var Zn,bo={},Nn={16:!1,18:!1,17:!1,91:!1},XO="all",Ls={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},JO={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},a0=function(n){return JO[n]||n.toUpperCase().charCodeAt(0)},Kl=[];for(Zn=1;Zn<20;Zn++)JO["f"+Zn]=111+Zn;function wc(n,r){for(var e=n.length;e--;)if(n[e]===r)return e;return-1}function SU(n,r){if(n.length!=r.length)return!1;for(var e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}var OU={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function EU(n){for(Zn in Nn)Nn[Zn]=n[OU[Zn]]}function TU(n){var r,e,t,o,i,s;if(r=n.keyCode,wc(Kl,r)==-1&&Kl.push(r),(r==93||r==224)&&(r=91),r in Nn){Nn[r]=!0;for(t in Ls)Ls[t]==r&&(jn[t]=!0);return}if(EU(n),!!jn.filter.call(this,n)&&r in bo){for(s=s0(),o=0;o<bo[r].length;o++)if(e=bo[r][o],e.scope==s||e.scope=="all"){i=e.mods.length>0;for(t in Nn)(!Nn[t]&&wc(e.mods,+t)>-1||Nn[t]&&wc(e.mods,+t)==-1)&&(i=!1);(e.mods.length==0&&!Nn[16]&&!Nn[18]&&!Nn[17]&&!Nn[91]||i)&&e.method(n,e)===!1&&(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation&&n.stopPropagation(),n.cancelBubble&&(n.cancelBubble=!0))}}}function PU(n){var r=n.keyCode,e,t=wc(Kl,r);if(t>=0&&Kl.splice(t,1),(r==93||r==224)&&(r=91),r in Nn){Nn[r]=!1;for(e in Ls)Ls[e]==r&&(jn[e]=!1)}}function kU(){for(Zn in Nn)Nn[Zn]=!1;for(Zn in Ls)jn[Zn]=!1}function jn(n,r,e){var t,o;t=ZO(n),e===void 0&&(e=r,r="all");for(var i=0;i<t.length;i++)o=[],n=t[i].split("+"),n.length>1&&(o=QO(n),n=[n[n.length-1]]),n=n[0],n=a0(n),n in bo||(bo[n]=[]),bo[n].push({shortcut:t[i],scope:r,method:e,key:t[i],mods:o})}function AU(n,r){var e,t,o=[],i,s,l;for(e=ZO(n),s=0;s<e.length;s++){if(t=e[s].split("+"),t.length>1&&(o=QO(t)),n=t[t.length-1],n=a0(n),r===void 0&&(r=s0()),!bo[n])return;for(i=0;i<bo[n].length;i++)l=bo[n][i],l.scope===r&&SU(l.mods,o)&&(bo[n][i]={})}}function LU(n){return typeof n=="string"&&(n=a0(n)),wc(Kl,n)!=-1}function MU(){return Kl.slice(0)}function NU(n){var r=(n.target||n.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(Zn in Ls)jn[Zn]=!1;function DU(n){XO=n||"all"}function s0(){return XO||"all"}function RU(n){var r,e,t;for(r in bo)for(e=bo[r],t=0;t<e.length;)e[t].scope===n?e.splice(t,1):t++}function ZO(n){var r;return n=n.replace(/\s/g,""),r=n.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function QO(n){for(var r=n.slice(0,n.length-1),e=0;e<r.length;e++)r[e]=Ls[r[e]];return r}function cg(n,r,e){n.addEventListener?n.addEventListener(r,e,!1):n.attachEvent&&n.attachEvent("on"+r,function(){e(window.event)})}jn.setScope=DU;jn.getScope=s0;jn.deleteScope=RU;jn.filter=NU;jn.isPressed=LU;jn.getPressedKeyCodes=MU;jn.unbind=AU;jn.handlers=bo;jn.init=function(n){cg(n.document,"keydown",function(r){TU(r)}),cg(n.document,"keyup",PU),cg(n,"focus",kU)};const Ju=jn;var jU={defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const IU=jU;var FU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vx=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))};(0,Ne.hasWin)()&&Ju.init(window);var VU=function(n){FU(r,n);function r(e){var t=n.call(this,e,"Keymaps",IU)||this;return t.keymaster=Ju,t.keymaps={},t}return r.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var o=e[t];this.add(t,o.keys,o.handler,o.opts||{})}},r.prototype.add=function(e,t,o,i){i===void 0&&(i={});var s=this.em,l=s.Commands,c=s.getEditor(),f=s.Canvas,h={id:e,keys:t,handler:o},g=this.keymaps[e];return g&&this.remove(e),this.keymaps[e]=h,Ju(t,function(m,y){var _={event:m,h:y},x=(0,D.isString)(o)?l.get(o):o,C=!s.isEditing()&&!c.Canvas.isInputFocused();if(C||i.force){i.prevent&&f.getCanvasView().preventDefault(m),(0,D.isFunction)(x)?x(c,0,_):l.runCommand(x,_);var S=[e,y.shortcut,m];s.trigger.apply(s,vx(["keymap:emit"],S,!1)),s.trigger.apply(s,vx(["keymap:emit:".concat(e)],S,!1))}},void 0),s.trigger("keymap:add",h),h},r.prototype.get=function(e){return this.keymaps[e]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(e){var t=this.em,o=this.get(e);if(o)return delete this.keymaps[e],o.keys.split(", ").forEach(function(i){Ju.unbind(i.trim())}),t==null||t.trigger("keymap:remove",o),o},r.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),Ju.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(oo);const UU=VU;var zU={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const BU=zU;var HU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WU=function(n){HU(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(Ua.A);const $U=WU;var KU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zp=function(){return zp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},zp.apply(this,arguments)},GU=function(n){KU(r,n);function r(e){var t=n.call(this,e)||this,o=t.model;return t.listenTo(o,"change:open",t.updateOpen),t.listenTo(o,"change:title",t.updateTitle),t.listenTo(o,"change:content",t.updateContent),t}return r.prototype.template=function(e){var t=e.pfx,o=e.ppfx,i=e.content,s=e.title;return'<div class="'.concat(t,"dialog ").concat(o,"one-bg ").concat(o,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(s,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},r.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),o=this.getCollector(),i=this.model.get("content");t.length&&o.append(t),e.empty().append(i)},r.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(e){var t=this,o=t.pfx,i=t.$el,s=t.el,l=[].slice.call(s.attributes).map(function(c){return c.name});i.removeAttr(l.join(" ")),i.attr(zp(zp({},e||{}),{class:"".concat(o,"container ").concat(e&&e.class||"").trim()}))},r.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},r}(Uo);const qU=GU;var YU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XU=function(n){YU(r,n);function r(e){var t=n.call(this,e,"Modal",BU)||this;return t.model=new $U(t),t.model.on("change:open",function(o,i){e.trigger("modal:".concat(i?"open":"close"))}),t.model.on("change",(0,D.debounce)(function(){var o=t._evData(),i=t.config.custom;(0,D.isFunction)(i)&&i(o),e.trigger("modal",o)},0)),t}return r.prototype._evData=function(){var e=this,t=this.getTitle(),o=this.getContent(),i=this.model.attributes,s=i.open,l=i.attributes;return{open:s,attributes:l,title:(0,D.isString)(t)?(0,et.GZ)(t):t,content:(0,D.isString)(o)?(0,et.GZ)(o):o.get?o.get(0):o,close:function(){e.close()}}},r.prototype.postRender=function(e){var t=e.model.config.el||e.el,o=this.render();o&&(t==null||t.appendChild(o))},r.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},r.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(e){return this.model.set("title",e),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var e;if(!this.config.custom){var t=qU.extend(this.config.extend),o=this.modal&&this.modal.el;return this.modal=new t({el:o,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},r.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},r}(oo);const JU=XU;var gx="sw-visibility",mx="export-template",yx="open-sm",wx="open-tm",_x="open-layers",bx="open-blocks",fg="fullscreen",dg="preview",ZU={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:gx,className:"fa fa-square-o",command:"core:component-outline",context:gx,attributes:{title:"View components"}},{id:dg,className:"fa fa-eye",command:dg,context:dg,attributes:{title:"Preview"}},{id:fg,className:"fa fa-arrows-alt",command:fg,context:fg,attributes:{title:"Fullscreen"}},{id:mx,className:"fa fa-code",command:mx,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:yx,className:"fa fa-paint-brush",command:yx,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:wx,className:"fa fa-cog",command:wx,togglable:!1,attributes:{title:"Settings"}},{id:_x,className:"fa fa-bars",command:_x,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:bx,className:"fa fa-th-large",command:bx,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const pg=ZU;var QU=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),e3=function(n){QU(r,n);function r(e,t){var o=n.call(this,e,t)||this;return o.get("buttons").length&&o.set("buttons",new rE(o.module,o.get("buttons"))),o}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(Ua.A);const eE=e3;var t3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tE=function(n){t3(r,n);function r(e,t){return n.call(this,e,t,eE)||this}return r.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(o,i){o!==e&&(o.set("active",!1),t&&o.get("buttons").length&&o.get("buttons").deactivateAllExceptOne(e,t))})},r.prototype.deactivateAll=function(e,t){var o=e||"";this.forEach(function(i){i.get("context")==o&&i!==t&&i.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(o,i){o.get("context")==t&&o.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(o,i){o!==e&&(o.set("disable",!0),t&&o.get("buttons").length&&o.get("buttons").disableAllButtonsExceptOne(e,t))})},r}(kh);const rE=tE;tE.prototype.model=eE;var r3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),n3=function(n){r3(r,n);function r(e,t){var o=n.call(this,e,t)||this,i=o.get("buttons")||[];return o.buttons=new rE(e,i),o}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),r}(Ua.A);const nE=n3;var o3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oE=function(n){o3(r,n);function r(e,t){return n.call(this,e,t,nE)||this}return r}(kh);const i3=oE;oE.prototype.model=nE;var a3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sl=function(){return Sl=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Sl.apply(this,arguments)},s3=function(n){a3(r,n);function r(e){var t=n.call(this,e)||this,o=t,i=o.model,s=o.em,l=o.pfx,c=o.ppfx,f=i.className,h=i.attributes,g=h.command,m=h.listen;if(t.id=l+i.get("id"),t.activeCls="".concat(l,"active ").concat(c,"four-color"),t.disableCls="".concat(c,"disabled"),t.btnsVisCls="".concat(l,"visible"),t.className=l+"btn"+(f?" "+f:""),t.listenTo(i,"change",t.render),t.listenTo(i,"change:active updateActive",t.updateActive),t.listenTo(i,"checkActive",t.checkActive),t.listenTo(i,"change:bntsVis",t.updateBtnsVis),t.listenTo(i,"change:attributes",t.updateAttributes),t.listenTo(i,"change:className",t.updateClassName),t.listenTo(i,"change:disable",t.updateDisable),s&&(0,D.isString)(g)&&m){var y={fromListen:!0};t.listenTo(s,"run:".concat(g),function(){return i.set("active",!0,y)}),t.listenTo(s,"stop:".concat(g),function(){return i.set("active",!1,y)})}return s&&s.get&&(t.commands=s.get("Commands")),t}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var e=this,t=e.model,o=e.pfx,i=t.className,s=t.get("attributes").class,l="".concat(s||""," ").concat(o,"btn ").concat(i||"");this.$el.attr("class",l.trim())},r.prototype.updateAttributes=function(){var e=this,t=e.em,o=e.model,i=e.$el,s=o.get("attributes")||{},l=t&&t.t&&t.t("panels.buttons.titles.".concat(o.id));i.attr(s),l&&i.attr({title:l}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(e,t,o){var i;o===void 0&&(o={});var s=this,l=s.model,c=s.commands,f=s.$el,h=s.activeCls,g=o.fromCollection,m=o.fromListen,y=l.get("context"),_=l.get("options"),x=l.command,C={};x&&(c&&(0,D.isString)(x)?C=c.get(x)||{}:(0,D.isFunction)(x)?C=c.create({run:x}):x!==null&&(0,D.isObject)(x)&&(C=c.create(x)),l.active?(!g&&((i=l.collection)===null||i===void 0||i.deactivateAll(y,l)),l.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&c.runCommand(C,Sl(Sl({},_),{sender:l})),C.noStop&&l.set("active",!1)):(f.removeClass(h),!m&&c.stopCommand(C,Sl(Sl({},_),{sender:l,force:1}))))},r.prototype.updateDisable=function(){var e=this,t=e.disableCls,o=e.model,i=o.disable;this.$el[i?"addClass":"removeClass"](t)},r.prototype.checkActive=function(){var e=this,t=e.model,o=e.$el,i=e.activeCls;t.active?o.addClass(i):o.removeClass(i)},r.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},r.prototype.toggleActive=function(){var e=this,t=e.model,o=e.em,i=t.active,s=t.togglable;i&&!s||(t.active=!i,i?t.runDefaultCommand&&o.runDefault():t.stopDefaultCommand&&o.stopDefault())},r.prototype.render=function(){var e=this.model,t=e.get("label"),o=this.$el;return!e.get("el")&&o.empty(),this.updateAttributes(),t&&o.append(t),this.checkActive(),this.updateDisable(),this},r}(Uo);const l3=s3;var u3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),c3=function(n){u3(r,n);function r(e){var t=n.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var o=t||null,i=e.get("el"),s=new l3({el:i,model:e}),l=s.render().el;return o?o.appendChild(l):this.$el.append(l),l},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(o){return e.addToCollection(o,t)}),this.$el.append(t),this.$el.attr("class",(0,D.result)(this,"className")),this},r}(Uo);const f3=c3;var d3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$m=function(){return $m=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},$m.apply(this,arguments)},p3=function(n){d3(r,n);function r(e){var t=n.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var e=this.em,t=e==null?void 0:e.Editor,o=this.model.get("resizable");if(t&&o){var i=o===!0?[!0,!0,!0,!0]:o,s=i.length,l=void 0,c=void 0,f=void 0,h=!1;if(s==2){var g=i;l=g[0],f=g[0],c=g[1],h=g[1]}else if(s==4){var g=i;l=g[0],c=g[1],f=g[2],h=g[3]}var m=new t.Utils.Resizer($m({tc:l,cr:c,bc:f,cl:h,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(y,_){var x=_.target,C=y.style,S=m.getConfig(),T=S.keyWidth,E=S.keyHeight,N=y.getBoundingClientRect(),K=x=="container",re=C[T],ue=C[E],Q=re&&!K?parseFloat(re):N.width,$=ue&&!K?parseFloat(ue):N.height;return{left:0,top:0,width:Q,height:$}}},o&&typeof o!="boolean"?o:{}));m.blur=function(){},m.focus(this.el)}},r.prototype.render=function(){var e=this.model.buttons,t=this.$el,o=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(o,"one-bg ").concat(o,"two-color");if(t.addClass(i),this.toggleVisible(),e.length){var s=new f3(e);t.append(s.render().el)}return t.append(this.model.get("content")),this},r}(Uo);const h3=p3;var v3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),g3=function(n){v3(r,n);function r(e){var t=n.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return r.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var o=t||null,i=e.get("el"),s=new h3(e),l=s.render().el,c=e.get("appendTo");if(!i)if(c){var f=document.querySelector(c);f==null||f.appendChild(l)}else o?o.appendChild(l):this.$el.append(l);return s.initResize(),l},r.prototype.render=function(){var e=this,t=this.$el,o=document.createDocumentFragment();return t.empty(),this.collection.each(function(i){return e.addToCollection(i,o)}),t.append(o),t.attr("class",this.className),this},r}(Uo);const m3=g3;var y3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),w3=function(n){y3(r,n);function r(e){var t=n.call(this,e,"Panels",pg)||this;t.panels=new i3(t,t.config.defaults);for(var o in pg)o in t.config||(t.config[o]=pg[o]);return t}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},r.prototype.addPanel=function(e){return this.panels.add(e)},r.prototype.removePanel=function(e){return this.panels.remove(e)},r.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},r.prototype.addButton=function(e,t){var o=this.getPanel(e);return o?o.buttons.add(t):null},r.prototype.removeButton=function(e,t){var o=this.getPanel(e);return o&&o.buttons.remove(t)},r.prototype.getButton=function(e,t){var o=this.getPanel(e);if(o){var i=o.buttons.where({id:t});return i.length?i[0]:null}return null},r.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new m3(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(oo);const _3=w3;var b3={stylePrefix:"cm-",optsCodeViewer:{}};const x3=b3;var C3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S3=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},O3=function(n){C3(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.build=function(e,t){t===void 0&&(t={});var o=t.em,i=S3(t,["em"]),s=i;if(t.cleanId&&o){var l=o.Css.getAll(),c=l.toJSON().map(function(f){var h=f.selectors,g=h&&h.length===1&&h.models[0];return g&&g.isId()&&g.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(f,h){var g=h.id;return g&&g[0]==="i"&&!f.get("script")&&!f.get("attributes").id&&c.indexOf(g)<0&&delete h.id,h})}return e.toHTML(s)},r}(Xe.Kx);const E3=O3;var T3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P3=function(n){T3(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.build=function(e){var t=this,o=e.toJSON();return this.beforeEach(o),(0,D.each)(o,function(i,s){var l=o[s];if(l instanceof Xe.Kx)o[s]=t.build(l);else if(l instanceof Xe.pM){var c=l;o[s]=[],c.length&&c.forEach(function(f,h){o[s][h]=t.build(f)})}}),o},r.prototype.beforeEach=function(e){delete e.status},r}(Xe.Kx);const k3=P3;var A3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function L3(n){var r,e=((r=n.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var M3=function(n){A3(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.mapModel=function(e){var t,o=this,i="",s=e.get("script-export")||e.get("script"),l=e.get("type"),c=e.get("components"),f=e.getId();if(s){var h=e.get("attributes");h=(0,D.extend)({},h,{id:f}),e.set("attributes",h,{silent:!0});var g=e.getScriptString(s),m=e.get("script-props");if(e.get("scriptUpdated")&&!m)this.mapJs[l+"-"+f]={ids:[f],code:g};else{var y=void 0,_=this.mapJs[l];if(m&&(y=e.__getScriptProps()),_)_.ids.push(f),y&&(_.props[f]=y);else{var x={ids:[f],code:g};y&&(x.props=(t={},t[f]=y,t)),this.mapJs[l]=x}}}return c.forEach(function(C){i+=o.mapModel(C)}),i},r.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var o in this.mapJs){var i=this.mapJs[o];if(i.code)if(i.props){if(L3(i.code))continue;t+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+i.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return t},r}(Xe.Kx);const N3=M3;var D3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Km=function(){return Km=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Km.apply(this,arguments)},_c;(0,Ne.hasWin)()&&(_c=$t(237),$t(520),$t(656),$t(862));var iE=function(n){D3(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(e){return(0,D.bindAll)(this,"onChange"),this.editor=_c.fromTextArea(e,Km({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(e){return this.element=e,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},r.prototype.setContent=function(e,t){var o=this;t===void 0&&(t={});var i=this.editor;if(i){i.setValue(e);var s=this.get("autoFormat"),l=i.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));l&&(_c.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),_c.commands.goDocStart(i)),!t.noRefresh&&setTimeout(function(){return o.refresh()})}},r}(Xe.Kx);const R3=iE;iE.prototype.CodeMirror=_c;var j3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),I3=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},F3=function(n){j3(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.template=function(e){var t=e.pfx,o=e.codeName,i=e.label;return Jn(xx||(xx=I3([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,o,t,i,t)},r.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var e,t,o=this,i=o.model,s=o.pfx,l=o.$el,c=i.toJSON(),f=i.get("input")||((t=(e=i).getElement)===null||t===void 0?void 0:t.call(e));return c.pfx=s,l.html(this.template(c)),l.attr("class","".concat(s,"editor-c")),l.find("#".concat(s,"code")).append(f),this},r}(Xe.Ss);const V3=F3;var xx,U3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Bp=function(){return Bp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Bp.apply(this,arguments)},z3="CodeMirror",B3=function(n){U3(r,n);function r(e){var t=n.call(this,e,"CodeManager",x3)||this;t.EditorView=V3;var o=t.config,i=o.pStylePrefix;return i&&(o.stylePrefix=i+o.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new E3,css:new gI,json:new k3,js:new N3},t.defViewers={CodeMirror:new R3},t.loadDefaultGenerators().loadDefaultViewers(),t}return r.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},r.prototype.getGenerator=function(e){return this.generators[e]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},r.prototype.getViewer=function(e){return this.viewers[e]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,D.isUndefined)(e.type)?z3:e.type,o=this.getViewer(t)&&this.getViewer(t).clone(),i=document.createElement("div"),s=document.createElement("textarea");return i.appendChild(s),o.set(Bp(Bp({},this.config.optsCodeViewer),e)),o.init(s),o.setElement(i),o},r.prototype.updateViewer=function(e,t){e.setContent(t)},r.prototype.getCode=function(e,t,o){o===void 0&&(o={}),o.em=this.em;var i=this.getGenerator(t);return i?i.build(e,o):""},r.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},r.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},r.prototype.destroy=function(){},r}(oo);const H3=B3;var W3=$t(982),$3=$t.n(W3),K3={maximumStackLength:500,trackSelection:!0};const G3=K3;var q3=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ni=function(){return Ni=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ni.apply(this,arguments)},Y3=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},cd=function(n){return n.avoidStore||n.noUndo},Cx=function(n){return Object.keys(n.changedAttributes())},X3=function(n){q3(r,n);function r(e){var t=n.call(this,e,"UndoManager",G3)||this;t.config._disable&&(t.config.maximumStackLength=0);var o=!0;return t.um=new($3())(Ni({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(i){var s=i.get("_undo");if(s){var l=i.get("_undoexc");if((0,D.isArray)(l)&&Cx(i).some(function(c){return l.indexOf(c)>=0}))return!1;if((0,D.isBoolean)(s)||(0,D.isArray)(s)&&Cx(i).some(function(c){return s.indexOf(c)>=0}))return!0}return!1},on:function(i,s,l){var c=this;!this.beforeCache&&(this.beforeCache=i.previousAttributes());var f=l||s||{};if(f.noUndo&&setTimeout(function(){c.beforeCache=null}),!cd(f)){var h=i.toJSON({fromUndo:o}),g={object:i,before:this.beforeCache,after:h};return this.beforeCache=null,(0,D.isEmpty)(h)?void 0:g}}}),t.um.changeUndoType("add",{on:function(i,s,l){if(l===void 0&&(l={}),!(cd(l)||!t.isRegistered(s)))return{object:s,before:void 0,after:i,options:Ni(Ni({},l),{fromUndo:o})}}}),t.um.changeUndoType("remove",{on:function(i,s,l){if(l===void 0&&(l={}),!(cd(l)||!t.isRegistered(s)))return{object:s,before:i,after:void 0,options:Ni(Ni({},l),{fromUndo:o})}}}),t.um.changeUndoType("reset",{undo:function(i,s){i.reset(s,{fromUndo:o})},redo:function(i,s,l){i.reset(l,{fromUndo:o})},on:function(i,s){if(s===void 0&&(s={}),!(cd(s)||!t.isRegistered(i)))return{object:i,before:s.previousModels,after:Y3([],i.models,!0),options:Ni(Ni({},s),{fromUndo:o})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),["undo","redo"].forEach(function(i){return t.um.on(i,function(){return e.trigger(i)})}),t}return r.prototype.postLoad=function(){var e=this,t=e.config,o=e.em;t.trackSelection&&o&&this.add(o.get("selected"))},r.prototype.add=function(e){return this.um.register(e),this},r.prototype.remove=function(e){return this.um.unregister(e),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,o=t.em,i=t.um;return!o.isEditing()&&i.undo(e),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,o=t.em,i=t.um;return!o.isEditing()&&i.redo(e),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(o){var i=o.get("magicFusionIndex");t.indexOf(i)<0&&(t.push(i),e.push(o))}),e},r.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},r.prototype.getGroupedStack=function(){var e={},t=this.getStack(),o=function(i,s){var l=i.attributes,c=l.type,f=l.after,h=l.before,g=l.object,m=l.options,y=m===void 0?{}:m;return{index:s,type:c,after:f,before:h,object:g,options:y}};return t.forEach(function(i,s){var l=i.get("magicFusionIndex"),c=o(i,s);e[l]?e[l].push(c):e[l]=[c]}),Object.keys(e).map(function(i){var s=e[i];return{index:s[s.length-1].index,actions:s,labels:(0,D.unique)(s.reduce(function(l,c){var f,h=(f=c.options)===null||f===void 0?void 0:f.action;return h&&l.push(h),l},[]))}})},r.prototype.goToGroup=function(e){var t=this;if(e){var o=this.getPointer(),i=e.index-o;(0,D.times)(Math.abs(i),function(){t[i<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(oo);const J3=X3;var Z3={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const Q3=Z3;var Ol=function(){return Ol=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ol.apply(this,arguments)},Hp;(function(n){n[n.ACTIVE=1]="ACTIVE",n[n.INACTIVE=0]="INACTIVE",n[n.DISABLED=-1]="DISABLED"})(Hp||(Hp={}));var hg="_rte",ws={ACTIVE:1,INACTIVE:0,DISABLED:-1},fd=function(n,r){r===void 0&&(r="A");var e=n.selection()||{},t=e.anchorNode,o=e.focusNode,i=t==null?void 0:t.parentNode,s=o==null?void 0:o.parentNode;return(i==null?void 0:i.nodeName)==r||(s==null?void 0:s.nodeName)==r},Wp="data-selectme",$u={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(n){return n.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(n){return n.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(n){return n.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(n){return n.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(n){return n&&n.selection()&&fd(n)?ws.ACTIVE:ws.INACTIVE},result:function(n){fd(n)?n.exec("unlink"):n.insertHTML('<a href="" '.concat(Wp,">").concat(n.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(n){return n!=null&&n.selection()&&fd(n,"SPAN")?ws.DISABLED:ws.INACTIVE},result:function(n){!fd(n,"SPAN")&&n.insertHTML("<span ".concat(Wp,">").concat(n.selection(),"</span>"),{select:!0})}}},ez=function(){function n(r,e,t){t===void 0&&(t={});var o=this;if(this.em=r,this.settings=t,e[hg])return e[hg];e[hg]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(t.actions||[]).map(function(h){var g=h;return(0,D.isString)(h)?g=Ol({},$u[h]):$u[h.name]&&(g=Ol(Ol({},$u[h.name]),h)),g}),s=i.length?i:Object.keys($u).map(function(h){return $u[h]});t.classes=Ol({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var l=t.classes,c=t.actionbar;if(this.actionbar=c,this.classes=l,this.actions=s,!c){if(!this.isCustom(t.module)){var f=t.actionbarContainer;c=document.createElement("div"),c.className=l.actionbar,f==null||f.appendChild(c),this.actionbar=c}s.forEach(function(h){return o.addAction(h)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return n.prototype.isCustom=function(r){var e=r||this.em.RichTextEditor;return!!(e!=null&&e.config.custom||e!=null&&e.customRte)},n.prototype.destroy=function(){},n.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},n.prototype.updateActiveActions=function(){var r=this,e=this.getActions();e.forEach(function(t){var o=t.update,i=t.btn,s=r.classes,l=s.active,c=s.inactive,f=s.disabled,h=t.state,g=t.name,m=r.doc,y=Hp.INACTIVE;if(i&&(i.className=i.className.replace(l,"").trim(),i.className=i.className.replace(c,"").trim(),i.className=i.className.replace(f,"").trim()),h){var _=h(r,m);if(y=_,i)switch(_){case ws.ACTIVE:i.className+=" ".concat(l);break;case ws.INACTIVE:i.className+=" ".concat(c);break;case ws.DISABLED:i.className+=" ".concat(f);break}}else m.queryCommandSupported(g)&&m.queryCommandState(g)&&(i&&(i.className+=" ".concat(l)),y=Hp.ACTIVE);t.currentState=y,o==null||o(r,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},n.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},n.prototype.disable=function(){return this.__toggleEffects(!1)},n.prototype.__toggleEffects=function(r,e){r===void 0&&(r=!1),e===void 0&&(e={});var t=r?et.on:et.AU,o=this,i=o.el,s=o.doc,l=this.actionbarEl();if(l&&(l.style.display=r?"":"none"),i.contentEditable="".concat(!!r),t(i,"mouseup keyup",this.updateActiveActions),t(s,"keydown",this.__onKeydown),t(s,"paste",this.__onPaste),this.enabled=r,r){var c=e.event;if(this.syncActions(),this.updateActiveActions(),c){var f=null;if(s.caretRangeFromPoint){var h=(0,et.G2)(c);f=s.caretRangeFromPoint(h.clientX,h.clientY)}else c.rangeParent&&(f=s.createRange(),f.setStart(c.rangeParent,c.rangeOffset));var g=s.getSelection();g==null||g.removeAllRanges(),f&&(g==null||g.addRange(f))}i.focus()}return this},n.prototype.__onKeydown=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var o=this.doc,i=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!i.some(function(s){return o.queryCommandState(s)})&&(o.execCommand("insertLineBreak"),r.preventDefault())},n.prototype.__onPaste=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var o=r.clipboardData,i=o.getData("text"),s=o.getData("text/html");if(i&&!s){r.preventDefault();var l=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,l)}},n.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(e){if(r.actionbar&&(!e.state||e.state&&e.state(r,r.doc)>=0)){var t=e.event||"click",o=e.btn;o&&(o["on".concat(t)]=function(){e.result(r,e),r.updateActiveActions()})}})},n.prototype.addAction=function(r,e){e===void 0&&(e={});var t=e.sync,o=this.actionbarEl();if(o){var i=r.icon,s=r.attributes,l=s===void 0?{}:s,c=document.createElement("span");c.className=this.classes.button,r.btn=c;for(var f in l)c.setAttribute(f,l[f]);typeof i=="string"?c.innerHTML=i:c.appendChild(i),o.appendChild(c)}t&&(this.actions.push(r),this.syncActions())},n.prototype.getActions=function(){return this.actions},n.prototype.selection=function(){return this.doc.getSelection()},n.prototype.exec=function(r,e){this.doc.execCommand(r,!1,e)},n.prototype.actionbarEl=function(){return this.actionbar},n.prototype.insertHTML=function(r,e){var t=e===void 0?{}:e,o=t.select,i=this,s=i.em,l=i.doc,c=i.el,f=l.getSelection();if(f&&f.rangeCount){var h=(0,Ne.getComponentModel)(c)||s.getSelected(),g=l.createElement("div"),m=f.getRangeAt(0);m.deleteContents(),(0,D.isString)(r)?g.innerHTML=r:r&&g.appendChild(r),Array.prototype.slice.call(g.childNodes).forEach(function(y){m.insertNode(y)}),f.removeAllRanges(),f.addRange(m),c.focus(),o&&h&&(h.once("rte:disable",function(){var y=h.find("[".concat(Wp,"]"))[0];y&&(s.setSelected(y),y.removeAttributes(Wp))}),h.trigger("disable"))}},n}();const tz=ez;var rz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sx=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},Ox=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},nz=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},vg="".concat(Pd.refresh," frame:scroll ").concat(wn.I.update),oz="rte:enable",iz="rte:disable",az="rte:custom",sz={enable:oz,disable:iz,custom:az},lz=function(n){rz(r,n);function r(e){var t=n.call(this,e,"RichTextEditor",Q3)||this;t.events=sz;var o=t.config,i=o.pStylePrefix;i&&(o.stylePrefix=i+o.stylePrefix),t.pfx=o.stylePrefix,t.actions=o.actions||[];var s=new Xe.Kx;return t.model=s,s.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,D.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.onLoad=function(){if((0,Ne.hasWin)()){var e=this.config,t=e.pStylePrefix,o=e.custom,i=(0,et.a_)("div",{class:(0,et.cx)("".concat(t,"rte-toolbar"),!o&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,et.a_)("div")),(0,et.on)(i,"mousedown",function(s){return s.stopPropagation()})}},r.prototype.__trgCustom=function(){var e=this,t=e.model,o=e.em,i=e.events;o.trigger(i.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var e,t,o;(e=this.globalRte)===null||e===void 0||e.destroy(),(o=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||o===void 0||o.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,et.YZ)(this.toolbar)},r.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(e){var t=this.globalRte,o=this,i=o.em,s=o.pfx,l=o.actionbar,c=o.config,f=this.actions||nz([],c.actions,!0),h={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return t?(t.em=i,t.setEl(e)):(t=new tz(i,e,{classes:h,actions:f,actionbar:l,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},r.prototype.add=function(e,t){var o;t===void 0&&(t={}),t.name=e,(o=this.globalRte)===null||o===void 0||o.addAction(t,{sync:!0})},r.prototype.get=function(e){var t,o;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(i){i.name==e&&(o=i)}),o},r.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},r.prototype.remove=function(e){var t,o=this.getAll(),i=this.get(e);if(i){var s=i.btn,l=o.indexOf(i);(t=s==null?void 0:s.parentNode)===null||t===void 0||t.removeChild(s),o.splice(l,1)}return i},r.prototype.run=function(e){var t=this.globalRte,o=(0,D.isString)(e)?this.get(e):e;t&&o&&(o.result(t,o),t.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var e=this,t=e.em,o=e.toolbar,i="px",s=t.Canvas,l=o.style,c=s.getTargetToElementFixed(this.lastEl,o,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(f){var h=c[f];(0,Ne.isDef)(h)&&(l[f]=(0,D.isString)(h)?h:(h||0)+i)})},r.prototype.enable=function(e,t){return Sx(this,arguments,void 0,function(o,i,s){var l,c,f,h,g;return s===void 0&&(s={}),Ox(this,function(m){switch(m.label){case 0:return this.lastEl=o.el,l=this,c=l.customRte,f=l.em,h=o.getChildrenContainer(),this.toolbar.style.display="",[4,c?c.enable(h,i):this.initRte(h).enable(s)];case 1:return g=m.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(vg,this.updatePosition,this),f.on(vg,this.updatePosition,this),f.trigger("rte:enable",o,g)),this.model.set({currentView:o}),[2,g]}})})},r.prototype.getContent=function(e,t){return Sx(this,void 0,void 0,function(){var o;return Ox(this,function(i){switch(i.label){case 0:return o=this.customRte,o&&t&&(0,D.isFunction)(o.getContent)?[4,o.getContent(e.el,t)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,e.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},r.prototype.disable=function(e,t,o){o===void 0&&(o={});var i=this.em,s=this.customRte,l=e.getChildrenContainer();s?s.disable(l,t):t&&t.disable(),this.hideToolbar(),i&&(i.off(vg,this.updatePosition,this),!o.fromMove&&i.trigger("rte:disable",e,t)),this.model.unset("currentView")},r}(oo);const uz=lz,cz={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var fz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ln=function(){return Ln=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Ln.apply(this,arguments)},dz=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},Ex=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},l0=function(n){fz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var o=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||o).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!i&&this.set("name",(0,Ne.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,e,t)},r.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},r.prototype.__upTargets=function(e,t){var o,i=this;t===void 0&&(t={});var s=this.em,l=s.Styles,c=this.getName(),f=t.__clear,h=f?"":this.__getFullValue(t),g=this.__getParentProp(),m=this.changedAttributes(),y=(0,D.keys)(m).reduce(function(E,N){return E[N]=i.previous(N),E},{}),_=Ex(Ex([],(0,D.keys)(this.__getClearProps()),!0),["__p"],!1),x=(0,D.keys)(m),C=!t.__up&&!g&&(f||_.some(function(E){return x.indexOf(E)>=0})),S=this.get("onChange"),T={property:this,from:y,to:m,value:h,opts:t};l.__trgEv(l.events.propertyUpdate,T),S&&S(T),C&&this.__upTargetsStyle((o={},o[c]=h,o),t)},r.prototype.__upTargetsStyle=function(e,t){var o,i=(o=this.em)===null||o===void 0?void 0:o.get("StyleManager");i==null||i.addStyleTargets(Ln(Ln({},e),{__p:!!t.avoidStore}),t)},r.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var o=t.partial,i=dz(t,["partial"]);return e.__p=!!(i.avoidStore||o),this.set(e,Ln(Ln({},i),{avoidStore:e.__p}))},r.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,Ln(Ln({},t),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var o=e.locale,i=o===void 0?!0:o,s=this.getId(),l=this.get("name")||this.get("label");return i&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(s)))||l},r.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,o=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():o},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,o=t&&this.getParentTarget(),i=this.get("value");return!(0,D.isUndefined)(i)&&i!==""&&!o},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(e){var t;e===void 0&&(e={});var o=this.getName(),i=e.camelCase?(0,Ne.camelCase)(o):o;return t={},t[i]=this.__getFullValue(e),t},r.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,D.isUndefined)(e)?this.get("defaults"):e)},r.prototype.upValue=function(e,t){t===void 0&&(t={});var o=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(o,t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Ln(Ln({},e),{__clear:!0})),this},r.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(e,t,o){t===void 0&&(t=!0),o===void 0&&(o={});var i=this.parseValue(e),s=!t;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(i,Ln({avoidStore:s},o))},r.prototype.setValueFromInput=function(e,t,o){o===void 0&&(o={}),this.setValue(e,t,Ln(Ln({},o),{fromInput:1}))},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var o={value:e},i="!important",s=this.get("functionName")||"";if((0,D.isString)(e)&&e.indexOf(i)!==-1&&(o.value=e.replace(i,"").trim(),o.important=!0),!s&&!t.complete)return o;var l=[],c="".concat(o.value).trim(),f=c.indexOf("(")+1,h=s||c.substring(0,f-1);if(h&&(o.functionName=h),!s||c.indexOf("".concat(s,"("))===0){var g=c.lastIndexOf(")");l.push(f),g>=0&&l.push(g),o.value=String.prototype.substring.apply(c,l)}if(t.numeric){var m=parseFloat(o.value);o.unit=o.value.replace(m,""),o.value=m}return o},r.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,o=t.withDefault;return!this.hasValue()&&o?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(e,t){t===void 0&&(t={});var o=this.get("functionName"),i=this.getDefaultValue(),s=(0,D.isUndefined)(e)?this.get("value"):e,l=!(0,D.isUndefined)(s)&&s!=="";if(s&&i&&s===i)return i;if(o&&l){var c=o==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(o,"(").concat(c,")")}return l&&this.get("important")&&!t.skipImportant&&(s="".concat(s," !important")),s||""},r.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,o=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,o>=0?o:void 0]).trim()}},r.prototype.__checkVisibility=function(e){var t=e.target,o=e.component,i=e.sectors,s=o||t;if(!s)return!1;var l=this.getId(),c=this.getName(),f=this.get("toRequire"),h=this.get("requires"),g=this.get("requiresParent"),m=s.get("unstylable"),y=s.get("stylable-require"),_=s.get("stylable");if((0,D.isArray)(_)&&(_=_.indexOf(c)>=0),(0,D.isArray)(m)&&(_=m.indexOf(c)<0),f&&(_=!t||y&&(y.indexOf(l)>=0||y.indexOf(c)>=0)),i&&h){var x=(0,D.keys)(h);i.forEach(function(E){E.getProperties().forEach(function(N){if((0,D.includes)(x,N.id)){var K=h[N.id];_=_&&(0,D.includes)(K,N.get("value"))}})})}if(g){var C=o&&o.parent(),S=C&&C.getEl();if(S){var T=(0,Ne.hasWin)()?window.getComputedStyle(S):{};(0,D.each)(g,function(E,N){_=_&&T[N]&&(0,D.includes)(E,T[N])})}else _=!1}return!!_},r}(Xe.Kx);const ur=l0;l0.callParentInit=function(n,r,e,t){t===void 0&&(t={}),n.prototype.initialize.apply(r,[e,Ln(Ln({},t),{skipInit:1})])};l0.callInit=function(n,r,e){e===void 0&&(e={}),!e.skipInit&&n.init(r,e)};var pz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$p=function(){return $p=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},$p.apply(this,arguments)},hz=function(n){pz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},r.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(o,i){return o[(0,Ne.camelCase)(i)]=t[i],o},{}):t},r.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},r.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},r.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},r.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},r.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},r.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},r.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},r.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",$p($p({},this.getValues()),e))},r}(Xe.Kx);const vz=hz;var gz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aE=function(n){gz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},r}(Xe.pM);const mz=aE;aE.prototype.model=vz;var yz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),El=function(){return El=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},El.apply(this,arguments)},Tx=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},sE=function(n){return n==="integer"||n==="number"},wz=function(n){yz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return El(El({},ur.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),ur.callParentInit(ur,this,e,t);var o=this.em,i=new c0(this.get("properties")||[],{em:o,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),ur.callInit(this,e,t)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return Tx([],this.get("properties").models,!0)},r.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},r.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(e){var t=e===void 0?{}:e,o=t.byName;return this.getProperties().reduce(function(i,s){var l=o?s.getName():s.getId();return i[l]="".concat(s.__getFullValue()),i},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var o=this.getName(),i=this.__getJoin(),s=this.get("toStyle"),l=this.getValues(),c={};if(s)c=s(l,{join:i,name:o,property:this});else if(l=this.getValues({byName:!0}),this.isDetached())c=l;else{var f=this.getProperties().map(function(h){return h.__getFullValue({withDefault:1})}).filter(Boolean).join(i);c=(t={},t[o]=f,t)}return this.isDetached()?c[o]="":(c[o]=c[o]||"",c=El(El({},c),this.getProperties().reduce(function(h,g){return h[g.getName()]="",h},{}))),e.camelCase?Object.keys(c).reduce(function(h,g){return h[(0,Ne.camelCase)(g)]=c[g],h},{}):c},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var o=this.__getParentProp();if(o)return o.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},r.prototype.__upTargetsStyleProps=function(e,t){var o;e===void 0&&(e={});var i=this.getStyleFromProps();if(this.isDetached()&&t){var s=t.getName();i=(o={},o[s]=i[s],o)}this.__upTargetsStyle(i,e)},r.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),ur.prototype._up.call(this,e,t),this},r.prototype.getStyle=function(e){return this.getStyleFromProps(e)},r.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return km(t)},r.prototype.__getJoin=function(){var e=this.get("join");return(0,D.isString)(e)?e:this.get("separator")},r.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),o=this.getProperties(),i=o.map(function(l){return l.getName()}),s=Tx([t],i,!0);return s.some(function(l){return!(0,D.isUndefined)(e[l])&&e[l]!==""})},r.prototype.__splitValue=function(e,t){return km(e).split(t).map(function(o){return o.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(e,t,o){return this.__splitValue(e[t]||"",o)},r.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var o=t===void 0?{}:t,i=o.byName,s=this.getProperties(),l=s.length===4&&s.every(function(h){return sE(h.getType())}),c=this.__splitValue(e,this.getSplitSeparator()),f={};return s.forEach(function(h,g){var m=c[g],y=(0,D.isUndefined)(m)?"":m;if(l){var _=c.length;y=c[g]||c[g%_+(_!=1&&_%2?1:0)]||y}var x=i?h.getName():h.getId();f[x]=y||""}),f},r.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var o=t.byName,i=this.getName(),s=this.getProperties(),l=this.getSplitSeparator(),c=this.get("fromStyle"),f=c?c(e,{property:this,name:i,separator:l}):{};return c||(f=this.__getSplitValue(e[i]||"",{byName:o}),s.forEach(function(h){var g=e[h.getName()],m=o?h.getName():h.getId();!(0,D.isUndefined)(g)&&g!==""&&(f[m]=g)})),f},r.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(i){var s=e[i.getId()];i.__getFullValue()!==s&&i.upValue(s,t)});var o=(0,D.keys)(e).map(function(i){return e[i]}).join(" ");this.set("value",o,{silent:!0})},r.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),ur.prototype.clear.call(this),this},r.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},r}(ur);const sl=wz;var _z=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gn=function(){return Gn=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Gn.apply(this,arguments)},bz=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},xz=/,(?![^\(]*\))/,Cz=/\s(?![^(]*\))/,Sz=function(n){_z(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return Gn(Gn({},sl.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),sl.callParentInit(sl,this,e,t);var o=this.get("layers"),i=new mz(o,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),sl.callInit(this,e,t)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},r.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},r.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},r.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},r.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var o=this.layers,i=e?e.getIndex():-1;i>=0&&(0,D.isNumber)(t)&&t>=0&&t<o.length&&i!==t&&(this.removeLayer(e),o.add(e,{at:t}))},r.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var o={};this.getProperties().forEach(function(s){var l=s.getId(),c=e[l];o[l]=(0,D.isUndefined)(c)?s.getDefaultValue():c});var i=this.layers.push({values:o},t);return i},r.prototype.removeLayer=function(e){return this.layers.remove(e)},r.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},r.prototype.getLayerLabel=function(e){var t="";if(e){var o=this.get("layerLabel"),i=e.getValues(),s=e.getIndex();if(o)t=o(e,{index:s,values:i,property:this});else{var l=[];this.getProperties().map(function(c){l.push(i[c.getId()])}),t=l.filter(Boolean).join(" ")}}return t},r.prototype.getStyleFromLayer=function(e,t){var o;t===void 0&&(t={});var i=this.__getJoin(),s=this.__getJoinLayers(),l=this.get("toStyle"),c=this.getName(),f=e.getValues(),h;if(l)h=l(f,{join:i,joinLayers:s,name:c,layer:e,property:this});else{var g=this.getProperties().map(function(m){var y=m.getName(),_=f[m.getId()],x=(0,D.isUndefined)(_)?m.getDefaultValue():_;if(t.number&&sE(m.getType())){var C=m.parseValue(_,t.number);x="".concat(C.value).concat(C.unit)}return{name:y,value:x}});h=this.isDetached()?g.reduce(function(m,y){return m[y.name]=y.value,m},{}):(o={},o[this.getName()]=g.map(function(m){return m.value}).join(i),o)}return t.camelCase?Object.keys(h).reduce(function(m,y){return m[(0,Ne.camelCase)(y)]=h[y],m},{}):h},r.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var o={},i=this.get("preview");return i&&(o=this.getStyleFromLayer(e,t)),o},r.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,D.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(e,t){var o;t===void 0&&(t={});var i=this.getSelectedLayer();i&&(i.upValues((o={},o[e.getId()]=e.__getFullValue(),o)),!t.__up&&this.__upTargetsStyleProps(t))},r.prototype.__upLayers=function(e,t,o){this.__upTargetsStyleProps(o||t)},r.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return ur.prototype.__upTargets.call(this,e,t)},r.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},r.prototype.__upTargetsStyle=function(e,t){return ur.prototype.__upTargetsStyle.call(this,e,t)},r.prototype.__upSelected=function(e,t){var o=e===void 0?{}:e,i=o.noEvent;t===void 0&&(t={});var s=this.em.Styles,l=this.getSelectedLayer(),c=l==null?void 0:l.getValues();c&&this.getProperties().forEach(function(f){var h,g=(h=c[f.getId()])!==null&&h!==void 0?h:"";f.__getFullValue()!==g&&f.upValue(g,Gn(Gn({},t),{__up:!0}))}),!i&&s.__trgEv(s.events.layerSelect,{property:this})},r.prototype._up=function(e,t){t===void 0&&(t={});var o=e.__layers,i=o===void 0?[]:o,s=bz(e,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},t),ur.prototype._up.call(this,s,t),this},r.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var o=this.layers,i=e.map(function(s){return{values:s}});o.length===i.length?i.map(function(s,l){var c;return(c=o.at(l))===null||c===void 0?void 0:c.upValues(s.values)}):o.reset(i),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(e){var t=this,o=this.parseValue(e);return o.__layers=e.split(xz).map(function(i){return i.trim()}).map(function(i){return t.__parseLayer(i)}).filter(Boolean),o},r.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),o=e.split(Cz),i=this.getProperties();return t?t({value:e,values:o}):i.reduce(function(s,l,c){var f=o[c];return s[l.getId()]=(0,D.isUndefined)(f)?l.getDefaultValue():f,s},{})},r.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var o=this.getName(),i=this.getProperties(),s=this.getLayerSeparator(),l=this.attributes.fromStyle,c=l?l(e,{property:this,name:o,separatorLayers:s}):[];if(!l){var f=this.__splitStyleName(e,o,s).map(function(h){return h.split(t.getSplitSeparator())}).map(function(h){var g={};return i.forEach(function(m,y){var _=h[y];g[m.getId()]=(0,D.isUndefined)(_)?m.getDefaultValue():_}),g});i.forEach(function(h){var g=h.getId();t.__splitStyleName(e,h.getName(),s).map(function(m){var y;return y={},y[g]=m||h.getDefaultValue(),y}).forEach(function(m,y){f[y]=f[y]?Gn(Gn({},f[y]),m):m})}),c=f}return(0,D.isArray)(c)?c:[c]},r.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},r.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var o={},i=this.getName(),s=this.getLayers(),l=this.getProperties(),c=s.map(function(h){return t.getStyleFromLayer(h,e)});if(c.forEach(function(h){(0,D.keys)(h).map(function(g){o[g]||(o[g]=[]),o[g].push(h[g])})}),(0,D.keys)(o).map(function(h){o[h]=o[h].join(t.__getJoinLayers())}),this.isDetached())o[i]="",!s.length&&l.map(function(h){o[h.getName()]=""});else{var f=l.reduce(function(h,g){return h[g.getName()]="",h},{});o[i]=o[i]||"",o=Gn(Gn({},o),f)}return Gn(Gn({},o),e.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),o=(0,D.keys)(t);return!!o.length&&o.every(function(i){return t[i]===e[i]})},r.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var o=this.getName(),i=this.getProperties(),s=(0,D.isString)(t)?t:t({property:this});if((0,D.isString)(s)){var l={};return this.isDetached()?i.map(function(c){l[c.getName()]=s}):l[o]=s,l}else return s}else return{}},r.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,D.isString)(t)?t:e)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return km(e[this.getName()])},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,o=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!o},r.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(Gn(Gn({},e),{__clear:!0})),ur.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(sl);const Oz=Sz;var Ez=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kp=function(){return Kp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Kp.apply(this,arguments)},Tz=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},Pz=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},gg="data-clear-style",kz=function(n){Ez(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this;(0,D.bindAll)(t,"__change","__updateStyle");var o=e.config||{},i=o.em;t.config=o,t.em=i,t.pfx=o.stylePrefix||"",t.ppfx=o.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var s=t.model;s.view=t,t.onValueChange=(0,D.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,D.debounce)(t.updateStatus.bind(t),0),t.listenTo(s,"destroy remove",t.remove),t.listenTo(s,"change:visible",t.updateVisibility),t.listenTo(s,"change:name change:className change:full",t.render),t.listenTo(s,"change:value",t.onValueChange),t.listenTo(s,"change:parentTarget",t.updateStatus),t.listenTo(i,"change:device",t.onValueChange);var l=t.init&&t.init.bind(t);return l&&l(),t}return r.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(gg,"]")]="clear",e},r.prototype.template=function(e){var t=this,o=t.pfx,i=t.ppfx;return`
      <div class="`.concat(o,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(e){var t=this,o=t.pfx,i=t.em,s=e.parent,l=e.attributes,c=l.icon,f=c===void 0?"":c,h=l.info,g=h===void 0?"":h,m=i==null?void 0:i.getConfig().icons,y=(m==null?void 0:m.close)||"";return`
      <span class="`.concat(o,"icon ").concat(f,'" title="').concat(g,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(o,'clear" style="display: none" ').concat(gg,">").concat(y,"</div>"),`
    `)},r.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var e=this;return Xe.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var e,t=this,o=t.model,i=t.pfx,s=t.ppfx,l=t.config,c="".concat(s,"four-color"),f="".concat(s,"color-warn"),h=this.$el.children(".".concat(i,"label")),g=this.getClearEl(),m=g?g.style:{};h.removeClass("".concat(c," ").concat(f)),m.display="none",o.hasValue({noParent:!0})&&l.highlightChanged?(h.addClass(c),l.clearProperties&&(m.display="")):o.hasValue()&&l.highlightComputed&&h.addClass(f),(e=this.parent)===null||e===void 0||e.updateStatus()},r.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(gg,"]"))),this.clearEl},r.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},r.prototype.onValueChange=function(e,t,o){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(e){var t=this.model,o=(0,D.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(o);this.__setValueInput(o)},r.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},r.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(Kp(Kp({},this._getClbOpts()),{value:e}))},r.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.emit&&this.emit.bind(this);o&&o.apply(void 0,Pz([this._getClbOpts()],e,!1))},r.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var o=t.complete,i=t.partial;Tz(t,["complete","partial"]);var s=this.model,l=o!==!1&&i!==!0;(0,Ne.isObject)(e)?s.__upTargetsStyle(e,{avoidStore:!l}):s.upValue(e,{partial:!l})},r.prototype._getClbOpts=function(){var e=this,t=e.model,o=e.el,i=e.createdEl;return{el:o,createdEl:i,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,o=e.model,i=e.el,s=e.$el,l=o.getName(),c=o.getType(),f=o.get("className")||"",h="".concat(t,"property"),g=c==="number"?"".concat(t).concat(c," ").concat(t,"integer"):"".concat(t).concat(c);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(o)),s.find("[data-sm-label]").append(this.templateLabel(o));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(o)),i.className="".concat(h," ").concat(g," ").concat(h,"__").concat(l," ").concat(f).trim(),i.className+=o.isFull()?" ".concat(h,"--full"):"";var y=this.onRender&&this.onRender.bind(this);return y&&y(),this.setValue(o.getValue()),this},r.prototype.onRender=function(){},r}(Xe.Ss);const Vi=kz;var Az=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Lz=function(n){Az(r,n);function r(e){var t=n.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var o=t.collection;return t.listenTo(o,"add",t.addTo),t.listenTo(o,"reset",t.render),t}return r.prototype.addTo=function(e,t,o){this.add(e,null,o)},r.prototype.add=function(e,t,o){o===void 0&&(o={});var i=this,s=i.parent,l=i.config,c=t||this.el,f=new e.typeView({model:e,config:l});s&&(f.parent=s),f.render();var h=f.el;this.properties.push(f),(0,et.Sc)(c,h,o.at)},r.prototype.remove=function(){return Xe.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},r.prototype.render=function(){var e=this,t=this,o=t.$el,i=t.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(l){return e.add(l,s)}),o.empty(),o.append(s),o.attr("class","".concat(i,"properties")),this},r}(Xe.Ss);const u0=Lz;var Mz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gp=function(){return Gp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Gp.apply(this,arguments)},Nz=function(n){Mz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),Vi.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var e=this.pfx,t=this.model,o=t.get("properties");if(o.length&&!this.props){var i=t.isDetached(),s=new u0({config:Gp(Gp({},this.config),{highlightComputed:i,highlightChanged:i}),collection:o,parent:this});s.render(),this.$el.find("#".concat(e,"input-holder")).append(s.el),this.props=s}},r.prototype.clearCached=function(){Vi.prototype.clearCached.apply(this,arguments),delete this.props},r}(Vi);const Zu=Nz;var Dz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rz=function(n){Dz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var e=this,t=e.pfx,o=e.ppfx,i=e.em,s=i==null?void 0:i.getConfig().icons,l=(s==null?void 0:s.close)||"",c=(s==null?void 0:s.move)||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(o,`no-touch-actions" data-move-layer>
          `).concat(c,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(l,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,o=e.config||{};this.em=o.em,this.config=o,this.sorter=e.sorter,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.propertyView=e.propertyView;var i=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},r.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort(this.el)},r.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var o=this.getPreviewEl(),i=e.getStylePreview({number:{min:-3,max:3}}),s=(0,D.keys)(i).map(function(l){return"".concat(l,":").concat(i[l])}).join(";");o.setAttribute("style",s)}},r.prototype.updateVisibility=function(){var e,t=this,o=t.pfx,i=t.model,s=t.propertyView,l=this.getPropertiesWrapper(),c=i.isSelected();l.style.display=c?"":"none",this.$el[c?"addClass":"removeClass"]("".concat(o,"active")),c&&l.appendChild((e=s.props)===null||e===void 0?void 0:e.el)},r.prototype.render=function(){var e=this,t=e.el,o=e.pfx,i=e.model;return t.innerHTML=this.template(),t.className="".concat(o,"layer"),i.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(Xe.Ss);const jz=Rz;var Iz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fz=function(n){Iz(r,n);function r(e){var t=n.call(this,e)||this,o=t.collection,i=e.config||{},s=i.em,l=i.stylePrefix||"",c=i.pStylePrefix||"";t.config=i,t.pfx=l,t.ppfx=c,t.propertyView=e.propertyView,t.className="".concat(l,"layers ").concat(c,"field"),t.listenTo(o,"add",t.addTo),t.listenTo(o,"reset",t.reset),t.items=[];var f=s==null?void 0:s.Utils;return t.sorter=f?new f.Sorter({container:t.el,ignoreViewChildren:1,containerSel:".".concat(l,"layers"),itemSel:".".concat(l,"layer"),pfx:i.pStylePrefix,em:s}):"",o.view=t,t.$el.data("model",o),t.$el.data("collection",o),t}return r.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},r.prototype.addToCollection=function(e,t,o){var i=t||null,s=this,l=s.propertyView,c=s.config,f=s.sorter,h=s.$el,g=new jz({model:e,config:c,sorter:f,propertyView:l}),m=g.render().el;if(this.items.push(g),i)i.appendChild(m);else if(typeof o<"u"){var y="before";h.children().length===o&&(o--,y="after"),o<0?h.append(m):h.children().eq(o)[y](m)}else h.append(m);return m},r.prototype.reset=function(e,t){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),Xe.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},r.prototype.render=function(){var e=this,t=this,o=t.$el,i=t.sorter,s=document.createDocumentFragment();return o.empty(),this.collection.forEach(function(l){return e.addToCollection(l,s)}),o.append(s),o.attr("class",this.className),i&&(i.plh=null),this},r}(Xe.Ss);const Vz=Fz;var Uz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tl=function(){return Tl=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Tl.apply(this,arguments)},zz=function(n){Uz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return Tl(Tl({},Zu.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var e=this,t=e.pfx,o=e.em,i=o==null?void 0:o.getConfig().icons,s=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Zu.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){Zu.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var e=this,t=e.model,o=e.el,i=e.config,s=t.get("properties");if(s.length&&!this.props){var l=new u0({config:Tl(Tl({},i),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});l.render();var c=new Vz({collection:t.layers,config:i,propertyView:this});c.render();var f=o.querySelector("[data-layers-wrapper]");f.appendChild(c.el),this.props=l,this.layersView=c}},r}(Zu);const Bz=zz;var Hz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qp=function(){return qp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},qp.apply(this,arguments)},Wz=function(n){Hz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return qp(qp({},Vi.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var e,t=this,o=t.pfx,i=t.em,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,l=s==null?void 0:s.close;return`
      <div class="`.concat(o,"field ").concat(o,`file">
        <div id='`).concat(o,`input-holder'>
          <div class="`).concat(o,`btn-c">
            <button class="`).concat(o,'btn" id="').concat(o,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(o,'preview-box" class="').concat(o,`preview-file" data-preview-box>
          <div id="`).concat(o,'preview-file" class="').concat(o,`preview-file-cnt" data-preview></div>
          <div id="`).concat(o,'close" class="').concat(o,'preview-file-close" data-clear-asset>').concat(l,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(e){var t=this,o=t.model,i=t.el,s=o.getDefaultValue(),l=i.querySelector("[data-preview-box]"),c=i.querySelector("[data-preview]");l.style.display=!e||e===s?"none":"",c.style.backgroundImage=e||o.getDefaultValue()},r.prototype.openAssetManager=function(){var e=this,t,o=(t=this.em)===null||t===void 0?void 0:t.Assets;o==null||o.open({select:function(i,s){var l=(0,D.isString)(i)?i:i.get("src");e.model.upValue(l,{partial:!s}),s&&o.close()},types:["image"],accept:"image/*"})},r}(Vi);const $z=Wz;var Kz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gz=function(n){Kz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.templateInput=function(e){return""},r.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},r.prototype.setValue=function(e){},r.prototype.onRender=function(){var e=this,t=e.ppfx,o=e.model,i=e.el;if(!this.inputInst){var s=o.input;s.ppfx=t,s.render();var l=i.querySelector(".".concat(t,"fields"));l.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},r.prototype.clearCached=function(){Vi.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(Vi);const Ri=Gz;var qz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yz=function(n){qz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var e=this;Ri.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(o){return e[o]=null}),this},r.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},r.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,o=t.ppfx,i=t.model,s=t.em,l=t.el,c=new DO({target:s,model:i,ppfx:o,onChange:this.__handleChange}),f=c.render();l.querySelector(".".concat(o,"fields")).appendChild(f.el),this.input=(e=f.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=f}},r}(Ri);const Xz=Yz;var Jz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yp=function(){return Yp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Yp.apply(this,arguments)},Px=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},Zz=function(n){Jz(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return Yp(Yp({},ur.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var e=this.attributes,t=e.options,o=e.list;return(t&&t.length?t:o)||[]},r.prototype.getOption=function(e){var t=this,o=(0,Ne.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===o})[0]||null},r.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},r.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(Px(Px([],t,!0),[e],!1))}return this},r.prototype.getOptionId=function(e){return(0,Ne.isDef)(e.id)?e.id:e.value},r.prototype.getOptionLabel=function(e,t){var o;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,l=((0,D.isString)(e)?this.getOption(e):e)||{},c=this.getOptionId(l),f=l.label||l.name||c,h=t.property||this.getId();return s&&((o=this.em)===null||o===void 0?void 0:o.t("styleManager.options.".concat(h,".").concat(c)))||f},r.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ur.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(ur);const Gm=Zz;var Qz=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eB=function(n){Qz(r,n);function r(e){var t=n.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return r.prototype.templateInput=function(){var e=this,t=e.pfx,o=e.ppfx;return`
      <div class="`.concat(o,"field ").concat(o,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(o,`sel-arrow">
          <div class="`).concat(o,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var e=this.pfx,t=this.model,o=t.getOptions();if(!this.input){var i=[];o.forEach(function(l){var c=t.getOptionId(l),f=t.getOptionLabel(c),h=l.style?l.style.replace(/"/g,"&quot;"):"",g=h?'style="'.concat(h,'"'):"",m=c.replace(/"/g,"&quot;");i.push('<option value="'.concat(m,'" ').concat(g,">").concat(f,"</option>"))});var s=this.el.querySelector("#".concat(e,"input-holder"));s.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=s.firstChild}},r.prototype.__setValueInput=function(e){var t=this.model,o=this.getInputEl(),i=t.getOptions()[0],s=i?t.getOptionId(i):"";o&&(o.value=e||s)},r}(Vi);const lE=eB;var tB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xp=function(){return Xp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Xp.apply(this,arguments)},rB=function(n){tB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return Xp(Xp({},Gm.getDefaults()),{full:1})},r}(Gm);const nB=rB;var oB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),iB=function(n){oB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},r.prototype.onRender=function(){var e=this,t=e.pfx,o=e.ppfx,i=this.model,s="".concat(o,"radio-item-label"),l=i.getName(),c=i.getOptions(),f="".concat(t,"radio ").concat(t,"radio-").concat(l),h=i.cid;if(!this.input){var g=[];c.forEach(function(y){var _=y.className?"".concat(y.className," ").concat(t,"icon ").concat(s):"",x=i.getOptionId(y),C="".concat(l,"-").concat(x,"-").concat(h),S=_?"":i.getOptionLabel(x),T=y.title?'title="'.concat(y.title,'"'):"",E=i.getValue()===x?"checked":"";g.push(`
          <div class="`.concat(o,`radio-item">
            <input type="radio" class="`).concat(f,'" id="').concat(C,'" name="').concat(l,"-").concat(h,'" value="').concat(x,'" ').concat(E,`/>
            <label class="`).concat(_||s,'" ').concat(T,' for="').concat(C,'">').concat(S,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(o,"field"));m.innerHTML='<div class="'.concat(o,'radio-items">').concat(g.join(""),"</div>"),this.input=m.firstChild}},r.prototype.__setValueInput=function(e){var t,o=this.model,i=e||o.getDefaultValue(),s=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(i,'"]'));s&&(s.checked=!0)},r}(lE);const aB=iB;var sB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ps=function(){return ps=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ps.apply(this,arguments)},lB=function(n){sB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return ps(ps({},ur.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),ur.callParentInit(ur,this,e,t);var o=this.get("unit"),i=this.getUnits();this.input=(0,Ne.hasWin)()?new jO({model:this}):void 0,i.length&&!o&&this.set("unit",i[0],{silent:!0}),ur.callInit(this,e,t)},r.prototype.__getClearProps=function(){return ps(ps({},ur.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var o=ur.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(o.value,ps({deepCheck:1},t)),s=i.value,l=i.unit;return o.value=s,o.unit=l,o},r.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),o=(0,D.isUndefined)(e)?"":"".concat(e),i=!(0,D.isUndefined)(t)&&o?t:"",s="".concat(o).concat(i);return ur.prototype.getFullValue.apply(this,[s])},r}(ur);const Jp=lB;var uB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zp=function(){return Zp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Zp.apply(this,arguments)},cB=function(n){uB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.defaults=function(){return Zp(Zp({},Jp.getDefaults()),{showInput:1})},r}(Jp);const fB=cB;var dB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qp=function(){return Qp=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Qp.apply(this,arguments)},pB=function(n){dB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.events=function(){return Qp(Qp({},Ri.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(e){var t=this.model,o=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(o.value),Ri.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){Ri.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){Ri.prototype.clearCached.apply(this,arguments),delete this.slider},r}(Ri);const hB=pB;var vB=Xe.pM.extend(GO),gB=vB.extend({extendViewApi:1,init:function(){var n=this,r=n.opts,e=n.em,t=r.module||(e==null?void 0:e.get("StyleManager"));t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:Oz,view:Bz,isType:function(n){if(n&&n.type=="stack")return n}},{id:"composite",model:sl,view:Zu,isType:function(n){if(n&&n.type=="composite")return n}},{id:"file",model:ur,view:$z,isType:function(n){if(n&&n.type=="file")return n}},{id:"color",model:ur,view:Xz,isType:function(n){if(n&&n.type=="color")return n}},{id:"select",model:Gm,view:lE,isType:function(n){if(n&&n.type=="select")return n}},{id:"radio",model:nB,view:aB,isType:function(n){if(n&&n.type=="radio")return n}},{id:"slider",model:fB,view:hB,isType:function(n){if(n&&n.type=="slider")return n}},{id:"integer",model:Jp,view:Ri,isType:function(n){if(n&&n.type=="integer")return n}},{id:"number",model:Jp,view:Ri,isType:function(n){if(n&&n.type=="number")return n}},{id:"base",model:ur,view:Vi,isType:function(n){return n.type="base",n}}]});const c0=gB;var mB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eh=function(){return eh=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},eh.apply(this,arguments)},yB=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},wB=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},_B=function(n){mB(r,n);function r(e,t){t===void 0&&(t={});var o=n.call(this,e)||this,i=t.em;o.em=i;var s=e||{},l=o.buildProperties(s.buildProps),c=o.get("name")||"",f=[];!o.get("id")&&o.set("id",c.replace(/ /g,"_").toLowerCase()),l?f=o.extendProperties(l):f=o.get("properties").map(function(g){return(0,D.isString)(g)?o.buildProperties(g)[0]:g}).filter(Boolean),f=f.map(function(g){return o.checkExtend(g)});var h=new c0(f,{em:i});return h.sector=o,o.set("properties",h),o}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},r.prototype.setName=function(e){return this.set("name",e)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(e){return this.set("open",e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,o=t.models?wB([],t.models,!0):t;return o.filter(function(i){var s=!0;if(e.withValue&&(s=i.hasValue({noParent:!0})),e.withParentValue){var l=i.hasValue({noParent:!0});s=!l&&i.hasValue()}return s})},r.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},r.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},r.prototype.extendProperties=function(e,t,o){o===void 0&&(o=!1);for(var i=e.length,s=t||this.get("properties"),l=this.get("extendBuilded"),c=[],f=0,h=s.length;f<h;f++){for(var g=s[f],m=0,y=0;y<i;y++){var _=e[y];if(g.property==_.property||g.id==_.property){var x=g.properties;x&&x.length&&(g.properties=this.extendProperties(_.properties||[],x,1)),e[y]=l?(0,D.extend)(_,g):g,c[y]=e[y],m=1;continue}}m||(e.push(g),c.push(g))}return o?c.filter(function(C){return C}):e},r.prototype.checkExtend=function(e){var t=((0,D.isString)(e)?{extend:e}:e)||{},o=t.extend,i=yB(t,["extend"]);return o?eh(eh({},this.buildProperties([o])[0]||{}),i):e},r.prototype.buildProperties=function(e){var t,o=e||[];if(!o.length)return[];var i=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return i==null?void 0:i.build(o)},r}(Xe.Kx);const uE=_B;var bB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),th=function(){return th=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},th.apply(this,arguments)},xB=function(n){bB(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={});var o=t.module,i=t.em;this.em=i,this.module=o,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(e,t){t===void 0&&(t={});var o=t.collection.em;return new uE(e,th(th({},t),{em:o}))},r.prototype.onReset=function(e,t){t===void 0&&(t={});var o=t.previousModels||[];o.forEach(function(i){return i.get("properties").reset()})},r}(Xe.pM);const CB=xB;var _a=function(){return _a=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},_a.apply(this,arguments)},SB=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},as=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},Gr=function(n){return n.map(function(r){return{id:r}})},OB=function(){function n(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",e=["flex-start","flex-end","center"],t=as(as([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Gr(["auto","cover","contain"]),this.optsBgAttach=Gr(["scroll","fixed","local"]),this.optsBgRepeat=Gr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Gr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Gr(["visible","hidden","scroll","auto"]),this.optsDir=Gr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Gr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Gr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Gr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Gr(["none","left","right"]),this.optsPos=Gr(["static","relative","absolute","fixed"]),this.optsTextAlign=Gr(["left","center","right","justify"]),this.optsFlexAlign=Gr(t),this.optsJustCont=Gr(as(as([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Gr(as(as([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Gr(as(["auto"],t,!0)),this.optsTransitProp=Gr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Gr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Gr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(o){return{id:o,label:o.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return n.prototype.__sub=function(r){var e=this;return function(){return r.map(function(t){if((0,D.isString)(t))return e.get(t);var o=t.extend,i=SB(t,["extend"]);return _a(_a({},e.get(o)),i)})}},n.prototype.init=function(){var r=this,e=this,t=e.fixedValues,o=e.requireFlex,i=e.typeNumber;this.props={};var s=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:o},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:o}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:o},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:o},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(l,c){var f=c.values,h=f["box-shadow-h"],g=f["box-shadow-v"],m=f["box-shadow-blur"],y=f["box-shadow-spread"];return"".concat(h," ").concat(g," ").concat(m," ").concat(y)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(l,c){var f=c.values,h=f["text-shadow-h"],g=f["text-shadow-v"],m=f["text-shadow-blur"];return"".concat(h," ").concat(g," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(l,c){var f=c.values,h=f["background-repeat-sub"]||"",g=f["background-position-sub"]||"",m=f["background-attachment-sub"]||"",y=f["background-size-sub"]||"";return[h,g,m,y].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(l,c){var f=c.property,h=c.name,g=l[h]||"",m=f.getLayerSeparator();return g?g.split(m).map(function(y){var _=f.__parseFn(y),x=_.name,C=_.value;return{"transform-type":x,"transform-value":C}}):[]},toStyle:function(l,c){var f,h=c.name;return f={},f[h]="".concat(l["transform-type"],"(").concat(l["transform-value"],")"),f},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(l){var c=l.property,f=l.to;if(f.value){var h=c.getOption(),g=_a({},h.propValue||{}),m=c.getParent().getProperty("transform-value"),y=m.getUnit();(!y||(g==null?void 0:g.units.indexOf(y))<0)&&(g.unit=(g==null?void 0:g.units[0])||""),m.up(g)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(l){var c=l[0],f=l[1],h=l[2];r.add(c,f||{},{from:h})}),this},n.prototype.add=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={});var o=t.from||"",i=this.props[o||r]||{},s=_a(_a(_a({},i),{property:r}),e);return s.properties&&(0,D.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[r]=s,s},n.prototype.get=function(r){return this.props[r]},n.prototype.build=function(r){var e=this,t=[],o=(0,D.isString)(r)?[r]:r;return o.forEach(function(i){t.push(e.get(i)||{property:i})}),t},n}();const EB=OB;var TB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PB=function(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n},kB=function(n){TB(r,n);function r(e){var t=n.call(this,e)||this,o=e.config||{},i=t.model,s=o.em;return t.config=o,t.em=s,t.pfx=o.stylePrefix||"",t.listenTo(i,"destroy remove",t.remove),t.listenTo(i,"change:open",t.updateOpen),t.listenTo(i,"change:visible",t.updateVisibility),t}return r.prototype.template=function(e){var t,o=e.pfx,i=e.label,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,l=(s==null?void 0:s.caret)||"",c="".concat(o,"sector-");return Jn(kx||(kx=PB([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),c,c,l,c,i)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var e=this,t=e.$el,o=e.model,i=e.pfx,s=o.isOpen();t[s?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=s?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var e=this,t=e.$el,o=e.pfx;return t.find(".".concat(o,"properties")).get(0)},r.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},r.prototype.renderProperties=function(){var e=this,t=e.model,o=e.config,i=t.get("properties");if(i){var s=new u0({collection:i,config:o});this.$el.append(s.render().el)}},r.prototype.render=function(){var e=this,t=e.pfx,o=e.model,i=e.$el,s=o.getId(),l=o.getName();return i.html(this.template({pfx:t,label:l})),this.renderProperties(),i.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(s," no-select")),this.updateOpen(),this},r}(Xe.Ss);const AB=kB;var kx,LB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MB=function(n){LB(r,n);function r(e){e===void 0&&(e={});var t=n.call(this,e)||this,o=e.module,i=e.config,s=t.collection;return t.pfx=(i==null?void 0:i.stylePrefix)||"",t.ppfx=(i==null?void 0:i.pStylePrefix)||"",t.config=i,t.module=o,t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset",t.render),t}return r.prototype.remove=function(){var e=this;return Xe.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},r.prototype.addTo=function(e,t,o){o===void 0&&(o={}),this.addToCollection(e,null,o)},r.prototype.addToCollection=function(e,t,o){o===void 0&&(o={});var i=this,s=i.config,l=i.el,c=t||l,f=new AB({model:e,config:s}).render().el;return(0,et.Sc)(c,f,o.at),f},r.prototype.render=function(){var e=this,t=this,o=t.$el,i=t.pfx,s=t.ppfx;o.empty();var l=document.createDocumentFragment();return this.collection.each(function(c){return e.addToCollection(c,l)}),o.append(l),o.addClass("".concat(i,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},r}(Xe.Ss);const NB=MB;var DB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ba=function(){return ba=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ba.apply(this,arguments)},Ax=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},cE="style",nf="".concat(cE,":"),f0="".concat(nf,"sector"),RB="".concat(f0,":add"),jB="".concat(f0,":remove"),IB="".concat(f0,":update"),d0="".concat(nf,"property"),FB="".concat(d0,":add"),VB="".concat(d0,":remove"),UB="".concat(d0,":update"),fE="".concat(nf,"layer:select"),qm="".concat(nf,"target"),zB="".concat(nf,"custom"),Lx=function(n){return n||n===0},BB={all:cE,sectorAdd:RB,sectorRemove:jB,sectorUpdate:IB,propertyAdd:FB,propertyRemove:VB,propertyUpdate:UB,layerSelect:fE,target:qm,custom:zB},HB=function(n){DB(r,n);function r(e){var t=n.call(this,e,"StyleManager",new CB([],{em:e}),BB,cz)||this;t.Sector=uE,t.storageKey="",(0,D.bindAll)(t,"__clearStateTarget");var o=t.config,i=o.pStylePrefix;i&&(o.stylePrefix=i+o.stylePrefix),t.builtIn=new EB,t.properties=new c0([],{em:e,module:t}),t.sectors=t.all;var s=new Xe.Kx({targets:[]});t.model=s;var l=wn.I.update,c="component:toggled ".concat(l,":classes change:state change:device frame:resized selector:type");t.upAll=(0,D.debounce)(function(){return t.__upSel()},0),s.listenTo(e,c,t.upAll),s.listenTo(e,"component:toggled",t.__clearStateTarget);var f=(0,D.debounce)(function(){t.__upProps(),t.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",f);var h=(0,D.debounce)(function(){return t.__trgCustom()},0);return s.listenTo(e,"".concat(fE," ").concat(qm),h),s.on("change:lastTarget",function(){return e.trigger(qm,t.getSelected())}),t}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(e){for(var t,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];(t=this.em).trigger.apply(t,Ax([e],o,!1))},r.prototype.__clearStateTarget=function(){var e=this,t=this.em,o=this.__getStateTarget();o&&(t==null||t.skip(function(){t.Css.remove(o),e.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(e,t,o){o===void 0&&(o={});var i=this.getSector(e);return i||(t.id=e,i=this.sectors.add(t,o)),i},r.prototype.getSector=function(e,t){t===void 0&&(t={});var o=this.sectors.where({id:e})[0];return!o&&t.warn&&this._logNoSector(e),o||null},r.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,o=t&&t.models?e.array?Ax([],t.models,!0):t:[];return e.visible?o.filter(function(i){return i.isVisible()}):o},r.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},r.prototype.addProperty=function(e,t,o){o===void 0&&(o={});var i=this.getSector(e,{warn:!0}),s;return i&&(s=i.addProperty(t,o)),s},r.prototype.getProperty=function(e,t){var o=this.getSector(e,{warn:!0}),i;return o&&(i=o.properties.filter(function(s){return s.get("property")===t||s.get("id")===t})[0]),i},r.prototype.getProperties=function(e){var t,o=this.getSector(e,{warn:!0});return o&&(t=o.properties),t},r.prototype.removeProperty=function(e,t){var o=this.getProperties(e);return o?o.remove(this.getProperty(e,t)):null},r.prototype.select=function(e,t){var o=this;t===void 0&&(t={});var i=this.em,s=(0,D.isArray)(e)?e:[e],l=t.stylable,c=i.Css,f=[];s.filter(Boolean).forEach(function(x){var C=x;if((0,D.isString)(x)){var S=c.getRule(x)||c.setRule(x);!(0,D.isUndefined)(l)&&S.set({stylable:l}),C=S}f.push(C)});var h=t.component||f.filter(function(x){return(0,Ne.isComponent)(x)}).reverse()[0];f=f.map(function(x){return o.getModelToStyle(x)});var g=i.getState(),m=f.slice().reverse()[0],y=this.getParentRules(m,{state:g,component:h}),_=this.__getStateTarget();return i.skip(function(){var x;if(g&&(!((x=m==null?void 0:m.getState)===null||x===void 0)&&x.call(m))){var C=m.getStyle();_?_.setStyle(C):_=c.getAll().add({selectors:"gjs-selected",style:C,shallow:!0,important:!0})}else _&&(c.remove(_),_=void 0)}),this.model.set({targets:f,lastTarget:m,lastTargetParents:y,stateTarget:_,component:h}),this.__upProps(t),f},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(s){return s.addStyle(e,t)});var o=this.getSelected();o&&this.__emitCmpStyleUpdate(e);var i=this.__getStateTarget();o&&(i==null||i.setStyle(o.getStyle(),t))},r.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},r.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var o=this.em,i=t.skipAdd;if(o&&(e!=null&&e.toHTML)){var s=o.getConfig(),l=o.UndoManager,c=o.Css,f=o.Selectors,h=f?f.getConfig():{},g=s.devicePreviewMode?"":o.get("state"),m=e.get("classes"),y=m.getStyleable(),_=y.length,x=!h.componentFirst||t.useClasses,C={noCount:1},S={state:g,addOpts:C};l.skip(function(){var T;if(_&&x){var E=o.getCurrentMedia();T=c.get(y,g,E),!T&&!i&&(T=c.add(y,g,E,{},C))}else if(s.avoidInlineStyle){var N=e.getId();T=c.getIdRule(N,S),!T&&!i&&(T=c.setIdRule(N,{},S)),e.is("wrapper")&&T.set("wrapper",1,C)}T&&(e=T)})}return e},r.prototype.getParentRules=function(e,t){var o=t===void 0?{}:t,i=o.state,s=o.component,l=this.em,c=[];if(l&&e){var f=s,h=l.Css,g=l.CodeManager.getGenerator("css"),m=e.toHTML?e:e.getComponent(),y={array:!0},_=[],x=[],C=[],S=[],T=[],E=function(Q){return Q.length?h.getRules().filter(function($){var te=$.getSelectors().map(function(U){return U.getFullName()});return te.length===0?!1:te.every(function(U){return Q.indexOf(U)>=0})}):[]},N=function(Q){return Q?h.getRules().filter(function($){return $.selectorsToString()===Q}):[]};if(m)_=h.getRules("#".concat(m.getId())),x=N(m.get("tagName")),S=f?E(f.getSelectors().getFullName(y)):[],T=S.concat(x).concat(_);else{_=f?h.getRules("#".concat(f.getId())):[],x=N((f==null?void 0:f.get("tagName"))||"");var K=(f==null?void 0:f.getSelectors().getFullName(y))||[],re=K.filter(function(Q){return e.getSelectors().getFullName(y).findIndex(function($){return $===Q})===-1});C=E(re.concat(e.getSelectors().getFullName(y))),T=x.concat(_).concat(C)}var ue=T.filter(function(Q){return(0,D.isUndefined)(i)?1:Q.get("state")===i}).sort(g.sortRules).reverse();c=ue.slice(ue.indexOf(e)+1)}return c},r.prototype.addType=function(e,t){this.properties.addType(e,t)},r.prototype.getType=function(e){return this.properties.getType(e)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(e,t){var o=t===void 0?{}:t,i=o.model,s=i===void 0?{}:i,l=o.view,c=l===void 0?{}:l,f=this.config,h=this.getType(e);if(h)return new h.view(ba({model:new h.model(s),config:f},c))},r.prototype.render=function(){var e=this,t=e.config,o=e.em,i=e.SectView,s=i&&i.el;return this.SectView=new NB({el:s,em:o,config:t,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var o=this.em;if(!e.__p){var i=this.getSelectedAll(),s=t.components||o.getSelectedAll(),l=Array.isArray(s)?s:[s],c=ba({},e);delete c.__p,l.forEach(function(f){return!i.includes(f)&&f.__onStyleChange(c)})}},r.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var o=this.getSelected();if(o){var i=this.sectors,s=this.model.get("component"),l=this.getSelectedParents(),c=o.getStyle(),f=l.map(function(h){return{target:h,style:h.getStyle()}});i.map(function(h){h.getProperties().map(function(g){t.__upProp(g,c,f,e)})}),i.forEach(function(h){var g=h.getProperties();g.forEach(function(y){var _=y.__checkVisibility({target:o,component:s,sectors:i});y.set("visible",_)});var m=g.some(function(y){return y.isVisible()});h.set("visible",m)})}},r.prototype.__upProp=function(e,t,o,i){var s=this,l=e.getName(),c=t[l],f=Lx(c),h=e.getType()==="stack",g=e.getType()==="composite",m=ba(ba({},i),{__up:!0}),y=!g&&!h,_=e,x=e,C=h?_.__getLayersFromStyle(t):[],S=g?x.__getPropsFromStyle(t):{},T=f?c:null,E=null;if(h&&C===null||g&&S===null){var N=h?"__getLayersFromStyle":"__getPropsFromStyle",K=o.filter(function(te){return _[N](te.style)!==null})[0];if(K){T=K.style[l],E=K.target;var re=_[N](K.style);h?C=re:S=re}}else if(!f){T=null;var K=o.filter(function(U){return Lx(U.style[l])})[0];K&&(T=K.style[l],E=K.target)}if(e.__setParentTarget(E),y&&e.__getFullValue()!==T&&e.upValue(T,m),h&&_.__setLayers(C||[],{isEmptyValue:_.isEmptyValueStyle(t)}),g){var ue=x.getProperties();if(x.isDetached()){var Q=x.__getPropsFromStyle(t,{byName:!0})||{},$=o.map(function(te){return ba(ba({},te),{style:x.__getPropsFromStyle(te.style,{byName:!0})||{}})});ue.map(function(te){return s.__upProp(te,Q,$,i)})}else x.__setProperties(S||{},m),x.getProperties().map(function(te){return te.__setParentTarget(E)})}},r.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},r}(Ka);const WB=HB;var $B=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gn=function(){return gn=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},gn.apply(this,arguments)},mg=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},yg=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},KB=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(n);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(n,t[o])&&(e[t[o]]=n[t[o]]);return e},GB=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))};hN().$=pr.default;var qB=[CU,fU,UU,J3,LF,VN,gF,WB,iF,JU,H3,_3,uz,iV,EV,oR,gV,zI],YB=[YV,OI,oU,uI];vN({$:pr.default});var Mx={debug:console.log,info:console.info,warning:console.warn,error:console.error},XB=function(n){$B(r,n);function r(e){e===void 0&&(e={});var t=n.call(this)||this;t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var o=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new yN),t.set("dmode",o.dragMode);var i=o.el,s=o.log,l=s===!0?(0,D.keys)(Mx):(0,D.isArray)(s)?s:[];return(0,D.bindAll)(t,"initBaseColorPicker"),i&&o.fromElement&&(o.components=i.innerHTML),t.attrsOrig=i?(0,D.toArray)(i.attributes).reduce(function(c,f){return c[f.nodeName]=f.nodeValue,c},{}):"",o.components&&!o.pageManager&&(o.pageManager={pages:[{component:o.components}]}),qB.forEach(function(c){return t.loadModule(c)}),YB.forEach(function(c){return t.loadStorableModule(c)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),l.forEach(function(c){return t.listenLog(c)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(c){var f=c.from,h=c.to;t.listenTo(t,f,function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];t.trigger.apply(t,GB([h],g,!1)),t.logWarning("The event '".concat(f,"' is deprecated, replace it with '").concat(h,"'"))})}),t}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),Mx[e])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){var t=this.config;return(0,D.isUndefined)(e)?t:t[e]},r.prototype.loadOnStart=function(){var e=this,t=this.config,o=t.projectData,i=t.headless,s=this.Storage;this.toLoad.reverse().forEach(function(f){return f.onLoad()});var l=function(){e.modules.forEach(function(f){return f.postLoad&&f.postLoad(e)}),e.set("readyLoad",1)};i?(o&&this.loadData(o),l()):this._storageTimeout=setTimeout(function(){return mg(e,void 0,void 0,function(){var f;return yg(this,function(h){switch(h.label){case 0:return o?(this.loadData(o),[3,5]):[3,1];case 1:if(!(s!=null&&s.canAutoload()))return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.load()];case 3:return h.sent(),[3,5];case 4:return f=h.sent(),this.logError(f),[3,5];case 5:return l(),[2]}})})});var c=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},r.prototype.updateChanges=function(e,t,o){var i=this,s=this.Storage,l=this.getDirtyCount();o.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=l?function(){return!0}:null),s.isAutosave()&&l>=s.getStepsBeforeSave()&&this.store().catch(function(c){return i.logError(c)})},r.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},r.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},r.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(e,t,o){var i=this;o===void 0&&(o={}),!(this.__skip||o.temporary||o.noCount||o.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=i.getDirtyCount()||0;o.unset;var l=KB(o,["unset"]);i.set("changesCount",s+1,l)},0))},r.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},r.prototype.componentHovered=function(e,t,o){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,o),t&&this.trigger("component:hovered",t,o)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(e,t){var o=this;t===void 0&&(t={});var i=t.event,s=i&&(i.ctrlKey||i.metaKey),l=(i||{}).shiftKey,c=((0,D.isArray)(e)?e:[e]).map(function(m){var y,_;return((_=(y=m==null?void 0:m.delegate)===null||y===void 0?void 0:y.select)===null||_===void 0?void 0:_.call(y,m))||m}).filter(Boolean),f=this.getSelectedAll(),h=this.getConfig().multipleSelection,g=(0,D.isArray)(e);(g||!e)&&this.removeSelected(f.filter(function(m){return!(0,D.contains)(c,m)})),c.forEach(function(m){if(m&&(o.trigger("component:select:before",m,t),!m.get("selectable")||t.abort))if(t.useValid){for(var y=m.parent();y&&!y.get("selectable");)y=y.parent();m=y}else return;if(s&&h)return o.toggleSelected(m);if(l&&h){o.clearSelection(o.Canvas.getWindow());var _=m.collection,x=m.index(),C,S;if(o.getSelectedAll().forEach(function(T){var E=T.collection,N=T.index();E===_&&(N<x?C=(0,D.isUndefined)(C)?N:Math.max(C,N):N>x&&(S=(0,D.isUndefined)(S)?N:Math.min(S,N)))}),!(0,D.isUndefined)(C))for(;C!==x;)o.addSelected(_.at(C)),C++;if(!(0,D.isUndefined)(S))for(;S!==x;)o.addSelected(_.at(S)),S--;return o.addSelected(m)}!g&&o.removeSelected(f.filter(function(T){return T!==m})),o.addSelected(m,t)})},r.prototype.addSelected=function(e,t){var o=this;t===void 0&&(t={});var i=(0,D.isArray)(e)?e:[e];i.forEach(function(s){var l=o.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(f){return l.hasComponent(f)}))){t.forceChange&&o.removeSelected(s,t);var c=l.allComponents().filter(function(f){return(0,D.contains)(f.parents(),s)});c.forEach(function(f){return o.removeSelected(f,t)}),l.addComponent(s,t),o.trigger("component:select",s,t),o.Canvas.addSpot({type:jo.F.Select,component:s})}})},r.prototype.removeSelected=function(e,t){var o=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var i=(0,D.isArray)(e)?e:[e];i.forEach(function(s){return o.Canvas.removeSpots({type:jo.F.Select,component:s})})},r.prototype.toggleSelected=function(e,t){var o=this;t===void 0&&(t={});var i=(0,D.isArray)(e)?e:[e];i.forEach(function(s){o.selected.hasComponent(s)?o.removeSelected(s,t):o.addSelected(s,t)})},r.prototype.setHovered=function(e,t){var o=this;t===void 0&&(t={});var i=function(c,f){var h=o,g=h.config,m=h.Canvas,y=o.getHovered(),_=o.getSelectedAll(),x=jo.F.Hover,C=jo.F.Spacing;o.set("componentHovered",c||null,f),y&&(m.removeSpots({type:x,component:y}),m.removeSpots({type:C,component:y})),c&&(m.addSpot({type:x,component:c}),(!_.includes(c)||g.showOffsetsSelected)&&m.addSpot({type:C,component:c}))};if(!e)return i();var s="component:hover";if(t.forceChange&&i(),this.trigger("".concat(s,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var l=e.parent();l&&!l.get("hoverable");)l=l.parent();e=l}else return;t.abort||(i(e,t),this.trigger(s,e,t))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},r.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var o=e.getComponents();return t.getCode(o,"json")}},r.prototype.setStyle=function(e,t){t===void 0&&(t={});var o=this.Css;return o.clear(t),o.getAll().add(e,t),this},r.prototype.addStyle=function(e,t){t===void 0&&(t={});var o=this.getStyle().add(e,t);return(0,D.isArray)(o)?o:[o]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(e){return this.set("state",e),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,o=t.optsHtml,i=t.jsInHtml?this.getJs(e):"",s=e.component||this.Components.getComponent(),l=s?this.CodeManager.getCode(s,"html",gn(gn({},o),e)):"";return l+=i?"<script>".concat(i,"<\/script>"):"",l},r.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,o=t.optsCss,i=e.avoidProtected,s=(0,D.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,l=this.Css,c=e.component||this.Components.getComponent(),f=i?"":t.protectedCss,h=c&&this.CodeManager.getCode(c,"css",gn(gn({cssc:l,keepUnusedStyles:s},o),e));return c?e.json?h:f+h:""},r.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},r.prototype.store=function(e){return mg(this,void 0,void 0,function(){var t;return yg(this,function(o){switch(o.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return o.sent(),this.clearDirtyCount(),[2,t]}})})},r.prototype.load=function(e){return mg(this,arguments,void 0,function(t,o){var i;return o===void 0&&(o={}),yg(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(t)];case 1:return i=s.sent(),this.loadData(i),[4,(0,Ne.wait)()];case 2:return s.sent(),o.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},r.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){e=gn(gn({},e),o.store(1))}),JSON.parse(JSON.stringify(e))},r.prototype.loadData=function(e){return e===void 0&&(e={}),(0,Ne.isEmptyObj)(e)||(this.storables.forEach(function(t){return t.clear()}),this.storables.forEach(function(t){return t.load(e)})),e},r.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},r.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},r.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands");if(t){var o=t.get(this.config.defaultCommand);!o||!this.defaultRunning||(o.stop(this,this,e),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},r.prototype.clearSelection=function(e){var t,o=e||window;(t=o.getSelection())===null||t===void 0||t.removeAllRanges()},r.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),o=e.mediaCondition,i=e.devicePreviewMode,s=t&&t.get("widthMedia");return t&&s&&!i?"(".concat(o,": ").concat(s,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},r.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(e){var t=(e==null?void 0:e.getDragMode())||this.get("dmode");return t||""},r.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.get("I18n");return o==null?void 0:o.t.apply(o,e)},r.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},r.prototype.destroyAll=function(){var e=this,t=this,o=t.config,i=t.view,s=this.getEditor(),l=(o.grapesjs||{}).editors,c=l===void 0?[]:l,f=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),f==null||f.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(h){return h.destroy()}),i!=null&&i.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(h){return e[h]={}}),c.splice(c.indexOf(s),1),(0,Ne.hasWin)()&&(0,pr.default)(o.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},r.prototype.setEditing=function(e){return this.set("editing",e),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(e,t){t===void 0&&(t={});var o=t.ns,i=t.level,s=i===void 0?"debug":i;if(this.trigger("log",e,t),s&&this.trigger("log:".concat(s),e,t),o){var l="log-".concat(o);this.trigger(l,e,t),s&&this.trigger("".concat(l,":").concat(s),e,t)}},r.prototype.logInfo=function(e,t){this.log(e,gn(gn({},t),{level:"info"}))},r.prototype.logWarning=function(e,t){this.log(e,gn(gn({},t),{level:"warning"}))},r.prototype.logError=function(e,t){this.log(e,gn(gn({},t),{level:"error"}))},r.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var o=this.config,i=o.colorPicker,s=i===void 0?{}:i,l=o.el,c=o.stylePrefix;return(0,pr.default)(e).spectrum(gn(gn({containerClassName:"".concat(c,"one-bg ").concat(c,"two-color"),appendTo:l||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},t),s))},r.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},r.prototype.data=function(e,t,o){var i="_gjs-data";if(e[i]||(e[i]={}),(0,D.isUndefined)(o))return e[i][t];e[i][t]=o},r}(Xe.Kx);const JB=XB;var ZB=function(){var n=function(r,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},n(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QB=function(n){ZB(r,n);function r(e){var t=n.call(this,{model:e})||this,o=e.Panels,i=e.UndoManager;return e.view=t,e.once("change:ready",function(){o.active(),o.disableButtons(),i.clear(),setTimeout(function(){e.trigger("load",e.Editor),e.clearDirtyCount()})}),t}return r.prototype.render=function(){var e=this,t=this,o=t.$el,i=t.model,s=i.Panels,l=i.Canvas,c=i.config,f=i.modules,h=c.stylePrefix,g=["".concat(h,"editor")];!c.customUI&&g.push("".concat(h,"one-bg ").concat(h,"two-color"));var m=(0,pr.default)(c.el||"body ".concat(c.container));c.cssIcons&&(0,Ne.appendStyles)(c.cssIcons,{unique:!0,prepand:!0}),o.empty(),c.width&&m.css("width",c.width),c.height&&m.css("height",c.height),o.append(l.render()),o.append(s.render());var y=i.shallow,_=y.Canvas.render();return _.style.display="none",o.append(_),o.attr("class",g.join(" ")),m.addClass("".concat(h,"editor-cont")).empty().append(o),f.forEach(function(x){var C;return(C=x.postRender)===null||C===void 0?void 0:C.call(x,e)}),this},r}(Xe.Ss);const eH=QB;var bc=function(){return bc=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},bc.apply(this,arguments)},Nx=function(n,r,e,t){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(h){try{f(t.next(h))}catch(g){s(g)}}function c(h){try{f(t.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):o(h.value).then(l,c)}f((t=t.apply(n,r||[])).next())})},Dx=function(n,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(h){return c([f,h])}}function c(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,o=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(n,e)}catch(h){f=[6,h],o=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},tH=function(n,r,e){if(e||arguments.length===2)for(var t=0,o=r.length,i;t<o;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return n.concat(i||Array.prototype.slice.call(r))},rH=function(){function n(r,e){r===void 0&&(r={}),e===void 0&&(e={});var t;this.html=Jn,this.config=bc(bc(bc({},mb),r),{pStylePrefix:(t=r.stylePrefix)!==null&&t!==void 0?t:mb.stylePrefix}),this.em=new JB(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(n.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(r){return this.em.getConfig(r)},n.prototype.getHtml=function(r){return this.em.getHtml(r)},n.prototype.getCss=function(r){return this.em.getCss(r)},n.prototype.getJs=function(r){return this.em.getJs(r)},n.prototype.getComponents=function(){return this.Components.getComponents()},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setComponents=function(r,e){return e===void 0&&(e={}),this.em.setComponents(r,e),this},n.prototype.addComponents=function(r,e){return this.getWrapper().append(r,e)},n.prototype.getStyle=function(){return this.em.Css.getAll()},n.prototype.setStyle=function(r,e){return e===void 0&&(e={}),this.em.setStyle(r,e),this},n.prototype.addStyle=function(r,e){return e===void 0&&(e={}),this.em.addStyle(r,e)},n.prototype.getSelected=function(){return this.em.getSelected()},n.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},n.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},n.prototype.select=function(r,e){return this.em.setSelected(r,e),this},n.prototype.selectAdd=function(r){return this.em.addSelected(r),this},n.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},n.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},n.prototype.getEditing=function(){return this.em.getEditing()},n.prototype.setDevice=function(r){return this.em.set("device",r),this},n.prototype.getDevice=function(){return this.em.get("device")},n.prototype.runCommand=function(r,e){return e===void 0&&(e={}),this.Commands.run(r,e)},n.prototype.stopCommand=function(r,e){return e===void 0&&(e={}),this.Commands.stop(r,e)},n.prototype.store=function(r){return Nx(this,void 0,void 0,function(){return Dx(this,function(e){switch(e.label){case 0:return[4,this.em.store(r)];case 1:return[2,e.sent()]}})})},n.prototype.load=function(r){return Nx(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),Dx(this,function(o){switch(o.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,o.sent()]}})})},n.prototype.getProjectData=function(){return this.em.storeData()},n.prototype.loadProjectData=function(r){return this.em.loadData(r)},n.prototype.storeData=function(){return this.em.storeData()},n.prototype.loadData=function(r){return this.em.loadData(r)},n.prototype.getContainer=function(){return this.config.el},n.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},n.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},n.prototype.refresh=function(r){this.em.refreshCanvas(r)},n.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},n.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},n.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},n.prototype.log=function(r,e){return e===void 0&&(e={}),this.em.log(r,e),this},n.prototype.t=function(){for(var r,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.em).t.apply(r,e)},n.prototype.on=function(r,e){return this.em.on(r,e),this},n.prototype.once=function(r,e){return this.em.once(r,e),this},n.prototype.off=function(r,e){return this.em.off(r,e),this},n.prototype.trigger=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,tH([r],e,!0)),this},n.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},n.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},n.prototype.getModel=function(){return this.em},n.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new eH(this.em),this.editorView.render().el},n.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},n}();const nH=rH;var oH=function(n,r){var e=r.get(n);if(!e){var t=(0,Ne.getGlobal)()[n];e=(t==null?void 0:t.default)||t}return e},dE=function(n,r){return(0,D.isString)(n)?oH(n,r):(n==null?void 0:n.default)||n},pE=function(n,r){n.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},iH=function(){function n(){this.plugins={}}return n.prototype.add=function(r,e){var t=this.get(r);return t||(this.plugins[r]=e,e)},n.prototype.get=function(r){return this.plugins[r]},n.prototype.getAll=function(){return this.plugins},n}();const aH=iH,sH=function(){var n=function(){for(var e,t=window.navigator.userAgent,o=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<o.length;i++){var s=o[i];if(e=s[1].exec(t),e)break}return!!e};if((0,Ne.hasWin)()&&n()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),r.apply(document.implementation,[e])}}};var rh=function(){return rh=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},rh.apply(this,arguments)};sH();var Ym=new aH,Rx=[],hE=function(n,r){var e=dE(n,Ym);return function(t){e?e(t,r||{}):pE(t,n)}},vE={$:pr.default,editors:Rx,plugins:Ym,usePlugin:hE,version:"0.21.13",init:function(n){n===void 0&&(n={});var r=n.headless,e=n.container;if(!e&&!r)throw new Error("'container' is required");var t=rh(rh({autorender:!0,plugins:[],pluginsOpts:{}},n),{grapesjs:this,el:r?void 0:(0,D.isElement)(e)?e:document.querySelector(e)}),o=new nH(t,{$:pr.default}),i=o.getModel();return t.plugins.forEach(function(s){var l=dE(s,Ym),c=t.pluginsOpts[s]||{};l?l(o,c):pE(o,s)}),i.loadOnStart(),t.autorender&&!r&&o.render(),Rx.push(o),o}};const lH=vE;var uH=F1.Ay;let Ai=null;function cH(){const n=_h(),{topicId:r}=IA(),e=localStorage.getItem("userId"),[t,o]=Ve.useState(null),[i,s]=Ve.useState(null),[l,c]=Ve.useState(!1),[f,h]=Ve.useState(!1),[g,m]=Ve.useState(""),[y,_]=Ve.useState(!1),[x,C]=Ve.useState(""),[S,T]=Ve.useState(null),[E,N]=Ve.useState(null),[K,re]=Ve.useState(!1),[ue,Q]=Ve.useState(!1),[$,te]=Ve.useState(""),U="http://localhost:5000/api";Ve.useEffect(()=>{e&&r?(R(),W()):(Nt.error("User ID and Topic ID are required!"),n("/"))},[e,r,n]),Ve.useEffect(()=>{!t&&(i||Ai||!l)&&!l&&H()},[i,t,l,Ai]);const R=async()=>{try{const Ce=await Wt.get(`${U}/get_blog?user_id=${e}&topic_id=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Ce.data.error)console.warn("No blog content found:",Ce.data.error),s({title:"",intro:"",body:""});else{const{title:le,intro:be,body:Te}=Ce.data;s({title:le,intro:be,body:Te})}}catch(Ce){console.error("Fetch blog content error:",Ce),s({title:"",intro:"",body:""}),Nt.error("Failed to fetch blog content, using default state")}},W=async()=>{try{re(!0);const Ce=await Wt.get(`${U}/get_webpage?user_id=${e}&topic_id=${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});Ce.data.error?(console.warn("No webpage content found:",Ce.data.error),Ai='<div class="max-w-4xl mx-auto px-4 py-8"><h1 class="text-4xl font-bold mb-6">Untitled</h1><div class="prose prose-lg">Start editing...</div></div>',Nt.info("No saved webpage content found, starting with default.")):Ce.data.html_content&&(Ai=Ce.data.html_content,Nt.success("Webpage content loaded successfully!"))}catch(Ce){console.error("Fetch webpage content error:",Ce),Ai='<div class="max-w-4xl mx-auto px-4 py-8"><h1 class="text-4xl font-bold mb-6">Untitled</h1><div class="prose prose-lg">Start editing...</div></div>',Nt.error("Failed to fetch webpage content, using default state")}finally{re(!1),t&&!l&&(t.setComponents(Ai||""),c(!0))}},H=()=>{const Ce=uH.init({container:"#gjs",height:"70vh",width:"auto",storageManager:!1,canvas:{styles:["https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"]}});if(Ce.on("component:add",le=>{le.set({resizable:!0,draggable:!0})}),o(Ce),Ce.Commands.add("generate-or-modify",{run:le=>{if(!$){Nt.error("Please enter a prompt!");return}ie($)}}),Ce.Panels.addPanel({id:"custom-panel",visible:!0,buttons:[{id:"generate-or-modify",className:"fa fa-edit",command:"generate-or-modify",attributes:{title:"Generate/Modify Content in Selected Container"}}]}),Ai&&!l)Ce.setComponents(Ai),c(!0);else if(i&&!l){const le=`
        <div class="max-w-4xl mx-auto px-4 py-8">
          <h1 class="text-4xl font-bold mb-6">${i.title||"Untitled"}</h1>
          <div class="prose prose-lg">${i.intro||"Start editing..."}</div>
          <div class="mt-8 prose prose-lg">${i.body||""}</div>
        </div>
      `;Ce.setComponents(le),c(!0)}else Ce.setComponents('<div class="max-w-4xl mx-auto px-4 py-8"><h1 class="text-4xl font-bold mb-6">Untitled</h1><div class="prose prose-lg">Start editing...</div></div>'),c(!0)},ie=async Ce=>{if(!e||!r){Nt.error("User ID and Topic ID are required!");return}re(!0);try{const le=await Wt.post(`${U}/generate`,{user_id:e,topic_id:r,prompt:Ce,content:M()},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(le.data.error)Nt.error(le.data.error);else{const{content:be}=le.data;s(We=>({...We,body:be}));const Te=t.getSelected();if(Te)if(typeof Te.replaceWith=="function"){const We=t.addComponents(be)[0];Te.replaceWith(We),Nt.success("Content generated/modified in selected container!")}else typeof Te.components=="function"?(Te.components().reset(),Te.append(be),Nt.success("Content generated/modify in selected container!")):typeof Te.setContent=="function"?(Te.setContent(be),Nt.success("Content generated/modified in selected container!")):(console.warn("Selected component does not support content modification. Falling back to editor update."),t.setComponents(be),Nt.success("Content generated/modified in editor!"));else t.setComponents(be),Nt.success("Content generated/modified in editor!")}}catch(le){console.error("Generate/modify error:",le),Nt.error("Failed to generate/modify content")}finally{re(!1)}},M=()=>{const Ce=t.getSelected();return Ce?typeof Ce.getHtml=="function"?Ce.getHtml():typeof Ce.get=="function"?Ce.get("content")||Ce.get("html")||Ce.toHTML():Ce.toHTML?Ce.toHTML():"":""},we=async()=>{if(!t)return;const Ce=t.getHtml(),le=`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${(i==null?void 0:i.title)||"Webpage"}</title><style>${t.getCss()}</style></head><body>${Ce}</body></html>`;try{re(!0),(await Wt.post(`${U}/save_webpage`,{user_id:e,topic_id:r,html_content:le},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data.success?(Ai=le,Nt.success("Webpage saved successfully!")):Nt.error("Failed to save webpage")}catch(be){console.error("Save webpage error:",be),Nt.error("Error saving webpage")}finally{re(!1)}},oe=async()=>{if(t){re(!0);try{const Ce=`<!DOCTYPE html><html lang="en"><head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${(i==null?void 0:i.title)||"Webpage"}</title>
        <meta property="og:title" content="${(i==null?void 0:i.title)||"Webpage"}">
        <meta property="og:description" content="${(i==null?void 0:i.intro)||"Check out this webpage created with our editor!"}">
        <meta property="og:image" content="${S||"https://via.placeholder.com/1200x627?text=Preview+Image"}">
        <meta property="og:type" content="website">
        <style>${t.getCss()}</style>
      </head><body>${t.getHtml()}</body></html>`,le=await Wt.post(`${U}/upload_to_s3`,{user_id:e,topic_id:r,html_content:Ce},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(le.data.s3_url){const be=le.data.s3_url;N(be);const Te=Ce.replace("</head>",`<meta property="og:url" content="${be}"></head>`);await Wt.post(`${U}/upload_to_s3`,{user_id:e,topic_id:r,html_content:Te},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Nt.success("Webpage hosted successfully!")}else Nt.error("Failed to upload webpage")}catch(Ce){console.error("Host webpage error:",Ce),Nt.error("Error uploading to S3")}finally{re(!1)}}},xe=async()=>{if(!x){Nt.error("Please enter an image prompt");return}re(!0);try{const Ce=await Wt.post(`${U}/generate_image`,{prompt:x},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});Ce.data.image_url&&(T(Ce.data.image_url),Nt.success("Image generated successfully!"))}catch(Ce){console.error("Generate image error:",Ce),Nt.error("Failed to generate image")}finally{re(!1)}},De=()=>{t&&S&&(t.addComponents(`
        <img src="${S}" alt="AI Generated Image" class="max-w-full h-auto rounded-lg shadow-lg my-8"/>
      `),Nt.success("Image added to editor"))},se=async()=>{if(!e||!r){Nt.error("User ID and Topic ID are required!");return}re(!0);try{const Ce=await Wt.post(`${U}/generate_template`,{user_id:e,topic_id:r,additional_prompt:g},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});Ce.data.html&&(t.setComponents(Ce.data.html),Nt.success("AI template generated successfully!"))}catch(Ce){console.error("Generate AI template error:",Ce),Nt.error("Failed to generate AI template")}finally{re(!1)}},Ee=()=>{if(!E){Nt.error("Please host the page first!");return}const Ce=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(E)}`;window.open(Ce,"_blank","noopener,noreferrer"),Nt.success("Opening LinkedIn sharing dialog")},ze=()=>{if(!t)return;const Ce=`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${(i==null?void 0:i.title)||"Preview"}</title><style>${t.getCss()}</style></head><body>${t.getHtml()}</body></html>`,le=new Blob([Ce],{type:"text/html"}),be=URL.createObjectURL(le);window.open(be,"_blank")},Pe=()=>{if(!t)return;const Ce=`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>${(i==null?void 0:i.title)||"Webpage"}</title><style>${t.getCss()}</style></head><body>${t.getHtml()}</body></html>`,le=new Blob([Ce],{type:"text/html"}),be=document.createElement("a");be.href=URL.createObjectURL(le),be.download=`${(i==null?void 0:i.title)||"webpage"}.html`,be.click(),Nt.success("HTML exported successfully!")};return Ye.jsx("div",{className:"space-y-6",children:Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 space-y-4",children:[Ye.jsxs("div",{className:"flex justify-between items-center",children:[Ye.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Webpage Editor"}),Ye.jsxs("div",{className:"flex gap-4",children:[Ye.jsxs("button",{onClick:()=>h(!f),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[Ye.jsx(yL,{className:"h-4 w-4 mr-2"}),f?"Hide AI Template":"Generate AI Template"]}),Ye.jsxs("button",{onClick:()=>_(!y),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[Ye.jsx(vL,{className:"h-4 w-4 mr-2"}),y?"Hide AI Image":"Generate AI Image"]}),Ye.jsxs("button",{onClick:()=>Q(!ue),className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[Ye.jsx(hL,{className:"h-4 w-4 mr-2"}),ue?"Hide Blog Generator":"Generate/Modify"]}),Ye.jsxs("button",{onClick:we,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-gray-600 rounded-md hover:bg-gray-700",children:[Ye.jsx(bL,{className:"h-4 w-4 mr-2"}),"Save Webpage"]}),Ye.jsxs("button",{onClick:ze,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md hover:bg-purple-700",children:[Ye.jsx(pL,{className:"h-4 w-4 mr-2"}),"Preview"]}),Ye.jsxs("button",{onClick:Pe,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-teal-600 rounded-md hover:bg-teal-700",children:[Ye.jsx(dL,{className:"h-4 w-4 mr-2"}),"Export HTML"]})]})]}),f&&Ye.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[Ye.jsx("textarea",{value:g,onChange:Ce=>m(Ce.target.value),placeholder:"Enter additional template instructions...",className:"w-full px-4 py-2 border rounded-md h-24 resize-none"}),Ye.jsx("button",{onClick:se,disabled:K,className:"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center",children:K?Ye.jsx(lc,{className:"animate-spin h-4 w-4 mr-2"}):"Generate AI Template"})]}),y&&Ye.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[Ye.jsx("input",{type:"text",value:x,onChange:Ce=>C(Ce.target.value),placeholder:"Enter image prompt...",className:"w-full px-4 py-2 border rounded-md"}),Ye.jsxs("div",{className:"flex gap-4",children:[Ye.jsx("button",{onClick:xe,disabled:K,className:"flex-1 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:K?Ye.jsx(lc,{className:"animate-spin h-4 w-4 mx-auto"}):"Generate Image"}),S&&Ye.jsx("button",{onClick:De,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add to Editor"})]}),S&&Ye.jsx("img",{src:S,alt:"AI Generated",className:"max-w-full h-auto rounded-lg shadow-sm"})]}),ue&&Ye.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[Ye.jsx("textarea",{value:$,onChange:Ce=>te(Ce.target.value),placeholder:"Enter prompt to generate or modify content...",className:"w-full px-4 py-2 border rounded-md h-24 resize-none"}),Ye.jsx("button",{onClick:()=>ie($),disabled:K,className:"w-full py-2 px-4 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center",children:K?Ye.jsx(lc,{className:"animate-spin h-4 w-4 mr-2"}):"Generate/Modify Content"}),Ye.jsx("p",{className:"text-sm text-gray-500",children:"Select a container or box and use the toolbar button (edit icon) or button above to generate/modify content."})]}),Ye.jsx("div",{id:"gjs",className:"border rounded-lg min-h-[70vh]"}),Ye.jsx("div",{className:"flex justify-end mt-6",children:Ye.jsx("button",{onClick:oe,disabled:K,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:K?"Hosting...":"Host Webpage"})}),E&&Ye.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[Ye.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Webpage Hosted!"}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:E}),Ye.jsxs("button",{onClick:Ee,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-[#0A66C2] rounded-md hover:bg-[#004182]",children:[Ye.jsx(gL,{className:"h-4 w-4 mr-2"}),"Share on LinkedIn"]})]})]})]})})}function fH(){const[n,r]=Ve.useState(!!localStorage.getItem("token"));return Ye.jsx(iL,{children:Ye.jsxs("div",{className:"min-h-screen bg-gray-100",children:[Ye.jsx(rM,{isAuthenticated:n,setIsAuthenticated:r}),Ye.jsx("div",{className:"py-6",children:Ye.jsxs(ZA,{children:[Ye.jsx(Sd,{path:"/login",element:Ye.jsx(vb,{setIsAuthenticated:r})}),Ye.jsx(Sd,{path:"/",element:n?Ye.jsx(fN,{}):Ye.jsx(vb,{setIsAuthenticated:r})}),Ye.jsx(Sd,{path:"/editor/:topicId",element:Ye.jsx(cH,{})})]})})]})})}qS(document.getElementById("root")).render(Ye.jsx(Ve.StrictMode,{children:Ye.jsx(fH,{})}));
